LAMMPS (16 Mar 2018)
# ---- initialize simulations
clear
units metal
dimension 3
boundary p p p
atom_style charge
atom_modify map array
# ---- create atoms
read_data /home/manuelesp/repos/pypospack/dev/MgO_iterative_sampler/rank_4/MgO_NaCl_fr_c.lmps_min_pos/lammps.structure
  triclinic box = (0 0 0) to (12.2076 12.2076 12.2076) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  216 atoms
# ---- define interatomic potential
include potential.mod
mass 1 24.305
mass 2 15.999

group Mg type 1
108 atoms in group Mg
group O type 2
108 atoms in group O

set group Mg charge 2.1466418992637664
  108 settings made for charge
set group O charge -2.1466418992637664
  108 settings made for charge

variable R_cut equal 10.0

pair_style buck/coul/long ${R_cut}
pair_style buck/coul/long 10
pair_coeff 1 1 0.0 0.5 0.0 ${R_cut}
pair_coeff 1 1 0.0 0.5 0.0 10
pair_coeff 1 2 1089.4134673757053 0.31058320000297174 0.0 ${R_cut}
pair_coeff 1 2 1089.4134673757053 0.31058320000297174 0.0 10
pair_coeff 2 2 18983.219085212437 0.12673144022038657 73.4670102644071 ${R_cut}
pair_coeff 2 2 18983.219085212437 0.12673144022038657 73.4670102644071 10

kspace_style pppm 1.0e-5

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
# ---- define settings
compute eng all pe/atom
compute eatoms all reduce sum c_eng

# ---- run minimization
reset_timestep 0
thermo 1
thermo_style custom step pe lx ly lz xy xz yz press pxx pyy pzz pxy pxz pyz c_eatoms
min_style cg
minimize 1e-20 1e-20 1000 100000
PPPM initialization ...
  using 12-bit tables for long-range coulomb (../kspace.cpp:321)
  G vector (1/distance) = 0.348024
  grid = 20 20 20
  stencil order = 5
  estimated absolute RMS force accuracy = 0.000112659
  estimated relative force accuracy = 7.82372e-06
  using double precision FFTs
  3d grid and FFT values/proc = 19683 8000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 3 3 3
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair buck/coul/long, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 7.318 | 7.318 | 7.318 Mbytes
Step PotEng Lx Ly Lz Xy Xz Yz Press Pxx Pyy Pzz Pxy Pxz Pyz c_eatoms 
       0   -5184.3042      12.2076      12.2076      12.2076            0            0            0    19380.421     16578.84    20781.212    20781.212   -875.84949   -875.84949   -1011.8218   -5184.3042 
       1   -5211.9157      12.2076      12.2076      12.2076            0            0            0    20943.635    21543.688    20643.609    20643.609   -397.33955   -397.33955   -246.25759   -5211.9157 
       2    -5217.868      12.2076      12.2076      12.2076            0            0            0    28897.206    30973.664    27858.977    27858.977   -423.86873   -423.86873   -80.956847    -5217.868 
       3   -5219.6866      12.2076      12.2076      12.2076            0            0            0    26937.908    27768.857    26522.433    26522.433   -126.06468   -126.06468    118.14985   -5219.6866 
       4   -5220.3936      12.2076      12.2076      12.2076            0            0            0    28006.217    29631.695    27193.478    27193.478   -238.09963   -238.09963    8.0195765   -5220.3936 
       5   -5220.6374      12.2076      12.2076      12.2076            0            0            0    28330.468    29431.997    27779.704    27779.704   -354.95284   -354.95284   -103.54277   -5220.6374 
       6   -5220.7323      12.2076      12.2076      12.2076            0            0            0    28294.243    29721.844    27580.443    27580.443    -556.6572    -556.6572   -209.22851   -5220.7323 
       7   -5220.7629      12.2076      12.2076      12.2076            0            0            0    28506.731    30050.725    27734.733    27734.733   -601.10473   -601.10473   -187.79703   -5220.7629 
       8   -5220.7849      12.2076      12.2076      12.2076            0            0            0     28415.64    30105.576    27570.672    27570.672   -659.64762   -659.64762    -208.4107   -5220.7849 
       9   -5220.7932      12.2076      12.2076      12.2076            0            0            0    28601.558     30319.18    27742.747    27742.747   -738.59888   -738.59888     -230.389   -5220.7932 
      10   -5220.8002      12.2076      12.2076      12.2076            0            0            0    28572.058    30331.011    27692.581    27692.581   -800.19073   -800.19073   -271.82402   -5220.8002 
      11   -5220.8038      12.2076      12.2076      12.2076            0            0            0    28599.764    30453.781    27672.755    27672.755   -827.01718   -827.01718   -292.57214   -5220.8038 
      12   -5220.8073      12.2076      12.2076      12.2076            0            0            0    28624.271    30614.699    27629.057    27629.057   -842.43835   -842.43835   -289.05194   -5220.8073 
      13   -5220.8113      12.2076      12.2076      12.2076            0            0            0    28586.727    30757.812    27501.185    27501.185    -900.7543    -900.7543   -311.57594   -5220.8113 
      14   -5220.8165      12.2076      12.2076      12.2076            0            0            0    28718.171    31117.841    27518.336    27518.336   -1001.4077   -1001.4077   -389.89815   -5220.8165 
      15   -5220.8232      12.2076      12.2076      12.2076            0            0            0    28635.816    31391.598    27257.925    27257.925   -1068.4574   -1068.4574   -465.55723   -5220.8232 
      16   -5220.8308      12.2076      12.2076      12.2076            0            0            0    28713.319    31759.479    27190.238    27190.238   -1191.6276   -1191.6276   -572.98724   -5220.8308 
      17   -5220.8413      12.2076      12.2076      12.2076            0            0            0    28739.644    32391.377    26913.777    26913.777   -1392.1512   -1392.1512   -791.86833   -5220.8413 
      18   -5220.8816      12.2076      12.2076      12.2076            0            0            0     28865.73    33965.407    26315.892    26315.892    -1789.775   -1789.7748   -1109.8235   -5220.8816 
      19    -5220.907      12.2076      12.2076      12.2076            0            0            0     29145.51    34706.778    26364.876    26364.876   -1863.0685   -1863.0687   -1144.2727    -5220.907 
      20   -5220.9495      12.2076      12.2076      12.2076            0            0            0    29474.876      34930.4    26747.115    26747.114   -2071.9242   -2071.9257   -1403.7609   -5220.9495 
      21   -5220.9877      12.2076      12.2076      12.2076            0            0            0    29410.228    34924.691    26652.996    26652.996    -2172.784   -2172.7822   -1451.9868   -5220.9877 
      22   -5221.0076      12.2076      12.2076      12.2076            0            0            0    29403.673    34960.231    26625.393    26625.395   -2161.8253   -2161.8231   -1383.7641   -5221.0076 
      23   -5221.0223      12.2076      12.2076      12.2076            0            0            0    29304.146    34975.997    26468.213    26468.227   -2074.7339   -2074.7258   -1247.0085   -5221.0223 
      24   -5221.0319      12.2076      12.2076      12.2076            0            0            0    29366.498    34775.519    26661.984    26661.992   -2011.1271   -2011.1333   -1233.5103   -5221.0319 
      25   -5221.0398      12.2076      12.2076      12.2076            0            0            0    29336.789     34579.25    26715.564    26715.554   -1950.3844   -1950.3904   -1216.6975   -5221.0398 
      26   -5221.0463      12.2076      12.2076      12.2076            0            0            0    29260.973      34342.9    26720.011    26720.008   -1856.9994   -1856.9982   -1108.5343   -5221.0463 
      27   -5221.0525      12.2076      12.2076      12.2076            0            0            0    29152.507        34202    26627.779    26627.742   -1759.4211   -1759.4226   -1005.0485   -5221.0525 
      28   -5221.0594      12.2076      12.2076      12.2076            0            0            0    29030.016    33842.169    26623.929    26623.949   -1591.6968   -1591.7058   -868.05174   -5221.0594 
      29   -5221.0675      12.2076      12.2076      12.2076            0            0            0     28971.49    33649.824    26632.329    26632.317    -1412.392   -1412.3919   -692.45095   -5221.0675 
      30   -5221.0771      12.2076      12.2076      12.2076            0            0            0     28730.69    33311.448    26440.308    26440.313   -1185.3574   -1185.3572   -422.53806   -5221.0771 
      31    -5221.099      12.2076      12.2076      12.2076            0            0            0    28513.361    33063.231    26238.416    26238.436   -659.84954   -659.83573    192.52457    -5221.099 
      32   -5221.1349      12.2076      12.2076      12.2076            0            0            0    28161.518    32491.428     25996.57    25996.556     70.69222    70.699704    1048.1685   -5221.1349 
      33   -5221.1674      12.2076      12.2076      12.2076            0            0            0    27873.485    31992.976    25813.751    25813.727    192.48383    192.49331    1192.0063   -5221.1674 
      34   -5221.1869      12.2076      12.2076      12.2076            0            0            0    27938.793    31953.814    25931.276    25931.291    139.89608    139.92006     1201.609   -5221.1869 
      35      -5221.2      12.2076      12.2076      12.2076            0            0            0    27940.488    31867.162    25977.148    25977.156    61.950812    61.949738    1127.6951      -5221.2 
      36   -5221.2084      12.2076      12.2076      12.2076            0            0            0    28026.056    32005.823     26036.17    26036.173    124.30891    124.29594    1232.9297   -5221.2084 
      37   -5221.2131      12.2076      12.2076      12.2076            0            0            0    28069.346    31992.554    26107.737    26107.747    184.65771    184.65013    1280.2284   -5221.2131 
      38   -5221.2156      12.2076      12.2076      12.2076            0            0            0    28101.033    31999.727     26151.68     26151.69    190.16567    190.15673    1281.4118   -5221.2156 
      39   -5221.2175      12.2076      12.2076      12.2076            0            0            0    28135.312    32009.252     26198.32    26198.365    167.69174    167.70252    1221.1033   -5221.2175 
      40   -5221.2185      12.2076      12.2076      12.2076            0            0            0    28182.429    32067.336    26239.964    26239.989    152.51801    152.52471    1203.1849   -5221.2185 
      41   -5221.2191      12.2076      12.2076      12.2076            0            0            0     28174.92    32053.488    26235.648    26235.624    159.15805    159.15344    1207.0184   -5221.2191 
      42   -5221.2196      12.2076      12.2076      12.2076            0            0            0    28174.484    32062.326    26230.581    26230.546    158.05467    158.06317    1212.6909   -5221.2196 
      43   -5221.2198      12.2076      12.2076      12.2076            0            0            0    28172.134    32058.236    26229.081    26229.085     152.7342    152.73907    1198.8794   -5221.2198 
      44   -5221.2199      12.2076      12.2076      12.2076            0            0            0    28172.726    32062.393    26227.905    26227.879    143.62315    143.60296     1190.296   -5221.2199 
      45     -5221.22      12.2076      12.2076      12.2076            0            0            0    28174.915    32061.142      26231.8    26231.801    138.55059    138.56636    1186.9098     -5221.22 
      46     -5221.22      12.2076      12.2076      12.2076            0            0            0    28171.713    32060.732    26227.218     26227.19    133.53564    133.52977    1182.4328     -5221.22 
      47     -5221.22      12.2076      12.2076      12.2076            0            0            0    28171.713    32060.732    26227.218     26227.19    133.53564    133.52977    1182.4328     -5221.22 
Loop time of 1.62172 on 1 procs for 47 steps with 216 atoms

68.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -5184.30422745     -5221.22004044     -5221.22004044
  Force two-norm initial, final = 74.299 0.0340647
  Force max component initial, final = 13.7083 0.00460307
  Final line search alpha, max atom move = 7.62939e-06 3.51187e-08
  Iterations, force evaluations = 47 151

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.0838     | 1.0838     | 1.0838     |   0.0 | 66.83
Kspace  | 0.50078    | 0.50078    | 0.50078    |   0.0 | 30.88
Neigh   | 0.030259   | 0.030259   | 0.030259   |   0.0 |  1.87
Comm    | 0.003948   | 0.003948   | 0.003948   |   0.0 |  0.24
Output  | 0.001435   | 0.001435   | 0.001435   |   0.0 |  0.09
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001534   |            |       |  0.09

Nlocal:    216 ave 216 max 216 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    4697 ave 4697 max 4697 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    73749 ave 73749 max 73749 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 73749
Ave neighs/atom = 341.431
Neighbor list builds = 3
Dangerous builds = 0

# ---- define output variables ----
variable natoms equal "count(all)"
variable tot_energy equal "c_eatoms"
variable a11 equal "xhi-xlo"
variable a22 equal "yhi-ylo"
variable a33 equal "zhi-zlo"
variable tilt_xy equal "xy"
variable tilt_xz equal "xz"
variable tilt_yz equal "yz"
variable tot_press equal "press"
variable press_xx equal "pxx"
variable press_yy equal "pyy"
variable press_zz equal "pzz"
variable press_xy equal "pxy"
variable press_xz equal "pxz"
variable press_yz equal "pyz"

# ---- output ----
print "pypospack:output_section:begin"
pypospack:output_section:begin
print "tot_energy = ${tot_energy}"
tot_energy = -5221.22004043939
print "num_atoms = ${natoms}"
num_atoms = 216
print "a11 = ${a11}"
a11 = 12.2076
print "a22 = ${a22}"
a22 = 12.2076
print "a33 = ${a33}"
a33 = 12.2076
print "a12 = ${tilt_xy}"
a12 = 0
print "a13 = ${tilt_xz}"
a13 = 0
print "a23 = ${tilt_yz}"
a23 = 0
print "tot_press = ${tot_press}"
tot_press = 28171.7134039912
print "pxx = ${press_xx}"
pxx = 32060.7319166081
print "pyy = ${press_yy}"
pyy = 26227.2179436782
print "pzz = ${press_zz}"
pzz = 26227.1903516874
print "pxy = ${press_xy}"
pxy = 133.535644527605
print "pxz = ${press_xz}"
pxz = 133.529768411193
print "pyz = ${press_yz}"
pyz = 1182.43284330717
print "pypospack:output_section:done"
pypospack:output_section:done
print "pypospack:lammps_sim:done"
pypospack:lammps_sim:done
Total wall time: 0:00:01
