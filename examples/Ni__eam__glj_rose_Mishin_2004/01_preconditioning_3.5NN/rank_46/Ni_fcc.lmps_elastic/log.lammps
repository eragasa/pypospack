LAMMPS (11 Aug 2017)
include init.mod
# ---- init.mod file
variable up equal 1.0e-6
units metal
dimension 3
boundary p p p
atom_style atomic
atom_modify map array
variable cfac equal 1.0e-4
variable cunits string GPa
# ---- define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2
# --- read data structure
read_data lammps.structure
  triclinic box = (0 0 0) to (3.5167 3.5167 3.5167) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no
# ---- Compute initial state
fix 3 all box/relax aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0   -17.915257    15557.245    15557.245    15557.245    15557.245 6.8455237e-13 6.4260537e-12 1.1698854e-12       3.5167       3.5167       3.5167    43.491658 
       1            0   -17.915381     14983.21     14983.21     14983.21     14983.21 -8.5748678e-11 -8.7153931e-11 -8.5950785e-11    3.5170517    3.5170517    3.5170517    43.504707 
       2            0   -17.915501    14407.648    14407.648    14407.648    14407.648 -1.4569188e-12 5.320157e-12 8.1258299e-12    3.5174033    3.5174033    3.5174033    43.517758 
       3            0   -17.915616    13830.654    13830.654    13830.654    13830.654 1.5913907e-10 1.5476429e-10 1.5384487e-10     3.517755     3.517755     3.517755    43.530812 
       4            0   -17.915726    13254.804    13254.804    13254.804    13254.804 1.0918731e-10 1.2180228e-11 1.5292624e-11    3.5181067    3.5181067    3.5181067    43.543869 
       5            0   -17.915832    12680.375    12680.375    12680.375    12680.375 -1.6717186e-10 1.6480423e-10 1.6016497e-10    3.5184583    3.5184583    3.5184583    43.556928 
       6            0   -17.915933    12108.036    12108.036    12108.036    12108.036 1.0199249e-13 -8.5730536e-11 2.6571465e-12      3.51881      3.51881      3.51881     43.56999 
       7            0   -17.916029    11534.183    11534.183    11534.183    11534.183 7.9932522e-12 8.775773e-11 4.9514351e-12    3.5191617    3.5191617    3.5191617    43.583054 
       8            0   -17.916121    10945.863    10945.863    10945.863    10945.863 1.5441658e-10 -7.5424487e-11 -7.7338988e-11    3.5195134    3.5195134    3.5195134    43.596122 
       9            0   -17.916208    10343.296    10343.296    10343.296    10343.296 -1.5660856e-10 -1.5397702e-10 -1.540507e-10     3.519865     3.519865     3.519865    43.609191 
      10            0    -17.91629    9745.6064    9745.6064    9745.6064    9745.6064 4.0986412e-12 -1.5624464e-12 -1.6558547e-12    3.5202167    3.5202167    3.5202167    43.622263 
      11            0   -17.916367    9165.6276    9165.6276    9165.6276    9165.6276 3.3436761e-12 8.7098439e-11 4.7976488e-12    3.5205684    3.5205684    3.5205684    43.635338 
      12            0   -17.916439    8601.9114    8601.9114    8601.9114    8601.9114 -9.5812469e-11 -9.4023758e-11 7.1317018e-11      3.52092      3.52092      3.52092    43.648416 
      13            0   -17.916507     8037.402     8037.402     8037.402     8037.402 -1.6783942e-10 5.5796473e-12 6.0181397e-12    3.5212717    3.5212717    3.5212717    43.661496 
      14            0    -17.91657    7472.1332    7472.1332    7472.1332    7472.1332 -6.1350347e-11 -7.5910328e-11 7.8078845e-11    3.5216234    3.5216234    3.5216234    43.674579 
      15            0   -17.916629    6906.4734    6906.4734    6906.4734    6906.4734 2.8990613e-11 2.5707772e-12 4.6450494e-12     3.521975     3.521975     3.521975    43.687664 
      16            0   -17.916683    6341.2414    6341.2414    6341.2414    6341.2414 8.4707514e-11 1.6936901e-10 -7.3821739e-11    3.5223267    3.5223267    3.5223267    43.700752 
      17            0   -17.916733    5774.1779    5774.1779    5774.1779    5774.1779 -9.1055143e-12 -3.896427e-12 -4.5282549e-12    3.5226784    3.5226784    3.5226784    43.713843 
      18            0   -17.916778    5206.3275    5206.3275    5206.3275    5206.3275 1.5868421e-10 1.1339593e-11 1.3425565e-11    3.5230301    3.5230301    3.5230301    43.726936 
      19            0   -17.916818    4636.8155    4636.8155    4636.8155    4636.8155 2.3960923e-13 6.7904252e-12 6.7834753e-12    3.5233817    3.5233817    3.5233817    43.740032 
      20            0   -17.916853    4057.6883    4057.6883    4057.6883    4057.6883 1.4784778e-11 -1.1833343e-12 2.7372612e-14    3.5237334    3.5237334    3.5237334     43.75313 
      21            0   -17.916884    3469.0998    3469.0998    3469.0998    3469.0998 -7.262802e-11 -9.0184751e-12 -5.2773638e-12    3.5240851    3.5240851    3.5240851    43.766231 
      22            0    -17.91691    2885.8324    2885.8324    2885.8324    2885.8324 -5.8236217e-13 -6.3261239e-12 -3.7663714e-12    3.5244367    3.5244367    3.5244367    43.779335 
      23            0   -17.916931    2317.2092    2317.2092    2317.2092    2317.2092 -5.0127564e-12 1.5067391e-11 1.7662109e-11    3.5247884    3.5247884    3.5247884    43.792441 
      24            0   -17.916948    1761.5959    1761.5959    1761.5959    1761.5959 1.6973818e-10 -8.8375739e-12 -1.6367164e-10    3.5251401    3.5251401    3.5251401     43.80555 
      25            0    -17.91696    1205.6704    1205.6704    1205.6704    1205.6704 -1.0704943e-11 1.6718453e-11 1.8008509e-11    3.5254917    3.5254917    3.5254917    43.818662 
      26            0   -17.916968    650.76703    650.76703    650.76703    650.76703 -7.413356e-11 4.8425754e-12 5.945036e-12    3.5258434    3.5258434    3.5258434    43.831776 
      27            0   -17.916971    97.232374    97.232374    97.232374    97.232374 8.9497013e-11 1.0999533e-11 -6.6227219e-11    3.5261951    3.5261951    3.5261951    43.844892 
      28            0   -17.916971   0.13216909   0.13216909   0.13216909   0.13216909 8.1902241e-11 9.837797e-13 4.9795616e-12    3.5262569    3.5262569    3.5262569    43.847199 
      29            0   -17.916971   -19.778079   -19.778079   -19.778079   -19.778079 -1.5402226e-10 7.2564464e-11 1.5822212e-10    3.5262696    3.5262696    3.5262696    43.847672 
      30            0   -17.916971    9.3659907    9.3659907    9.3659907    9.3659907 8.4588902e-11 -7.5506609e-11 1.6663817e-10    3.5262511    3.5262511    3.5262511     43.84698 
      31            0   -17.916973    38.925091    38.925091    38.925091    38.925091 1.7466368e-10 -1.6730946e-10 -1.6893207e-10    3.5262326    3.5262326    3.5262326    43.846292 
      32            0   -17.916978   -513.05399   -513.05399   -513.05399   -513.05399 -9.4518274e-11 -1.4843203e-10 2.7264082e-10    3.5265843    3.5265843    3.5265843    43.859412 
      33            0   -17.916988   -1065.3756   -1065.3756   -1065.3756   -1065.3756 -8.6963488e-11 2.4171746e-12 -1.5566417e-10     3.526936     3.526936     3.526936    43.872534 
      34            0   -17.917018   -1611.7146   -1611.7146   -1611.7146   -1611.7146 7.8498956e-11 -2.4750555e-10 1.5961809e-10    3.5272876    3.5272876    3.5272876    43.885659 
      35            0   -17.917462   -2006.0372   -2006.0372   -2006.0372   -2006.0372 1.835992e-10 1.2486435e-10 4.0659157e-11    3.5276393    3.5276393    3.5276393    43.898786 
      36            0   -17.917571   -1411.1551   -1411.1551   -1411.1551   -1411.1551 -2.0986557e-10 -3.464573e-10 3.7863615e-10    3.5272876    3.5272876    3.5272876    43.885659 
      37            0   -17.917587   -847.91301   -847.91301   -847.91301   -847.91301 1.0479776e-10 4.4802965e-11 -4.5408453e-10     3.526936     3.526936     3.526936    43.872534 
      38            0   -17.917604   -287.10461   -287.10461   -287.10461   -287.10461 -9.0383291e-11 -2.4949136e-10 -9.2446385e-11    3.5265843    3.5265843    3.5265843    43.859412 
      39            0   -17.917639    278.56555    278.56555    278.56555    278.56555 2.6630128e-10 -3.3274557e-10 -4.7882545e-11    3.5262326    3.5262326    3.5262326    43.846292 
      40            0   -17.917691   -255.49327   -255.49327   -255.49327   -255.49327 1.6131126e-10 -4.4941808e-12 -4.6984612e-11    3.5265843    3.5265843    3.5265843    43.859412 
      41            0   -17.917752    319.14815    319.14815    319.14815    319.14815 -8.6047064e-11 -1.3523873e-11 -1.7820633e-10    3.5262326    3.5262326    3.5262326    43.846292 
      42            0   -17.917805   -214.60442   -214.60442   -214.60442   -214.60442 3.2210889e-10 -1.1928916e-11 7.5162158e-11    3.5265843    3.5265843    3.5265843    43.859412 
      43            0   -17.917887    367.81765    367.81765    367.81765    367.81765 1.665988e-10 3.3085509e-11 9.2660373e-12    3.5262326    3.5262326    3.5262326    43.846292 
      44            0    -17.91794   -166.06134   -166.06134   -166.06134   -166.06134 3.6167465e-11 -3.8022229e-10 -2.1666877e-11    3.5265843    3.5265843    3.5265843    43.859412 
      45            0   -17.918034    420.84301    420.84301    420.84301    420.84301 -1.8690829e-10 1.0485218e-10 -3.2928484e-10    3.5262326    3.5262326    3.5262326    43.846292 
      46            0   -17.918086   -113.49544   -113.49544   -113.49544   -113.49544 2.8137866e-10 -2.288126e-10 -1.0218753e-10    3.5265843    3.5265843    3.5265843    43.859412 
      47            0   -17.918295     515.2045     515.2045     515.2045     515.2045 2.1730274e-10 -1.1734789e-10 -2.8872033e-10    3.5262326    3.5262326    3.5262326    43.846292 
      48            0    -17.91835   -18.436709   -18.436709   -18.436709   -18.436709 1.2545105e-10 -1.3348719e-10 -5.5370441e-11    3.5265843    3.5265843    3.5265843    43.859412 
      49            0   -17.924159    2658.7424    2658.7424    2658.7424    2658.7424 5.7680651e-10 -5.021909e-10 -1.4327785e-10    3.5262326    3.5262326    3.5262326    43.846292 
      50            0    -17.92433    2146.9077    2146.9077    2146.9077    2146.9077 5.713534e-10 -7.461076e-10 -6.4735311e-10    3.5265843    3.5265843    3.5265843    43.859412 
      51            0   -17.924399    1611.5171    1611.5171    1611.5171    1611.5171 4.0904385e-10 -3.4497993e-10 -2.8600434e-10     3.526936     3.526936     3.526936    43.872534 
      52            0   -17.924483    1084.5611    1084.5611    1084.5611    1084.5611 5.3288025e-10 -5.570554e-10 9.9405555e-11    3.5272876    3.5272876    3.5272876    43.885659 
      53            0     -17.9246    571.44637    571.44637    571.44637    571.44637  5.88871e-10 -5.6877839e-10 -5.6556307e-10    3.5276393    3.5276393    3.5276393    43.898786 
      54            0   -17.924816    96.368207    96.368207    96.368207    96.368207 3.4912994e-10 -7.5745274e-10 -3.2138491e-10     3.527991     3.527991     3.527991    43.911917 
      55            0   -17.926081  -0.74347299    -0.743473    -0.743473  -0.74347298 7.1446124e-10 -3.2426393e-10 -4.6247435e-10    3.5283426    3.5283426    3.5283426    43.925049 
      56            0   -17.955335    10456.277    10456.277    10456.277    10456.277 1.5799966e-09 -1.5700198e-09 -1.192029e-09    3.5286943    3.5286943    3.5286943    43.938185 
      57            0   -17.955711    10009.123    10009.123    10009.123    10009.123 1.5692222e-09 -1.3582748e-09 -1.0327636e-09     3.529046     3.529046     3.529046    43.951323 
      58            0   -17.955848    9460.5513    9460.5513    9460.5513    9460.5513 1.8372495e-09 -1.4494065e-09 -1.0169179e-09    3.5293976    3.5293976    3.5293976    43.964463 
      59            0   -17.955984    8900.6671    8900.6671    8900.6671    8900.6671 1.5677847e-09 -1.6903463e-09 -9.8257492e-10    3.5297493    3.5297493    3.5297493    43.977606 
      60            0    -17.95612    8337.3226    8337.3226    8337.3226    8337.3226 1.4902496e-09 -1.5153496e-09 -8.5430314e-10     3.530101     3.530101     3.530101    43.990752 
      61            0   -17.956257    7790.3736    7790.3736    7790.3736    7790.3736 1.7315373e-09 -1.4770405e-09 -7.5919359e-10    3.5304527    3.5304527    3.5304527    44.003901 
      62            0   -17.956394    7260.8201    7260.8201    7260.8201    7260.8201  1.95088e-09 -1.6070053e-09 -1.2716611e-09    3.5308043    3.5308043    3.5308043    44.017052 
      63            0   -17.956533    6741.8533    6741.8533    6741.8533    6741.8533 1.9058492e-09 -1.4378814e-09 -1.3070871e-09     3.531156     3.531156     3.531156    44.030205 
      64            0   -17.956676    6223.1533    6223.1533    6223.1533    6223.1533 1.8449219e-09 -1.5606135e-09 -8.5176713e-10    3.5315077    3.5315077    3.5315077    44.043362 
      65            0   -17.956822    5706.8054    5706.8054    5706.8054    5706.8054 1.8935372e-09 -1.4657588e-09 -9.5587932e-10    3.5318593    3.5318593    3.5318593    44.056521 
      66            0   -17.956973    5194.0076    5194.0076    5194.0076    5194.0076 1.6659654e-09 -1.6484225e-09 -1.0699337e-09     3.532211     3.532211     3.532211    44.069682 
      67            0   -17.957132    4685.4388    4685.4388    4685.4388    4685.4388 1.9779327e-09 -1.5792671e-09 -1.2169985e-09    3.5325627    3.5325627    3.5325627    44.082846 
      68            0     -17.9573    4180.5038    4180.5038    4180.5038    4180.5038 1.6130887e-09 -1.5281977e-09 -1.4250523e-09    3.5329143    3.5329143    3.5329143    44.096013 
      69            0   -17.957482    3680.5164    3680.5164    3680.5164    3680.5164 1.6870913e-09 -1.4907086e-09 -1.0529256e-09     3.533266     3.533266     3.533266    44.109182 
      70            0   -17.957681    3189.7456    3189.7456    3189.7456    3189.7456 1.9768043e-09 -1.4117941e-09 -9.2607242e-10    3.5336177    3.5336177    3.5336177    44.122354 
      71            0   -17.957905    2702.4106    2702.4106    2702.4106    2702.4106 1.7864229e-09 -1.436113e-09 -1.151751e-09    3.5339694    3.5339694    3.5339694    44.135529 
      72            0   -17.958162    2222.8626    2222.8626    2222.8626    2222.8626 1.8476153e-09 -1.420896e-09 -1.0720019e-09     3.534321     3.534321     3.534321    44.148706 
      73            0   -17.958471    1758.6956    1758.6956    1758.6956    1758.6956 1.5588246e-09 -1.6151766e-09 -1.3851243e-09    3.5346727    3.5346727    3.5346727    44.161886 
      74            0   -17.958858    1330.4981    1330.4981    1330.4981    1330.4981 1.7996519e-09 -1.7019853e-09 -1.3452151e-09    3.5350244    3.5350244    3.5350244    44.175069 
      75            0   -17.959368    956.26803    956.26803    956.26803    956.26803  1.70427e-09 -1.8416314e-09 -1.1475187e-09     3.535376     3.535376     3.535376    44.188254 
      76            0   -17.960083    662.11779    662.11779    662.11779    662.11779 1.8122556e-09 -1.6932267e-09 -1.2442378e-09    3.5357277    3.5357277    3.5357277    44.201442 
      77            0    -17.96113    490.45676    490.45676    490.45676    490.45676 2.2043591e-09 -1.693946e-09 -1.2436249e-09    3.5360794    3.5360794    3.5360794    44.214632 
      78            0    -17.96258     463.2878     463.2878     463.2878     463.2878 2.0306511e-09 -1.6537859e-09 -1.1331819e-09     3.536431     3.536431     3.536431    44.227825 
      79            0   -17.964171    487.07926    487.07926    487.07926    487.07926 2.0823032e-09 -1.6583536e-09 -9.7413084e-10    3.5367827    3.5367827    3.5367827    44.241021 
      80            0   -17.965739    503.32647    503.32647    503.32647    503.32647 1.9207644e-09 -1.9977061e-09 -1.470334e-09    3.5371344    3.5371344    3.5371344    44.254219 
      81            0   -17.967308    519.76013    519.76013    519.76013    519.76013 2.0081273e-09 -1.884845e-09 -1.6055485e-09    3.5374861    3.5374861    3.5374861     44.26742 
      82            0   -17.968875     536.3195     536.3195     536.3195     536.3195 1.9431581e-09 -1.9243145e-09 -1.2267841e-09    3.5378377    3.5378377    3.5378377    44.280623 
      83            0   -17.970442    552.88657    552.88657    552.88657    552.88657 2.0201259e-09 -1.7376138e-09 -1.4951865e-09    3.5381894    3.5381894    3.5381894    44.293829 
      84            0   -17.972007    569.46809    569.46809    569.46809    569.46809 2.125256e-09 -1.8366882e-09 -1.1650112e-09    3.5385411    3.5385411    3.5385411    44.307038 
      85            0   -17.973571    586.06524    586.06524    586.06524    586.06524 2.057211e-09 -1.8937853e-09 -1.3001771e-09    3.5388927    3.5388927    3.5388927     44.32025 
      86            0   -17.975134    602.67916    602.67916    602.67916    602.67916 2.0034684e-09 -2.1873369e-09 -1.7584984e-09    3.5392444    3.5392444    3.5392444    44.333464 
      87            0   -17.976697    619.30727    619.30727    619.30727    619.30727 2.093686e-09 -1.7113713e-09 -1.8959581e-09    3.5395961    3.5395961    3.5395961     44.34668 
      88            0   -17.978258    635.95182    635.95182    635.95182    635.95182 2.1193455e-09 -1.6921732e-09 -1.498152e-09    3.5399477    3.5399477    3.5399477    44.359899 
      89            0   -17.979818    652.61071    652.61071    652.61071    652.61071 2.0593574e-09 -1.9362074e-09 -1.7180695e-09    3.5402994    3.5402994    3.5402994    44.373121 
      90            0   -17.981377    669.18459    669.18459    669.18459    669.18459 2.2990043e-09 -2.0413934e-09 -1.4164387e-09    3.5406511    3.5406511    3.5406511    44.386346 
      91            0   -17.982935    685.95502    685.95502    685.95502    685.95502 2.111558e-09 -2.12846e-09 -1.7026522e-09    3.5410028    3.5410028    3.5410028    44.399573 
      92            0   -17.984493     702.6744     702.6744     702.6744     702.6744 2.4945954e-09 -2.0884003e-09 -1.4365366e-09    3.5413544    3.5413544    3.5413544    44.412803 
      93            0   -17.986049    719.39457    719.39457    719.39457    719.39457 2.4395593e-09 -2.3449642e-09 -1.5119788e-09    3.5417061    3.5417061    3.5417061    44.426035 
      94            0   -17.987604    736.12628    736.12628    736.12628    736.12628 2.3497159e-09 -2.2167521e-09 -1.4575934e-09    3.5420578    3.5420578    3.5420578     44.43927 
      95            0   -17.989158    752.87249    752.87249    752.87249    752.87249 2.3652409e-09 -2.3690331e-09 -1.5708367e-09    3.5424094    3.5424094    3.5424094    44.452508 
      96            0   -17.990711    769.34654    769.34654    769.34654    769.34654 2.4520188e-09 -2.3052404e-09 -1.7167141e-09    3.5427611    3.5427611    3.5427611    44.465748 
      97            0   -17.992264    785.60946    785.60946    785.60946    785.60946 2.360696e-09 -2.3375003e-09 -1.8991012e-09    3.5431128    3.5431128    3.5431128    44.478991 
      98            0   -17.993817    801.86234    801.86234    801.86234    801.86234 2.5671754e-09 -2.1432338e-09 -1.7892352e-09    3.5434644    3.5434644    3.5434644    44.492237 
      99            0    -17.99537    818.11665    818.11665    818.11665    818.11665 2.3673586e-09 -1.8209285e-09 -1.8184547e-09    3.5438161    3.5438161    3.5438161    44.505485 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381 2.6343364e-09 -2.410138e-09 -1.5383987e-09    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.0134108 on 1 procs for 100 steps with 4 atoms

81.8% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = max iterations
  Energy initial, next-to-last, final = 
        -17.9152565043     -17.9953698889      -17.996922859
  Force two-norm initial, final = 0.731457 0.596238
  Force max component initial, final = 0.422307 0.171734
  Final line search alpha, max atom move = 0.00438917 0.000753771
  Iterations, force evaluations = 100 102

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0093641  | 0.0093641  | 0.0093641  |   0.0 | 69.83
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00077724 | 0.00077724 | 0.00077724 |   0.0 |  5.80
Output  | 0.0008471  | 0.0008471  | 0.0008471  |   0.0 |  6.32
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002422   |            |       | 18.06

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal 834.37381199889
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal 834.373811995427
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal 834.373812067801
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -1.53839865712848e-09
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal -2.41013802688492e-09
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal 2.63433640321353e-09

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 3.54416778410762
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 3.54416778410712
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 3.54416778411111

 # ---- define the derivatives w.r.t. strain components
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-834.37381199889)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-834.37381199889)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-834.373811995427)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-834.373811995427)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-834.373812067801)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-834.373812067801)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--1.53839865712848e-09)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--1.53839865712848e-09)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--2.41013802688492e-09)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--2.41013802688492e-09)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-2.63433640321353e-09)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-2.63433640321353e-09)/(v_delta/v_len0)*0.0001

# ---- write restart files
unfix 3
write_restart restart.equil
# ---- uxx Perturbation
variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 3.54416778410762
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.54416778410762
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 -3.54416778410762e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    836.25086    836.23107    836.26076    836.26076 2.8319128e-09 -2.2538746e-09 -1.583062e-09    3.5441642    3.5441678    3.5441678    44.518691 
     101            0    -18.22343    131312.72    131312.72    131312.71    131312.71 6.7751955e-10 -5.8105106e-10 -6.5726597e-10    3.5441642    3.5441678    3.5441678    44.518691 
     102            0   -18.234677    151560.43    151560.45    151560.43    151560.43 -2.0842211e-10 3.4969244e-10 2.2192179e-10    3.5441642    3.5441678    3.5441678    44.518691 
     103            0   -18.238885    166160.65    166160.66    166160.64    166160.64 -7.9356954e-10 7.8947444e-10 5.0544553e-10    3.5441642    3.5441678    3.5441678    44.518691 
     104            0   -18.239844    175003.13    175003.14    175003.13    175003.13 -1.4954511e-09 1.7844576e-09 1.0039906e-09    3.5441642    3.5441678    3.5441678    44.518691 
     105            0     -18.2399    177505.75    177505.76    177505.75    177505.75 -1.4811074e-09 1.1065985e-09 7.1462067e-10    3.5441642    3.5441678    3.5441678    44.518691 
     106            0     -18.2399    177694.78    177694.78    177694.78    177694.78 -1.2535946e-09 1.2495243e-09 8.1133581e-10    3.5441642    3.5441678    3.5441678    44.518691 
     107            0     -18.2399    177694.79    177694.75    177694.81    177694.81 -1.729271e-10 6.1743025e-10 1.9660879e-10    3.5441642    3.5441678    3.5441678    44.518691 
     108            0     -18.2399    177694.14     177694.1    177694.17    177694.17 -3.2035467e-10 3.2223591e-10 1.0482701e-10    3.5441642    3.5441678    3.5441678    44.518691 
     109            0     -18.2399    177694.14     177694.1    177694.17    177694.17 -3.2035467e-10 3.2223591e-10 1.0482701e-10    3.5441642    3.5441678    3.5441678    44.518691 
Loop time of 0.00145698 on 1 procs for 9 steps with 4 atoms

92.7% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -17.9969228358     -18.2398999353     -18.2398999353
  Force two-norm initial, final = 0.594899 8.67894e-07
  Force max component initial, final = 0.171733 3.85827e-07
  Final line search alpha, max atom move = 0.5 1.92913e-07
  Iterations, force evaluations = 9 16

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0012059  | 0.0012059  | 0.0012059  |   0.0 | 82.77
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00013375 | 0.00013375 | 0.00013375 |   0.0 |  9.18
Output  | 6.7234e-05 | 6.7234e-05 | 6.7234e-05 |   0.0 |  4.61
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.007e-05  |            |       |  3.44

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177694.098027144
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177694.16642411
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177694.166424043
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.20354671391437e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.2223590692814e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.04827013084525e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 17685972.4215145
variable C2neg equal ${d2}
variable C2neg equal 17685979.2612115
variable C3neg equal ${d3}
variable C3neg equal 17685979.2611975
variable C4neg equal ${d4}
variable C4neg equal 1.643225670213e-07
variable C5neg equal ${d5}
variable C5neg equal 2.73237393381306e-07
variable C6neg equal ${d6}
variable C6neg equal -2.95469107460497e-07

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.54416778410762
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 3.54416778410762e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53044 3.53043 3.53043) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    832.49666    832.51645    832.48677    832.48677 2.474792e-09 -2.1255676e-09 -1.7397606e-09    3.5441713    3.5441678    3.5441678     44.51878 
     101            0   -18.223438    131308.34    131308.33    131308.34    131308.34 5.9960638e-10 -7.2916593e-10 -7.0852653e-10    3.5441713    3.5441678    3.5441678     44.51878 
     102            0   -18.234686     151557.9    151557.88     151557.9     151557.9 -5.0965228e-10 4.8080987e-10 4.2201908e-10    3.5441713    3.5441678    3.5441678     44.51878 
     103            0   -18.238894    166158.38    166158.37    166158.39    166158.39 -7.007062e-10 1.2536644e-09 5.4131229e-10    3.5441713    3.5441678    3.5441678     44.51878 
     104            0   -18.239854     175001.7    175001.69    175001.71    175001.71 -1.1846542e-09 1.2926339e-09 7.4880659e-10    3.5441713    3.5441678    3.5441678     44.51878 
     105            0    -18.23991    177504.95    177504.95    177504.95    177504.95 -1.5689309e-09 1.2009571e-09 1.2870483e-09    3.5441713    3.5441678    3.5441678     44.51878 
     106            0    -18.23991    177694.04    177694.04    177694.04    177694.04 -1.1875317e-09 1.0400122e-09 7.6179331e-10    3.5441713    3.5441678    3.5441678     44.51878 
     107            0    -18.23991    177694.05    177694.09    177694.03    177694.03 -4.7060167e-10 4.1764185e-10 4.0936094e-10    3.5441713    3.5441678    3.5441678     44.51878 
     108            0    -18.23991     177693.4    177693.45    177693.38    177693.38 -3.383999e-10 3.9307978e-10 -1.2860954e-11    3.5441713    3.5441678    3.5441678     44.51878 
     109            0    -18.23991     177693.4    177693.48    177693.36    177693.36 -2.207817e-10 1.5469733e-10 2.2438397e-10    3.5441713    3.5441678    3.5441678     44.51878 
     110            0    -18.23991    177693.47    177693.58    177693.42    177693.42 9.0190394e-11 -5.5110064e-10 1.3951979e-10    3.5441713    3.5441678    3.5441678     44.51878 
     111            0    -18.23991    177693.29    177693.42    177693.22    177693.22 3.5108566e-11 -2.3519865e-10 -6.623526e-11    3.5441713    3.5441678    3.5441678     44.51878 
     112            0    -18.23991    177693.44    177693.58    177693.37    177693.37 1.5967877e-10 2.1326985e-10 -1.2492308e-10    3.5441713    3.5441678    3.5441678     44.51878 
     113            0    -18.23991    177693.44     177693.6    177693.35    177693.35 -8.5124067e-11 -2.3839997e-10 -1.1588178e-10    3.5441713    3.5441678    3.5441678     44.51878 
     114            0    -18.23991    177693.32     177693.5    177693.23    177693.23 2.4999551e-10 1.6595391e-10 -1.7739405e-10    3.5441713    3.5441678    3.5441678     44.51878 
     115            0    -18.23991    177693.38    177693.64    177693.25    177693.25 4.9367078e-10 3.1004216e-10 1.7498962e-10    3.5441713    3.5441678    3.5441678     44.51878 
     116            0    -18.23991    177693.42    177693.68    177693.29    177693.29 1.0880082e-10 1.5648243e-10 1.7788789e-10    3.5441713    3.5441678    3.5441678     44.51878 
     117            0    -18.23991    177693.42    177693.69    177693.28    177693.28 1.547309e-10 1.486803e-10 9.7096233e-11    3.5441713    3.5441678    3.5441678     44.51878 
     118            0    -18.23991    177693.39    177693.66    177693.25    177693.25 -1.0658397e-10 -1.71373e-10 -2.700504e-10    3.5441713    3.5441678    3.5441678     44.51878 
     119            0    -18.23991    177693.39    177693.66    177693.25    177693.25 -1.0658397e-10 -1.71373e-10 -2.700504e-10    3.5441713    3.5441678    3.5441678     44.51878 
Loop time of 0.00314093 on 1 procs for 19 steps with 4 atoms

84.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -17.9969228822     -18.2399098103     -18.2399098103
  Force two-norm initial, final = 0.594911 2.84737e-07
  Force max component initial, final = 0.171736 9.9142e-08
  Final line search alpha, max atom move = 0.5 4.9571e-08
  Iterations, force evaluations = 19 31

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0026639  | 0.0026639  | 0.0026639  |   0.0 | 84.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00024819 | 0.00024819 | 0.00024819 |   0.0 |  7.90
Output  | 0.0001502  | 0.0001502  | 0.0001502  |   0.0 |  4.78
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 7.868e-05  |            |       |  2.50

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2399098102826
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 177693.386847863
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.662324978
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.249109082
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.249109528
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.0658396852919e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.71373004480269e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.70050399754656e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -17685928.8512979
variable C2pos equal ${d2}
variable C2pos equal -17685887.5297087
variable C3pos equal ${d3}
variable C3pos equal -17685887.529746
variable C4pos equal ${d4}
variable C4pos equal -1.26834825737382e-07
variable C5pos equal ${d5}
variable C5pos equal -2.23876502240465e-07
variable C6pos equal ${d6}
variable C6pos equal 2.74092037174272e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(17685972.4215145+${C1pos})
variable C11 equal 0.5*(17685972.4215145+-17685928.8512979)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(17685979.2612115+${C2pos})
variable C21 equal 0.5*(17685979.2612115+-17685887.5297087)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(17685979.2611975+${C3pos})
variable C31 equal 0.5*(17685979.2611975+-17685887.529746)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(1.643225670213e-07+${C4pos})
variable C41 equal 0.5*(1.643225670213e-07+-1.26834825737382e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(2.73237393381306e-07+${C5pos})
variable C51 equal 0.5*(2.73237393381306e-07+-2.23876502240465e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-2.95469107460497e-07+${C6pos})
variable C61 equal 0.5*(-2.95469107460497e-07+2.74092037174272e-07)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyy Perturbation
variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.54416778410712
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.54416778410712
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 -3.54416778410712e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    836.25086    836.26076    836.23107    836.26076 2.6619378e-09 -2.4899779e-09 -1.8694275e-09    3.5441678    3.5441642    3.5441678    44.518691 
     101            0    -18.22343    131312.72    131312.71    131312.72    131312.71 5.0844767e-10 -7.9585385e-10 -3.609988e-10    3.5441678    3.5441642    3.5441678    44.518691 
     102            0   -18.234677    151560.43    151560.43    151560.45    151560.43 -5.783767e-11 3.5279051e-10 2.0648371e-10    3.5441678    3.5441642    3.5441678    44.518691 
     103            0   -18.238885    166160.65    166160.64    166160.66    166160.64 -9.5244898e-10 8.0389352e-10 1.8983515e-10    3.5441678    3.5441642    3.5441678    44.518691 
     104            0   -18.239844    175003.13    175003.13    175003.14    175003.13 -1.4694383e-09 1.2154647e-09 8.3250356e-10    3.5441678    3.5441642    3.5441678    44.518691 
     105            0     -18.2399    177505.75    177505.75    177505.76    177505.75 -1.5995903e-09 1.2174205e-09 1.0419066e-09    3.5441678    3.5441642    3.5441678    44.518691 
     106            0     -18.2399    177694.78    177694.78    177694.78    177694.78 -1.4032614e-09 7.8397122e-10 9.5692599e-10    3.5441678    3.5441642    3.5441678    44.518691 
     107            0     -18.2399    177694.79    177694.81    177694.75    177694.81 -4.7086905e-10 3.5863549e-10 2.5943415e-11    3.5441678    3.5441642    3.5441678    44.518691 
     108            0     -18.2399    177694.14    177694.17     177694.1    177694.17 -2.461768e-10 3.6642817e-10 1.8162746e-10    3.5441678    3.5441642    3.5441678    44.518691 
     109            0     -18.2399    177694.15    177694.18    177694.07    177694.18 -1.925828e-10 1.6015489e-10 3.1612932e-11    3.5441678    3.5441642    3.5441678    44.518691 
     110            0     -18.2399    177694.21    177694.27    177694.11    177694.27 1.0136354e-10 3.0466336e-10 -1.7711867e-10    3.5441678    3.5441642    3.5441678    44.518691 
     111            0     -18.2399    177694.03     177694.1     177693.9     177694.1 -1.9269652e-10 -3.5084188e-10 3.787164e-11    3.5441678    3.5441642    3.5441678    44.518691 
     112            0     -18.2399    177694.18    177694.25    177694.05    177694.25 9.2318488e-13 8.2722846e-11 -1.4091563e-10    3.5441678    3.5441642    3.5441678    44.518691 
     113            0     -18.2399    177694.18    177694.26    177694.02    177694.26 -1.7504652e-10 -2.5824073e-11 3.5412877e-10    3.5441678    3.5441642    3.5441678    44.518691 
     114            0     -18.2399    177694.06    177694.15    177693.89    177694.15 -6.3222195e-11 -2.1480466e-10 5.6776263e-11    3.5441678    3.5441642    3.5441678    44.518691 
     115            0     -18.2399    177694.06    177694.15    177693.89    177694.15 -6.3222195e-11 -2.1480466e-10 5.6776263e-11    3.5441678    3.5441642    3.5441678    44.518691 
Loop time of 0.00211596 on 1 procs for 15 steps with 4 atoms

98.2% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -17.9969228358     -18.2398999353     -18.2398999353
  Force two-norm initial, final = 0.594899 1.02426e-06
  Force max component initial, final = 0.171733 4.45878e-07
  Final line search alpha, max atom move = 0.5 2.22939e-07
  Iterations, force evaluations = 15 25

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.001714   | 0.001714   | 0.001714   |   0.0 | 81.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00019789 | 0.00019789 | 0.00019789 |   0.0 |  9.35
Output  | 0.00013256 | 0.00013256 | 0.00013256 |   0.0 |  6.26
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 7.153e-05  |            |       |  3.38

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177694.151311092
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.885627904
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177694.151311277
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -6.3222194507718e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -2.14804662066029e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 5.67762625065567e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 17685977.7499093
variable C2neg equal ${d2}
variable C2neg equal 17685951.1815909
variable C3neg equal ${d3}
variable C3neg equal 17685977.7499209
variable C4neg equal ${d4}
variable C4neg equal 1.59517491963504e-07
variable C5neg equal ${d5}
variable C5neg equal 2.19533336481889e-07
variable C6neg equal ${d6}
variable C6neg equal -2.69755859772125e-07

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.54416778410712
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 3.54416778410712e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53044 3.53043) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    832.49666    832.48677    832.51645    832.48677 2.5901806e-09 -2.3797287e-09 -1.9392237e-09    3.5441678    3.5441713    3.5441678     44.51878 
     101            0   -18.223438    131308.34    131308.34    131308.33    131308.34 6.2599706e-10 -6.3913363e-10 -3.824273e-10    3.5441678    3.5441713    3.5441678     44.51878 
     102            0   -18.234686     151557.9     151557.9    151557.88     151557.9 -4.4563342e-10 8.790176e-11 3.1116075e-10    3.5441678    3.5441713    3.5441678     44.51878 
     103            0   -18.238894    166158.38    166158.39    166158.37    166158.39 -1.0163977e-09 6.8728464e-10 1.0233741e-09    3.5441678    3.5441713    3.5441678     44.51878 
     104            0   -18.239854     175001.7    175001.71    175001.69    175001.71 -1.3059951e-09 1.1481168e-09 8.4712576e-10    3.5441678    3.5441713    3.5441678     44.51878 
     105            0    -18.23991    177504.95    177504.95    177504.95    177504.95 -1.4270747e-09 1.1684591e-09 9.5602875e-10    3.5441678    3.5441713    3.5441678     44.51878 
     106            0    -18.23991    177694.04    177694.04    177694.04    177694.04 -1.2911608e-09 1.1801981e-09 7.179081e-10    3.5441678    3.5441713    3.5441678     44.51878 
     107            0    -18.23991    177694.05    177694.03    177694.09    177694.03 -4.4251584e-10 4.4174979e-10 4.9945924e-10    3.5441678    3.5441713    3.5441678     44.51878 
     108            0    -18.23991     177693.4    177693.38    177693.45    177693.38 -5.303136e-10 6.5445613e-11 -7.3581968e-11    3.5441678    3.5441713    3.5441678     44.51878 
     109            0    -18.23991     177693.4    177693.36    177693.48    177693.36 2.7786902e-10 2.6006119e-10 -2.0492546e-10    3.5441678    3.5441713    3.5441678     44.51878 
     110            0    -18.23991    177693.47    177693.42    177693.58    177693.42 -4.0686264e-10 -1.1921741e-10 -3.304782e-10    3.5441678    3.5441713    3.5441678     44.51878 
     111            0    -18.23991    177693.29    177693.22    177693.42    177693.22 -3.7133573e-10 9.287335e-11 3.9207135e-10    3.5441678    3.5441713    3.5441678     44.51878 
     112            0    -18.23991    177693.44    177693.37    177693.58    177693.37 -2.7050689e-11 -2.4526568e-10 -3.9853282e-10    3.5441678    3.5441713    3.5441678     44.51878 
     113            0    -18.23991    177693.44    177693.35     177693.6    177693.35 -1.3339273e-10 -2.3603955e-10 -2.8139813e-11    3.5441678    3.5441713    3.5441678     44.51878 
     114            0    -18.23991    177693.32    177693.23     177693.5    177693.23 -3.7158213e-10 6.4522902e-11 2.3433417e-11    3.5441678    3.5441713    3.5441678     44.51878 
     115            0    -18.23991    177693.38    177693.25    177693.64    177693.25 2.2069907e-10 9.1371678e-11 -1.9170964e-10    3.5441678    3.5441713    3.5441678     44.51878 
     116            0    -18.23991    177693.42    177693.29    177693.68    177693.29 2.7861629e-10 1.6327706e-10 -2.6166128e-10    3.5441678    3.5441713    3.5441678     44.51878 
     117            0    -18.23991    177693.42    177693.29    177693.68    177693.29 2.7861629e-10 1.6327706e-10 -2.6166128e-10    3.5441678    3.5441713    3.5441678     44.51878 
Loop time of 0.00252199 on 1 procs for 17 steps with 4 atoms

90.6% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -17.9969228822     -18.2399098103     -18.2399098103
  Force two-norm initial, final = 0.594911 1.75247e-07
  Force max component initial, final = 0.171736 8.62938e-08
  Final line search alpha, max atom move = 0.5 4.31469e-08
  Iterations, force evaluations = 17 28

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0021019  | 0.0021019  | 0.0021019  |   0.0 | 83.34
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00021267 | 0.00021267 | 0.00021267 |   0.0 |  8.43
Output  | 0.00013232 | 0.00013232 | 0.00013232 |   0.0 |  5.25
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 7.51e-05   |            |       |  2.98

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2399098102824
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 177693.420228849
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.288243227
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.684199728
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.288243592
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 2.78616285489864e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.6327705707399e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.616612831689e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -17685891.4431228
variable C2pos equal ${d2}
variable C2pos equal -17685931.0387733
variable C3pos equal ${d3}
variable C3pos equal -17685891.4431524
variable C4pos equal ${d4}
variable C4pos equal -1.27673737395958e-07
variable C5pos equal ${d5}
variable C5pos equal -2.57341508395891e-07
variable C6pos equal ${d6}
variable C6pos equal 2.35572011772367e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(17685977.7499093+${C1pos})
variable C12 equal 0.5*(17685977.7499093+-17685891.4431228)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(17685951.1815909+${C2pos})
variable C22 equal 0.5*(17685951.1815909+-17685931.0387733)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(17685977.7499209+${C3pos})
variable C32 equal 0.5*(17685977.7499209+-17685891.4431524)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(1.59517491963504e-07+${C4pos})
variable C42 equal 0.5*(1.59517491963504e-07+-1.27673737395958e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(2.19533336481889e-07+${C5pos})
variable C52 equal 0.5*(2.19533336481889e-07+-2.57341508395891e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-2.69755859772125e-07+${C6pos})
variable C62 equal 0.5*(-2.69755859772125e-07+2.35572011772367e-07)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uzz Perturbation
variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.54416778411111
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.54416778411111
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -3.54416778411111e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    836.25086    836.26076    836.26076    836.23107 2.5335123e-09 -2.7456959e-09 -1.9293359e-09    3.5441678    3.5441678    3.5441642    44.518691 
     101            0    -18.22343    131312.72    131312.71    131312.71    131312.72 5.1704051e-10 -7.1320612e-10 -6.357718e-10    3.5441678    3.5441678    3.5441642    44.518691 
     102            0   -18.234677    151560.43    151560.43    151560.43    151560.45 -4.0545481e-10 4.6354926e-10 2.9182601e-10    3.5441678    3.5441678    3.5441642    44.518691 
     103            0   -18.238885    166160.65    166160.64    166160.64    166160.66 -7.5889014e-10 9.2795708e-10 6.3369273e-10    3.5441678    3.5441678    3.5441642    44.518691 
     104            0   -18.239844    175003.13    175003.13    175003.13    175003.14 -1.2881844e-09 1.3103226e-09 8.6041515e-10    3.5441678    3.5441678    3.5441642    44.518691 
     105            0     -18.2399    177505.75    177505.75    177505.75    177505.76 -1.5699506e-09 1.4410255e-09 9.1618993e-10    3.5441678    3.5441678    3.5441642    44.518691 
     106            0     -18.2399    177694.78    177694.78    177694.78    177694.78 -1.4825431e-09 1.158685e-09 8.1712298e-10    3.5441678    3.5441678    3.5441642    44.518691 
     107            0     -18.2399    177694.79    177694.81    177694.81    177694.75 -3.4554174e-10 6.0121438e-11 4.3748389e-10    3.5441678    3.5441678    3.5441642    44.518691 
     108            0     -18.2399    177694.14    177694.17    177694.17     177694.1 -2.4165241e-10 5.1736156e-10 9.2468757e-10    3.5441678    3.5441678    3.5441642    44.518691 
     109            0     -18.2399    177694.14    177694.17    177694.17     177694.1 -2.4165241e-10 5.1736156e-10 9.2468757e-10    3.5441678    3.5441678    3.5441642    44.518691 
Loop time of 0.00171995 on 1 procs for 9 steps with 4 atoms

81.5% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -17.9969228358     -18.2398999353     -18.2398999353
  Force two-norm initial, final = 0.594899 8.67892e-07
  Force max component initial, final = 0.171733 3.85826e-07
  Final line search alpha, max atom move = 0.5 1.92913e-07
  Iterations, force evaluations = 9 16

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0014677  | 0.0014677  | 0.0014677  |   0.0 | 85.33
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00012898 | 0.00012898 | 0.00012898 |   0.0 |  7.50
Output  | 7.1287e-05 | 7.1287e-05 | 7.1287e-05 |   0.0 |  4.14
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.198e-05  |            |       |  3.02

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177694.166424172
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177694.16642416
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177694.098027113
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.41652406025828e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.17361560847795e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 9.24687570751773e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 17685979.2612173
variable C2neg equal ${d2}
variable C2neg equal 17685979.2612165
variable C3neg equal ${d3}
variable C3neg equal 17685972.4215045
variable C4neg equal ${d4}
variable C4neg equal 2.46308622788025e-07
variable C5neg equal ${d5}
variable C5neg equal 2.92749958773271e-07
variable C6neg equal ${d6}
variable C6neg equal -2.87598880923936e-07

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.54416778411111
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 3.54416778411111e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53044) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    832.49666    832.48677    832.48677    832.51645 2.6382078e-09 -2.2968147e-09 -1.5963094e-09    3.5441678    3.5441678    3.5441713     44.51878 
     101            0   -18.223438    131308.34    131308.34    131308.34    131308.33 6.6228507e-10 -6.4735353e-10 -4.0248221e-10    3.5441678    3.5441678    3.5441713     44.51878 
     102            0   -18.234686     151557.9     151557.9     151557.9    151557.88 -4.2670586e-10 4.4628663e-11 5.0794191e-10    3.5441678    3.5441678    3.5441713     44.51878 
     103            0   -18.238894    166158.38    166158.39    166158.39    166158.37 -9.5647996e-10 8.3384116e-10 3.8964017e-10    3.5441678    3.5441678    3.5441713     44.51878 
     104            0   -18.239854     175001.7    175001.71    175001.71    175001.69 -1.0943558e-09 8.6924222e-10 9.6387467e-10    3.5441678    3.5441678    3.5441713     44.51878 
     105            0    -18.23991    177504.95    177504.95    177504.95    177504.95 -1.6244671e-09 1.370844e-09 1.1052334e-09    3.5441678    3.5441678    3.5441713     44.51878 
     106            0    -18.23991    177694.04    177694.04    177694.04    177694.04 -1.4173692e-09 1.4668191e-09 1.2934336e-09    3.5441678    3.5441678    3.5441713     44.51878 
     107            0    -18.23991    177694.05    177694.03    177694.03    177694.09 -6.5978593e-10 6.6501489e-10 9.238445e-10    3.5441678    3.5441678    3.5441713     44.51878 
     108            0    -18.23991     177693.4    177693.38    177693.38    177693.45 -3.9903793e-10 4.4374555e-10 3.3473236e-11    3.5441678    3.5441678    3.5441713     44.51878 
     109            0    -18.23991     177693.4    177693.36    177693.36    177693.48 -7.0469708e-11 9.4655335e-11 -2.2735246e-10    3.5441678    3.5441678    3.5441713     44.51878 
     110            0    -18.23991    177693.47    177693.42    177693.42    177693.58 -6.7676987e-11 8.5146072e-11 3.5700295e-10    3.5441678    3.5441678    3.5441713     44.51878 
     111            0    -18.23991    177693.29    177693.22    177693.22    177693.42 3.5607728e-10 1.640304e-11 2.2788557e-10    3.5441678    3.5441678    3.5441713     44.51878 
     112            0    -18.23991    177693.44    177693.37    177693.37    177693.58 -7.5304565e-11 1.6520212e-10 -1.9592631e-11    3.5441678    3.5441678    3.5441713     44.51878 
     113            0    -18.23991    177693.44    177693.35    177693.35     177693.6 1.7606307e-12 -2.2653027e-10 8.1292005e-11    3.5441678    3.5441678    3.5441713     44.51878 
     114            0    -18.23991    177693.32    177693.23    177693.23     177693.5 -1.6272581e-10 -2.8880553e-10 2.2612351e-10    3.5441678    3.5441678    3.5441713     44.51878 
     115            0    -18.23991    177693.38    177693.25    177693.25    177693.64 -1.44163e-11 5.4273897e-10 -2.9780505e-10    3.5441678    3.5441678    3.5441713     44.51878 
     116            0    -18.23991    177693.42    177693.29    177693.29    177693.68 -6.6225339e-12 3.1292465e-10 -3.3249879e-10    3.5441678    3.5441678    3.5441713     44.51878 
     117            0    -18.23991    177693.42    177693.28    177693.28    177693.69 1.816281e-11 -1.1840121e-11 -2.1150456e-10    3.5441678    3.5441678    3.5441713     44.51878 
     118            0    -18.23991    177693.39    177693.25    177693.25    177693.66 -2.0658342e-10 5.0537731e-10 1.8468253e-10    3.5441678    3.5441678    3.5441713     44.51878 
     119            0    -18.23991    177693.39    177693.25    177693.25    177693.66 -2.0658342e-10 5.0537731e-10 1.8468253e-10    3.5441678    3.5441678    3.5441713     44.51878 
Loop time of 0.0389869 on 1 procs for 19 steps with 4 atoms

6.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
        -17.9969228822     -18.2399098103     -18.2399098103
  Force two-norm initial, final = 0.594911 2.84738e-07
  Force max component initial, final = 0.171736 9.91421e-08
  Final line search alpha, max atom move = 0.5 4.95711e-08
  Iterations, force evaluations = 19 31

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.038408   | 0.038408   | 0.038408   |   0.0 | 98.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0003252  | 0.0003252  | 0.0003252  |   0.0 |  0.83
Output  | 0.00016713 | 0.00016713 | 0.00016713 |   0.0 |  0.43
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 8.678e-05  |            |       |  0.22

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2399098102832
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 177693.386847827
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.249109071
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.249109014
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.662325395
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.0658341627325e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.05377314981633e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.84682526283183e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -17685887.5297072
variable C2pos equal ${d2}
variable C2pos equal -17685887.5297019
variable C3pos equal ${d3}
variable C3pos equal -17685928.8513327
variable C4pos equal ${d4}
variable C4pos equal -1.72308118341166e-07
variable C5pos equal ${d5}
variable C5pos equal -2.91551534186655e-07
variable C6pos equal ${d6}
variable C6pos equal 2.84091981948678e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(17685979.2612173+${C1pos})
variable C13 equal 0.5*(17685979.2612173+-17685887.5297072)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(17685979.2612165+${C2pos})
variable C23 equal 0.5*(17685979.2612165+-17685887.5297019)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(17685972.4215045+${C3pos})
variable C33 equal 0.5*(17685972.4215045+-17685928.8513327)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(2.46308622788025e-07+${C4pos})
variable C43 equal 0.5*(2.46308622788025e-07+-1.72308118341166e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(2.92749958773271e-07+${C5pos})
variable C53 equal 0.5*(2.92749958773271e-07+-2.91551534186655e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(-2.87598880923936e-07+${C6pos})
variable C63 equal 0.5*(-2.87598880923936e-07+2.84091981948678e-07)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyz Perturbation
variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.54416778411111
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.54416778411111
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -3.54416778411111e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 -3.54417e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381 2.5954937e-09 -2.4379076e-09 -0.079177817    3.5441678    3.5441678    3.5441678    44.518736 
     101            0   -18.223434     131310.2     131310.2     131310.2     131310.2 8.0471512e-10 -5.9131673e-10  -0.02633152    3.5441678    3.5441678    3.5441678    44.518736 
     102            0   -18.234681    151558.99    151558.99    151558.99    151558.99 -5.8805782e-10 3.0548941e-10 -0.016209428    3.5441678    3.5441678    3.5441678    44.518736 
     103            0   -18.238889    166159.38    166159.38    166159.38    166159.38 -1.0101871e-09 8.8567463e-10 -0.0093331061    3.5441678    3.5441678    3.5441678    44.518736 
     104            0   -18.239849    175002.36    175002.36    175002.36    175002.36 -1.1337191e-09 1.1629457e-09 -0.005611903    3.5441678    3.5441678    3.5441678    44.518736 
     105            0   -18.239905    177505.35    177505.35    177505.35    177505.35 -1.3211872e-09 1.5471559e-09 -0.0047457345    3.5441678    3.5441678    3.5441678    44.518736 
     106            0   -18.239905    177694.41    177694.41    177694.41    177694.41 -1.1644314e-09 1.4079605e-09 -0.0055795255    3.5441678    3.5441678    3.5441678    44.518736 
     107            0   -18.239905    177694.42    177694.42    177694.42    177694.42 -4.93531e-10 7.2863918e-10 -0.0097642422    3.5441678    3.5441678    3.5441678    44.518736 
     108            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -3.9600466e-10 8.6199711e-10 -0.010135083    3.5441678    3.5441678    3.5441678    44.518736 
     109            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -3.9600466e-10 8.6199711e-10 -0.010135083    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.0021019 on 1 procs for 9 steps with 4 atoms

71.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
         -17.996922859     -18.2399048728     -18.2399048728
  Force two-norm initial, final = 0.594905 2.22378e-07
  Force max component initial, final = 0.171735 8.11299e-08
  Final line search alpha, max atom move = 0.5 4.0565e-08
  Iterations, force evaluations = 9 17

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0018413  | 0.0018413  | 0.0018413  |   0.0 | 87.60
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00013804 | 0.00013804 | 0.00013804 |   0.0 |  6.57
Output  | 7.5579e-05 | 7.5579e-05 | 7.5579e-05 |   0.0 |  3.60
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 4.697e-05  |            |       |  2.23

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.783360636
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.783360667
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.783360594
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.96004664752252e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 8.61997110940922e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.0101350832805356

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 17685940.9548637
variable C2neg equal ${d2}
variable C2neg equal 17685940.9548672
variable C3neg equal ${d3}
variable C3neg equal 17685940.9548526
variable C4neg equal ${d4}
variable C4neg equal -1.01350817421369
variable C5neg equal ${d5}
variable C5neg equal 3.27213513782584e-07
variable C6neg equal ${d6}
variable C6neg equal -3.03034106796578e-07

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.54416778411111
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 3.54416778411111e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 3.54417e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381 2.6552111e-09 -2.3717745e-09  0.079177813    3.5441678    3.5441678    3.5441678    44.518736 
     101            0   -18.223434     131310.2     131310.2     131310.2     131310.2 5.3029757e-10 -7.7659209e-10  0.026331519    3.5441678    3.5441678    3.5441678    44.518736 
     102            0   -18.234681    151558.99    151558.99    151558.99    151558.99 -2.2124866e-10 4.2749433e-10  0.016209428    3.5441678    3.5441678    3.5441678    44.518736 
     103            0   -18.238889    166159.38    166159.38    166159.38    166159.38 -8.3673979e-10 1.0189475e-09 0.0093331075    3.5441678    3.5441678    3.5441678    44.518736 
     104            0   -18.239849    175002.36    175002.36    175002.36    175002.36 -1.4399573e-09 1.1829053e-09 0.0056119053    3.5441678    3.5441678    3.5441678    44.518736 
     105            0   -18.239905    177505.35    177505.35    177505.35    177505.35 -1.5548156e-09 1.145112e-09  0.004745736    3.5441678    3.5441678    3.5441678    44.518736 
     106            0   -18.239905    177694.41    177694.41    177694.41    177694.41 -1.2356098e-09 1.2387102e-09 0.0055795274    3.5441678    3.5441678    3.5441678    44.518736 
     107            0   -18.239905    177694.42    177694.42    177694.42    177694.42 -6.0162504e-10 3.698783e-10 0.0097642414    3.5441678    3.5441678    3.5441678    44.518736 
     108            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -7.5563114e-10 5.2465669e-10  0.010135083    3.5441678    3.5441678    3.5441678    44.518736 
     109            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -5.2495569e-11 2.7124661e-10  0.012243009    3.5441678    3.5441678    3.5441678    44.518736 
     110            0   -18.239905    177693.79    177693.79    177693.79    177693.79 1.2449512e-10 3.4218541e-10  0.013019075    3.5441678    3.5441678    3.5441678    44.518736 
     111            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -1.7980492e-10 -3.9247306e-11  0.013151712    3.5441678    3.5441678    3.5441678    44.518736 
     112            0   -18.239905    177693.79    177693.79    177693.79    177693.79 -1.1198683e-10 4.8542978e-11  0.013192298    3.5441678    3.5441678    3.5441678    44.518736 
     113            0   -18.239905    177693.79    177693.79    177693.79    177693.79 -1.1198683e-10 4.8542978e-11  0.013192298    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.00223804 on 1 procs for 13 steps with 4 atoms

87.5% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
         -17.996922859     -18.2399048728     -18.2399048728
  Force two-norm initial, final = 0.594905 2.17914e-08
  Force max component initial, final = 0.171735 9.83442e-09
  Final line search alpha, max atom move = 0.5 4.91721e-09
  Iterations, force evaluations = 13 23

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0018876  | 0.0018876  | 0.0018876  |   0.0 | 84.34
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00018096 | 0.00018096 | 0.00018096 |   0.0 |  8.09
Output  | 0.00010419 | 0.00010419 | 0.00010419 |   0.0 |  4.66
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 6.533e-05  |            |       |  2.92

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2399048728114
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 177693.785369701
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.785369666
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.785369638
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.7853698
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.11986829014862e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 4.85429782655513e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.0131922976157384

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -17685941.1557667
variable C2pos equal ${d2}
variable C2pos equal -17685941.1557643
variable C3pos equal ${d3}
variable C3pos equal -17685941.1557732
variable C4pos equal ${d4}
variable C4pos equal -1.31922991541371
variable C5pos equal ${d5}
variable C5pos equal -2.45868100515047e-07
variable C6pos equal ${d6}
variable C6pos equal 2.74632323222839e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(17685940.9548637+${C1pos})
variable C14 equal 0.5*(17685940.9548637+-17685941.1557667)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(17685940.9548672+${C2pos})
variable C24 equal 0.5*(17685940.9548672+-17685941.1557643)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(17685940.9548526+${C3pos})
variable C34 equal 0.5*(17685940.9548526+-17685941.1557732)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(-1.01350817421369+${C4pos})
variable C44 equal 0.5*(-1.01350817421369+-1.31922991541371)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(3.27213513782584e-07+${C5pos})
variable C54 equal 0.5*(3.27213513782584e-07+-2.45868100515047e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-3.03034106796578e-07+${C6pos})
variable C64 equal 0.5*(-3.03034106796578e-07+2.74632323222839e-07)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxz Perturbation
variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.54416778411111
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.54416778411111
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -3.54416778411111e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -3.54417e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381 2.6700549e-09 -0.079177817 -1.9860689e-09    3.5441678    3.5441678    3.5441678    44.518736 
     101            0   -18.223434     131310.2     131310.2     131310.2     131310.2 7.7956486e-10  -0.02633152 -3.7078035e-10    3.5441678    3.5441678    3.5441678    44.518736 
     102            0   -18.234681    151558.99    151558.99    151558.99    151558.99 -1.5578154e-10 -0.016209428 1.0649669e-10    3.5441678    3.5441678    3.5441678    44.518736 
     103            0   -18.238889    166159.38    166159.38    166159.38    166159.38 -6.9313852e-10 -0.009333106 9.3020192e-10    3.5441678    3.5441678    3.5441678    44.518736 
     104            0   -18.239849    175002.36    175002.36    175002.36    175002.36 -1.4942462e-09 -0.0056119029 8.9568379e-10    3.5441678    3.5441678    3.5441678    44.518736 
     105            0   -18.239905    177505.35    177505.35    177505.35    177505.35 -1.5097865e-09 -0.004745734 1.3387718e-09    3.5441678    3.5441678    3.5441678    44.518736 
     106            0   -18.239905    177694.41    177694.41    177694.41    177694.41 -1.5011557e-09 -0.0055795252 6.6107585e-10    3.5441678    3.5441678    3.5441678    44.518736 
     107            0   -18.239905    177694.42    177694.42    177694.42    177694.42 -4.5772691e-10 -0.0097642427 5.3758368e-10    3.5441678    3.5441678    3.5441678    44.518736 
     108            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -8.4732074e-10 -0.010135084 1.0039423e-10    3.5441678    3.5441678    3.5441678    44.518736 
     109            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -8.4732074e-10 -0.010135084 1.0039423e-10    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.0237129 on 1 procs for 9 steps with 4 atoms

2.7% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
         -17.996922859     -18.2399048728     -18.2399048728
  Force two-norm initial, final = 0.594905 2.22378e-07
  Force max component initial, final = 0.171735 8.11298e-08
  Final line search alpha, max atom move = 0.5 4.05649e-08
  Iterations, force evaluations = 9 17

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.023439   | 0.023439   | 0.023439   |   0.0 | 98.84
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00013661 | 0.00013661 | 0.00013661 |   0.0 |  0.58
Output  | 8.4162e-05 | 8.4162e-05 | 8.4162e-05 |   0.0 |  0.35
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.317e-05  |            |       |  0.22

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.783360679
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.783360625
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.783360594
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.47320739559608e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.0101350835146371
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.00394229880065e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 17685940.954868
variable C2neg equal ${d2}
variable C2neg equal 17685940.954863
variable C3neg equal ${d3}
variable C3neg equal 17685940.9548526
variable C4neg equal ${d4}
variable C4neg equal 1.63879288700855e-07
variable C5neg equal ${d5}
variable C5neg equal -1.01350811044991
variable C6neg equal ${d6}
variable C6neg equal -3.48165714277314e-07

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.54416778411111
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 3.54416778411111e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 3.54417e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381 2.622427e-09  0.079177813 -1.7986209e-09    3.5441678    3.5441678    3.5441678    44.518736 
     101            0   -18.223434     131310.2     131310.2     131310.2     131310.2 6.5636309e-10  0.026331519 -6.8817773e-11    3.5441678    3.5441678    3.5441678    44.518736 
     102            0   -18.234681    151558.99    151558.99    151558.99    151558.99 -2.2438947e-10  0.016209429 3.8671221e-10    3.5441678    3.5441678    3.5441678    44.518736 
     103            0   -18.238889    166159.38    166159.38    166159.38    166159.38 -1.3585545e-09 0.0093331074 5.1553148e-10    3.5441678    3.5441678    3.5441678    44.518736 
     104            0   -18.239849    175002.36    175002.36    175002.36    175002.36 -1.568246e-09 0.0056119054 7.3040701e-10    3.5441678    3.5441678    3.5441678    44.518736 
     105            0   -18.239905    177505.35    177505.35    177505.35    177505.35 -1.2780405e-09 0.0047457365 9.1315295e-10    3.5441678    3.5441678    3.5441678    44.518736 
     106            0   -18.239905    177694.41    177694.41    177694.41    177694.41 -1.2352889e-09 0.0055795274 1.1327062e-09    3.5441678    3.5441678    3.5441678    44.518736 
     107            0   -18.239905    177694.42    177694.42    177694.42    177694.42 -8.4175169e-10 0.0097642415 1.888461e-10    3.5441678    3.5441678    3.5441678    44.518736 
     108            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -8.5343411e-10  0.010135082  3.98636e-10    3.5441678    3.5441678    3.5441678    44.518736 
     109            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -8.5343411e-10  0.010135082  3.98636e-10    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.0019021 on 1 procs for 9 steps with 4 atoms

78.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
         -17.996922859     -18.2399048728     -18.2399048728
  Force two-norm initial, final = 0.594905 2.22378e-07
  Force max component initial, final = 0.171735 8.11299e-08
  Final line search alpha, max atom move = 0.5 4.05649e-08
  Iterations, force evaluations = 9 17

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0016429  | 0.0016429  | 0.0016429  |   0.0 | 86.38
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00013661 | 0.00013661 | 0.00013661 |   0.0 |  7.18
Output  | 7.4148e-05 | 7.4148e-05 | 7.4148e-05 |   0.0 |  3.90
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 4.84e-05   |            |       |  2.54

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2399048728111
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 177693.783360632
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.783360678
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.783360624
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.783360593
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.53434114497635e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.0101350821539688
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.98636001565893e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -17685940.9548679
variable C2pos equal ${d2}
variable C2pos equal -17685940.9548629
variable C3pos equal ${d3}
variable C3pos equal -17685940.9548525
variable C4pos equal ${d4}
variable C4pos equal -1.93703465869437e-07
variable C5pos equal ${d5}
variable C5pos equal -1.01350845641068
variable C6pos equal ${d6}
variable C6pos equal 3.48777051771117e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(17685940.954868+${C1pos})
variable C15 equal 0.5*(17685940.954868+-17685940.9548679)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(17685940.954863+${C2pos})
variable C25 equal 0.5*(17685940.954863+-17685940.9548629)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(17685940.9548526+${C3pos})
variable C35 equal 0.5*(17685940.9548526+-17685940.9548525)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(1.63879288700855e-07+${C4pos})
variable C45 equal 0.5*(1.63879288700855e-07+-1.93703465869437e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(-1.01350811044991+${C5pos})
variable C55 equal 0.5*(-1.01350811044991+-1.01350845641068)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-3.48165714277314e-07+${C6pos})
variable C65 equal 0.5*(-3.48165714277314e-07+3.48777051771117e-07)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxy Perturbation
variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.54416778410712

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.54416778410712
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -3.54416778410712e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (-3.54417e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381 -0.079177813 -2.5128597e-09 -1.6142066e-09    3.5441678    3.5441678    3.5441678    44.518736 
     101            0   -18.223434     131310.2     131310.2     131310.2     131310.2 -0.026331518 -5.1429469e-10 -5.7078941e-10    3.5441678    3.5441678    3.5441678    44.518736 
     102            0   -18.234681    151558.99    151558.99    151558.99    151558.99 -0.016209429 1.8606739e-11 3.575985e-10    3.5441678    3.5441678    3.5441678    44.518736 
     103            0   -18.238889    166159.38    166159.38    166159.38    166159.38 -0.0093331075 1.0632513e-09 5.4343047e-10    3.5441678    3.5441678    3.5441678    44.518736 
     104            0   -18.239849    175002.36    175002.36    175002.36    175002.36 -0.0056119055 1.1618035e-09 1.1449826e-09    3.5441678    3.5441678    3.5441678    44.518736 
     105            0   -18.239905    177505.35    177505.35    177505.35    177505.35 -0.0047457369 8.9603118e-10 7.4983095e-10    3.5441678    3.5441678    3.5441678    44.518736 
     106            0   -18.239905    177694.41    177694.41    177694.41    177694.41 -0.0055795275 1.2222317e-09 1.0903181e-09    3.5441678    3.5441678    3.5441678    44.518736 
     107            0   -18.239905    177694.42    177694.42    177694.42    177694.42 -0.0097642412 7.1222244e-10 2.5098665e-10    3.5441678    3.5441678    3.5441678    44.518736 
     108            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -0.010135082 3.1560422e-10 2.1373041e-10    3.5441678    3.5441678    3.5441678    44.518736 
     109            0   -18.239905    177693.78    177693.78    177693.78    177693.78 -0.010135082 3.1560422e-10 2.1373041e-10    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.00481606 on 1 procs for 9 steps with 4 atoms

31.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
         -17.996922859     -18.2399048728     -18.2399048728
  Force two-norm initial, final = 0.594905 2.22378e-07
  Force max component initial, final = 0.171735 8.11299e-08
  Final line search alpha, max atom move = 0.5 4.05649e-08
  Iterations, force evaluations = 9 17

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0045483  | 0.0045483  | 0.0045483  |   0.0 | 94.44
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00014067 | 0.00014067 | 0.00014067 |   0.0 |  2.92
Output  | 7.7248e-05 | 7.7248e-05 | 7.7248e-05 |   0.0 |  1.60
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 4.983e-05  |            |       |  1.03

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.783360678
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.783360676
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.783360541
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.0101350822316407
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.15604219100146e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.13730414660599e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 17685940.9548679
variable C2neg equal ${d2}
variable C2neg equal 17685940.9548681
variable C3neg equal ${d3}
variable C3neg equal 17685940.9548473
variable C4neg equal ${d4}
variable C4neg equal 1.75212907178908e-07
variable C5neg equal ${d5}
variable C5neg equal 2.72574224598507e-07
variable C6neg equal ${d6}
variable C6neg equal -1.01350848659771

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_46/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.54416778410712
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 3.54416778410712e-06 remap units box
  triclinic box = (-0.0137339 -0.0137339 -0.0137339) to (3.53043 3.53043 3.53043) with tilt (3.54417e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -17.996923    834.37381    834.37381    834.37381    834.37381  0.079177818 -2.6225873e-09 -1.5912967e-09    3.5441678    3.5441678    3.5441678    44.518736 
     101            0   -18.223434     131310.2     131310.2     131310.2     131310.2   0.02633152 -4.5547541e-10 -4.7742059e-10    3.5441678    3.5441678    3.5441678    44.518736 
     102            0   -18.234681    151558.99    151558.99    151558.99    151558.99  0.016209428 4.646719e-10 1.5776824e-10    3.5441678    3.5441678    3.5441678    44.518736 
     103            0   -18.238889    166159.38    166159.38    166159.38    166159.38 0.0093331056 8.7426839e-10 8.4263324e-10    3.5441678    3.5441678    3.5441678    44.518736 
     104            0   -18.239849    175002.36    175002.36    175002.36    175002.36 0.0056119027 9.7739808e-10 7.4246764e-10    3.5441678    3.5441678    3.5441678    44.518736 
     105            0   -18.239905    177505.35    177505.35    177505.35    177505.35  0.004745734 9.6777048e-10 7.3202223e-10    3.5441678    3.5441678    3.5441678    44.518736 
     106            0   -18.239905    177694.41    177694.41    177694.41    177694.41 0.0055795253 1.1090381e-09 1.4072366e-09    3.5441678    3.5441678    3.5441678    44.518736 
     107            0   -18.239905    177694.42    177694.42    177694.42    177694.42 0.0097642425 3.8605723e-10 -1.3583283e-11    3.5441678    3.5441678    3.5441678    44.518736 
     108            0   -18.239905    177693.78    177693.78    177693.78    177693.78  0.010135083 5.3702726e-10 5.8155654e-10    3.5441678    3.5441678    3.5441678    44.518736 
     109            0   -18.239905    177693.78    177693.78    177693.78    177693.78  0.012243009 1.9830642e-10 1.5280378e-10    3.5441678    3.5441678    3.5441678    44.518736 
     110            0   -18.239905    177693.78    177693.78    177693.78    177693.78  0.012243009 1.9830642e-10 1.5280378e-10    3.5441678    3.5441678    3.5441678    44.518736 
Loop time of 0.0128541 on 1 procs for 10 steps with 4 atoms

12.5% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
         -17.996922859     -18.2399048728     -18.2399048728
  Force two-norm initial, final = 0.594905 8.19897e-08
  Force max component initial, final = 0.171735 2.98992e-08
  Final line search alpha, max atom move = 0.5 1.49496e-08
  Iterations, force evaluations = 10 18

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.012561   | 0.012561   | 0.012561   |   0.0 | 97.72
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00014591 | 0.00014591 | 0.00014591 |   0.0 |  1.14
Output  | 9.0361e-05 | 9.0361e-05 | 9.0361e-05 |   0.0 |  0.70
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.698e-05  |            |       |  0.44

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1036 ave 1036 max 1036 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1036
Ave neighs/atom = 259
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2399048728114
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 177693.783930108
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 177693.783930125
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 177693.783930137
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 177693.783930061
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.012243008902602
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.98306418827887e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.52803781141157e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -17685941.0118126
variable C2pos equal ${d2}
variable C2pos equal -17685941.0118142
variable C3pos equal ${d3}
variable C3pos equal -17685941.0117993
variable C4pos equal ${d4}
variable C4pos equal -1.69120243826964e-07
variable C5pos equal ${d5}
variable C5pos equal -2.60844444571281e-07
variable C6pos equal ${d6}
variable C6pos equal -1.22430062682656

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(17685940.9548679+${C1pos})
variable C16 equal 0.5*(17685940.9548679+-17685941.0118126)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(17685940.9548681+${C2pos})
variable C26 equal 0.5*(17685940.9548681+-17685941.0118142)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(17685940.9548473+${C3pos})
variable C36 equal 0.5*(17685940.9548473+-17685941.0117993)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(1.75212907178908e-07+${C4pos})
variable C46 equal 0.5*(1.75212907178908e-07+-1.69120243826964e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(2.72574224598507e-07+${C5pos})
variable C56 equal 0.5*(2.72574224598507e-07+-2.60844444571281e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(-1.01350848659771+${C6pos})
variable C66 equal 0.5*(-1.01350848659771+-1.22430062682656)

# Delete dir to make sure it is not reused

variable dir delete

# ---- Output final values
variable C11all equal ${C11}
variable C11all equal 21.7851082999259
variable C22all equal ${C22}
variable C22all equal 10.0714088007808
variable C33all equal ${C33}
variable C33all equal 21.7850858997554
variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(43.1533932499588+${C21})
variable C12all equal 0.5*(43.1533932499588+45.8657514005899)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(45.8657550495118+${C31})
variable C13all equal 0.5*(45.8657550495118+45.8657257501036)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(45.8657572995871+${C32})
variable C23all equal 0.5*(45.8657572995871+43.1533842496574)
variable C44all equal ${C44}
variable C44all equal -1.1663690448137
variable C55all equal ${C55}
variable C55all equal -1.0135082834303
variable C66all equal ${C66}
variable C66all equal -1.11890455671213
variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-0.100451499223709+${C41})
variable C14all equal 0.5*(-0.100451499223709+1.8743870641959e-08)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(5.02914190292358e-08+${C51})
variable C15all equal 0.5*(5.02914190292358e-08+2.46804455704205e-08)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-0.028472350910306+${C61})
variable C16all equal 0.5*(-0.028472350910306+-1.06885351431125e-08)
variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-0.100448550656438+${C42})
variable C24all equal 0.5*(-0.100448550656438+1.5921877283773e-08)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(5.02914190292358e-08+${C52})
variable C25all equal 0.5*(5.02914190292358e-08+-1.8904085957001e-08)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-0.0284730494022369+${C62})
variable C26all equal 0.5*(-0.0284730494022369+-1.7091923999879e-08)
variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-0.100460300222039+${C43})
variable C34all equal 0.5*(-0.100460300222039+3.70002522234295e-08)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(5.02914190292358e-08+${C53})
variable C35all equal 0.5*(5.02914190292358e-08+5.9921229330802e-10)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(-0.0284759998321533+${C63})
variable C36all equal 0.5*(-0.0284759998321533+-1.753449487629e-09)
variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-1.4912088584291e-08+${C54})
variable C45all equal 0.5*(-1.4912088584291e-08+4.06727066337685e-08)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(3.04633167597201e-09+${C64})
variable C46all equal 0.5*(3.04633167597201e-09+-1.42008917868695e-08)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(5.86489001361299e-09+${C65})
variable C56all equal 0.5*(5.86489001361299e-09+3.05668746901493e-10)

print "c11 = ${C11all} ${cunits}"
c11 = 21.7851082999259 GPa
print "c22 = ${C22all} ${cunits}"
c22 = 10.0714088007808 GPa
print "c33 = ${C33all} ${cunits}"
c33 = 21.7850858997554 GPa
print "c12 = ${C12all} ${cunits}"
c12 = 44.5095723252743 GPa
print "c13 = ${C13all} ${cunits}"
c13 = 45.8657403998077 GPa
print "c23 = ${C23all} ${cunits}"
c23 = 44.5095707746222 GPa
print "c44 = ${C44all} ${cunits}"
c44 = -1.1663690448137 GPa
print "c55 = ${C55all} ${cunits}"
c55 = -1.0135082834303 GPa
print "c66 = ${C66all} ${cunits}"
c66 = -1.11890455671213 GPa
print "c14 = ${C14all} ${cunits}"
c14 = -0.0502257402399192 GPa
print "c15 = ${C15all} ${cunits}"
c15 = 3.74859322998282e-08 GPa
print "c16 = ${C16all} ${cunits}"
c16 = -0.0142361807994206 GPa
print "c24 = ${C24all} ${cunits}"
c24 = -0.0502242673672804 GPa
print "c25 = ${C25all} ${cunits}"
c25 = 1.56936665361174e-08 GPa
print "c26 = ${C26all} ${cunits}"
c26 = -0.0142365332470805 GPa
print "c34 = ${C34all} ${cunits}"
c34 = -0.0502301316108934 GPa
print "c35 = ${C35all} ${cunits}"
c35 = 2.54453156612719e-08 GPa
print "c36 = ${C36all} ${cunits}"
c36 = -0.0142380007928014 GPa
print "c45 = ${C45all} ${cunits}"
c45 = 1.28803090247388e-08 GPa
print "c46 = ${C46all} ${cunits}"
c46 = -5.57728005544874e-09 GPa
print "c56 = ${C56all} ${cunits}"
c56 = 3.08527938025724e-09 GPa
print "lammps_sim_done"
lammps_sim_done
Total wall time: 0:00:00
