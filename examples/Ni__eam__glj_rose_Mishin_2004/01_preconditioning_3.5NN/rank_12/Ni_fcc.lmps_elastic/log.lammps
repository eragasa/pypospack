LAMMPS (11 Aug 2017)
include init.mod
# ---- init.mod file
variable up equal 1.0e-6
units metal
dimension 3
boundary p p p
atom_style atomic
atom_modify map array
variable cfac equal 1.0e-4
variable cunits string GPa
# ---- define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2
# --- read data structure
read_data lammps.structure
  triclinic box = (0 0 0) to (3.5167 3.5167 3.5167) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no
# ---- Compute initial state
fix 3 all box/relax aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0   -18.164987   -12582.219   -12582.219   -12582.219   -12582.219 1.9400432e-11 -6.4446666e-12 -3.0312362e-11       3.5167       3.5167       3.5167    43.491658 
       1            0   -18.165087   -12023.967   -12023.967   -12023.967   -12023.967 4.6230923e-11 8.9515655e-11 3.321877e-11    3.5163483    3.5163483    3.5163483    43.478612 
       2            0   -18.165183   -11462.522   -11462.522   -11462.522   -11462.522 4.649086e-11 4.3418146e-11 2.7684777e-11    3.5159967    3.5159967    3.5159967    43.465568 
       3            0   -18.165274   -10897.873   -10897.873   -10897.873   -10897.873 -1.2665138e-10 -7.9461877e-11 -1.0305861e-10     3.515645     3.515645     3.515645    43.452527 
       4            0    -18.16536   -10330.012   -10330.012   -10330.012   -10330.012 -4.8005378e-11 -3.4084074e-11 -4.7333101e-11    3.5152933    3.5152933    3.5152933    43.439489 
       5            0   -18.165442    -9756.658    -9756.658    -9756.658    -9756.658 4.6046603e-11 5.2463446e-11 4.652736e-11    3.5149417    3.5149417    3.5149417    43.426453 
       6            0   -18.165519   -9190.7123   -9190.7123   -9190.7123   -9190.7123 2.1301732e-11 2.5406867e-11 5.7967047e-11      3.51459      3.51459      3.51459     43.41342 
       7            0   -18.165592   -8641.1841   -8641.1841   -8641.1841   -8641.1841 -8.7272609e-11 7.0126102e-11 -4.9950076e-11    3.5142383    3.5142383    3.5142383    43.400389 
       8            0    -18.16566   -8108.1383   -8108.1383   -8108.1383   -8108.1383 6.4871833e-12 2.4923108e-11 2.0618233e-12    3.5138866    3.5138866    3.5138866    43.387362 
       9            0   -18.165723   -7591.6401   -7591.6401   -7591.6401   -7591.6401 8.6065469e-12 2.166181e-11 2.4474789e-11     3.513535     3.513535     3.513535    43.374336 
      10            0   -18.165783   -7082.0186   -7082.0186   -7082.0186   -7082.0186 -2.4339173e-11 -3.9074614e-11 -4.1675177e-11    3.5131833    3.5131833    3.5131833    43.361313 
      11            0   -18.165839   -6563.7073   -6563.7073   -6563.7073   -6563.7073 3.5275217e-11 -2.5066978e-11 -1.6269267e-11    3.5128316    3.5128316    3.5128316    43.348293 
      12            0    -18.16589   -6038.1028   -6038.1028   -6038.1028   -6038.1028 -1.4152418e-11 -1.0344374e-10 -7.3515099e-11      3.51248      3.51248      3.51248    43.335276 
      13            0   -18.165937   -5505.1796   -5505.1796   -5505.1796   -5505.1796 -7.0622148e-11 -1.059461e-10 -8.6205512e-11    3.5121283    3.5121283    3.5121283    43.322261 
      14            0   -18.165979   -4964.9117   -4964.9117   -4964.9117   -4964.9117 2.9277158e-11 -6.7545775e-13 -1.913235e-11    3.5117766    3.5117766    3.5117766    43.309249 
      15            0   -18.166017   -4427.2043   -4427.2043   -4427.2043   -4427.2043 1.2833385e-10 1.3061052e-10 7.6115642e-11     3.511425     3.511425     3.511425    43.296239 
      16            0   -18.166051   -3881.0499   -3881.0499   -3881.0499   -3881.0499 1.0062832e-11 1.2300482e-10 1.1274251e-10    3.5110733    3.5110733    3.5110733    43.283232 
      17            0    -18.16608   -3324.2474   -3324.2474   -3324.2474   -3324.2474 -6.4771447e-13 -2.8215097e-11 -2.9262317e-11    3.5107216    3.5107216    3.5107216    43.270227 
      18            0   -18.166105   -2756.7586   -2756.7586   -2756.7586   -2756.7586 -3.7440503e-12 -1.2339313e-10 -1.3026871e-10    3.5103699    3.5103699    3.5103699    43.257226 
      19            0   -18.166125   -2178.7318   -2178.7318   -2178.7318   -2178.7318 -2.4045434e-11 -3.419856e-11 -5.0238723e-11    3.5100183    3.5100183    3.5100183    43.244226 
      20            0    -18.16614   -1599.4009   -1599.4009   -1599.4009   -1599.4009 8.3917396e-11 -3.0303603e-11 -1.3524431e-11    3.5096666    3.5096666    3.5096666     43.23123 
      21            0   -18.166151   -1022.3249   -1022.3249   -1022.3249   -1022.3249 -4.7417881e-11 -6.5437823e-11 -2.9534032e-11    3.5093149    3.5093149    3.5093149    43.218236 
      22            0   -18.166157   -447.51453   -447.51453   -447.51453   -447.51453 5.6685188e-12 -4.1278612e-11 -5.353541e-11    3.5089633    3.5089633    3.5089633    43.205244 
      23            0   -18.166158    1.4305056    1.4305056    1.4305056    1.4305056 3.4613963e-11 -8.6245848e-11 -5.4318269e-11    3.5086876    3.5086876    3.5086876    43.195063 
      24            0   -18.166158   0.22342887   0.22342887   0.22342887   0.22342887 1.0609794e-10 8.7518153e-12 6.211036e-11    3.5086884    3.5086884    3.5086884    43.195091 
      25            0   -18.166158 9.0518676e-07 9.0516564e-07 9.0526757e-07 9.0512708e-07 5.4130726e-12 -2.1766777e-11 1.8398478e-10    3.5086885    3.5086885    3.5086885    43.195096 
      26            0   -18.166158 -6.2245943e-06 -6.2245356e-06 -6.2246909e-06 -6.2245564e-06 1.5807854e-10 -2.437873e-11 -5.8806894e-11    3.5086885    3.5086885    3.5086885    43.195096 
      27            0   -18.166158 -9.0114199e-10 -9.5847566e-10 -7.6703635e-10 -9.7791397e-10 -9.5036556e-11 -1.2562735e-10 -8.9381534e-11    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.00730801 on 1 procs for 27 steps with 4 atoms

48.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1649871111     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 0.591582 4.31569e-14
  Force max component initial, final = 0.341549 2.6425e-14
  Final line search alpha, max atom move = 1 2.6425e-14
  Iterations, force evaluations = 27 32

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0022235  | 0.0022235  | 0.0022235  |   0.0 | 30.43
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.004066   | 0.004066   | 0.004066   |   0.0 | 55.64
Output  | 0.00021958 | 0.00021958 | 0.00021958 |   0.0 |  3.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0007989  |            |       | 10.93

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal -9.58475662547398e-10
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -7.67036346597786e-10
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal -9.77913969808132e-10
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -8.93815343957944e-11
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal -1.25627345289699e-10
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal -9.50365557502871e-11

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 3.50868849938156
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 3.50868849938156
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 3.50868849938155

 # ---- define the derivatives w.r.t. strain components
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--9.58475662547398e-10)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--9.58475662547398e-10)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--7.67036346597786e-10)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--7.67036346597786e-10)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--9.77913969808132e-10)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--9.77913969808132e-10)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--8.93815343957944e-11)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--8.93815343957944e-11)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--1.25627345289699e-10)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--1.25627345289699e-10)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--9.50365557502871e-11)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--9.50365557502871e-11)/(v_delta/v_len0)*0.0001

# ---- write restart files
unfix 3
write_restart restart.equil
# ---- uxx Perturbation
variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 3.50868849938156
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.50868849938156
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 -3.50868849938156e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158    1.9019554    2.1099458    1.7979602    1.7979602 1.338871e-10 1.1452892e-10 1.5528279e-11     3.508685    3.5086885    3.5086885    43.195052 
      28            0   -18.166158    1.9019554    2.1099458    1.7979602    1.7979602 1.9230498e-11 -3.6856296e-12 -5.4204298e-11     3.508685    3.5086885    3.5086885    43.195052 
Loop time of 0.000257969 on 1 procs for 1 steps with 4 atoms

100.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.37948e-14 1.27239e-14
  Force max component initial, final = 7.38298e-15 7.18869e-15
  Final line search alpha, max atom move = 1 7.18869e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021815 | 0.00021815 | 0.00021815 |   0.0 | 84.57
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.5034e-05 | 2.5034e-05 | 2.5034e-05 |   0.0 |  9.70
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  5.73

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 2.10994577727338
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.79796017350597
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.79796017361793
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.92304975288223e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.6856296236916e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -5.42042981916836e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 210.994577823186
variable C2neg equal ${d2}
variable C2neg equal 179.796017427301
variable C3neg equal ${d3}
variable C3neg equal 179.796017459584
variable C4neg equal ${d4}
variable C4neg equal 3.51772362041108e-09
variable C5neg equal ${d5}
variable C5neg equal 1.21941715666007e-08
variable C6neg equal ${d6}
variable C6neg equal 1.14267053279109e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.50868849938156
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 3.50868849938156e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.5127 3.51269 3.51269) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158   -1.9019791   -2.1099709   -1.7979832   -1.7979832 -7.4574487e-11 -1.2098128e-10 -3.616434e-11     3.508692    3.5086885    3.5086885    43.195139 
      28            0   -18.166158   -1.9019791   -2.1099709   -1.7979832   -1.7979832 -5.835291e-11 -8.7764622e-11 -2.2405184e-10     3.508692    3.5086885    3.5086885    43.195139 
Loop time of 0.000247955 on 1 procs for 1 steps with 4 atoms

88.7% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.23776e-14 8.9931e-15
  Force max component initial, final = 6.09235e-15 3.66374e-15
  Final line search alpha, max atom move = 1 3.66374e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020885 | 0.00020885 | 0.00020885 |   0.0 | 84.23
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3603e-05 | 2.3603e-05 | 2.3603e-05 |   0.0 |  9.52
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.55e-05   |            |       |  6.25

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.1661583815979
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.90197910517739
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.10997093713994
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.79798318929516
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.79798318909707
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -5.83529104245277e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -8.77646221317729e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.24051838887495e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 210.997093618146
variable C2pos equal ${d2}
variable C2pos equal 179.798318852812
variable C3pos equal ${d3}
variable C3pos equal 179.798318811916
variable C4pos equal ${d4}
variable C4pos equal 1.34670304491701e-08
variable C5pos equal ${d5}
variable C5pos equal -3.78627231579261e-09
variable C6pos equal ${d6}
variable C6pos equal -3.66836453257594e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(210.994577823186+${C1pos})
variable C11 equal 0.5*(210.994577823186+210.997093618146)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(179.796017427301+${C2pos})
variable C21 equal 0.5*(179.796017427301+179.798318852812)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(179.796017459584+${C3pos})
variable C31 equal 0.5*(179.796017459584+179.798318811916)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(3.51772362041108e-09+${C4pos})
variable C41 equal 0.5*(3.51772362041108e-09+1.34670304491701e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(1.21941715666007e-08+${C5pos})
variable C51 equal 0.5*(1.21941715666007e-08+-3.78627231579261e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(1.14267053279109e-08+${C6pos})
variable C61 equal 0.5*(1.14267053279109e-08+-3.66836453257594e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyy Perturbation
variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.50868849938156
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.50868849938156
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 -3.50868849938156e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158    1.9019554    1.7979602    2.1099458    1.7979602 -1.5630419e-11 2.9543851e-11 -1.3315613e-10    3.5086885     3.508685    3.5086885    43.195052 
      28            0   -18.166158    1.9019554    1.7979602    2.1099458    1.7979602 8.2081055e-12 2.4391322e-11 -2.0895204e-11    3.5086885     3.508685    3.5086885    43.195052 
Loop time of 0.000247955 on 1 procs for 1 steps with 4 atoms

89.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.23398e-14 9.31082e-15
  Force max component initial, final = 5.48173e-15 4.76008e-15
  Final line search alpha, max atom move = 1 4.76008e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020695 | 0.00020695 | 0.00020695 |   0.0 | 83.46
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3842e-05 | 2.3842e-05 | 2.3842e-05 |   0.0 |  9.62
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.717e-05  |            |       |  6.92

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.79796017330496
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.10994577736802
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.79796017367502
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 8.20810547239938e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.439132153791e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.08952044697559e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 179.796017426344
variable C2neg equal ${d2}
variable C2neg equal 210.994577813506
variable C3neg equal ${d3}
variable C3neg equal 179.796017465293
variable C4neg equal ${d4}
variable C4neg equal 6.84863299260385e-09
variable C5neg equal ${d5}
variable C5neg equal 1.50018666827609e-08
variable C6neg equal ${d6}
variable C6neg equal 1.03244661222687e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.50868849938156
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 3.50868849938156e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.5127 3.51269) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158   -1.9019791   -1.7979832   -2.1099709   -1.7979832 -2.6986603e-11 -1.133357e-10 -1.6101799e-10    3.5086885     3.508692    3.5086885    43.195139 
      28            0   -18.166158   -1.9019791   -1.7979832   -2.1099709   -1.7979832 7.8656476e-11 -1.2666929e-10 -1.1802399e-10    3.5086885     3.508692    3.5086885    43.195139 
Loop time of 0.000262976 on 1 procs for 1 steps with 4 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.10322e-14 7.83246e-15
  Force max component initial, final = 5.70377e-15 4.32987e-15
  Final line search alpha, max atom move = 1 4.32987e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021982 | 0.00021982 | 0.00021982 |   0.0 | 83.59
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.4796e-05 | 2.4796e-05 | 2.4796e-05 |   0.0 |  9.43
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.836e-05  |            |       |  6.98

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.1661583815979
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.90197910534058
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.7979831893954
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.10997093738822
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.79798318923812
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 7.86564759083368e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.26669285290891e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.18023986113938e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 179.798318843692
variable C2pos equal ${d2}
variable C2pos equal 210.997093662118
variable C3pos equal ${d3}
variable C3pos equal 179.798318826021
variable C4pos equal ${d4}
variable C4pos equal 2.86424517181436e-09
variable C5pos equal ${d5}
variable C5pos equal 1.04194000119201e-10
variable C6pos equal ${d6}
variable C6pos equal -1.73693031658624e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(179.796017426344+${C1pos})
variable C12 equal 0.5*(179.796017426344+179.798318843692)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(210.994577813506+${C2pos})
variable C22 equal 0.5*(210.994577813506+210.997093662118)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(179.796017465293+${C3pos})
variable C32 equal 0.5*(179.796017465293+179.798318826021)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(6.84863299260385e-09+${C4pos})
variable C42 equal 0.5*(6.84863299260385e-09+2.86424517181436e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(1.50018666827609e-08+${C5pos})
variable C52 equal 0.5*(1.50018666827609e-08+1.04194000119201e-10)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(1.03244661222687e-08+${C6pos})
variable C62 equal 0.5*(1.03244661222687e-08+-1.73693031658624e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uzz Perturbation
variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.50868849938155
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.50868849938155
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -3.50868849938155e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158    1.9019554    1.7979602    1.7979602    2.1099458 6.539974e-12 -5.9910913e-11 -5.9431351e-11    3.5086885    3.5086885     3.508685    43.195052 
      28            0   -18.166158    1.9019554    1.7979602    1.7979602    2.1099458 9.0835643e-12 -7.7627447e-11 -1.2937305e-10    3.5086885    3.5086885     3.508685    43.195052 
Loop time of 0.000258923 on 1 procs for 1 steps with 4 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 7.9336e-15 2.47773e-15
  Force max component initial, final = 4.13558e-15 1.23512e-15
  Final line search alpha, max atom move = 1 1.23512e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021029 | 0.00021029 | 0.00021029 |   0.0 | 81.22
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.171e-05  | 3.171e-05  | 3.171e-05  |   0.0 | 12.25
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.693e-05  |            |       |  6.54

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.79796017318937
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.79796017326076
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.10994577717134
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 9.08356425224907e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.76274468331339e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.29373045825339e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 179.796017414785
variable C2neg equal ${d2}
variable C2neg equal 179.79601740278
variable C3neg equal ${d3}
variable C3neg equal 210.994577814925
variable C4neg equal ${d4}
variable C4neg equal -3.99915114295446e-09
variable C5neg equal ${d5}
variable C5neg equal 4.79998984565651e-09
variable C6neg equal ${d6}
variable C6neg equal 1.04120120002536e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.50868849938155
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 3.50868849938155e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.5127) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158   -1.9019791   -1.7979832   -1.7979832   -2.1099709 -5.9076682e-11 -2.6478609e-11 -6.3431347e-11    3.5086885    3.5086885     3.508692    43.195139 
      28            0   -18.166158   -1.9019791   -1.7979832   -1.7979832   -2.1099709 7.8935749e-11 -3.8160752e-11 -8.9831285e-11    3.5086885    3.5086885     3.508692    43.195139 
Loop time of 0.000248909 on 1 procs for 1 steps with 4 atoms

100.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 9.01877e-15 5.29289e-15
  Force max component initial, final = 5.14866e-15 2.5778e-15
  Final line search alpha, max atom move = 1 2.5778e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021076 | 0.00021076 | 0.00021076 |   0.0 | 84.67
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2173e-05 | 2.2173e-05 | 2.2173e-05 |   0.0 |  8.91
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.597e-05  |            |       |  6.42

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.1661583815979
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.90197910520013
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.79798318914394
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.79798318909275
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.10997093736368
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 7.89357487427238e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.81607524635823e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -8.98312850911581e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 179.798318818546
variable C2pos equal ${d2}
variable C2pos equal 179.798318832571
variable C3pos equal ${d3}
variable C3pos equal 210.997093638577
variable C4pos equal ${d4}
variable C4pos equal 4.49750695363702e-11
variable C5pos equal ${d5}
variable C5pos equal -8.74665928261167e-09
variable C6pos equal ${d6}
variable C6pos equal -1.73972304493011e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(179.796017414785+${C1pos})
variable C13 equal 0.5*(179.796017414785+179.798318818546)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(179.79601740278+${C2pos})
variable C23 equal 0.5*(179.79601740278+179.798318832571)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(210.994577814925+${C3pos})
variable C33 equal 0.5*(210.994577814925+210.997093638577)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(-3.99915114295446e-09+${C4pos})
variable C43 equal 0.5*(-3.99915114295446e-09+4.49750695363702e-11)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(4.79998984565651e-09+${C5pos})
variable C53 equal 0.5*(4.79998984565651e-09+-8.74665928261167e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(1.04120120002536e-08+${C6pos})
variable C63 equal 0.5*(1.04120120002536e-08+-1.73972304493011e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyz Perturbation
variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.50868849938155
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.50868849938155
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -3.50868849938155e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 -3.50869e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158 8.0089258e-07 -5.4173714e-07 7.2569004e-07 2.2187248e-06 3.3878006e-11 -5.336677e-11   0.82459801    3.5086885    3.5086885    3.5086885    43.195096 
      28            0   -18.166158 8.0106967e-07 -5.4145836e-07 7.258285e-07 2.2188389e-06 6.8015617e-11 -6.4636347e-11   0.82459801    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.000248909 on 1 procs for 1 steps with 4 atoms

92.8% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.27918e-14 4.97767e-15
  Force max component initial, final = 7.1991e-15 2.53964e-15
  Final line search alpha, max atom move = 1 2.53964e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020909 | 0.00020909 | 0.00020909 |   0.0 | 84.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.408e-05  | 2.408e-05  | 2.408e-05  |   0.0 |  9.67
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.574e-05  |            |       |  6.32

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -5.41458362384751e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 7.2582850137806e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.21883887851374e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 6.80156174359393e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -6.46363467832071e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.82459800552381

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -5.40499886722204e-05
variable C2neg equal ${d2}
variable C2neg equal 7.26595537724658e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000221981679248355
variable C4neg equal ${d4}
variable C4neg equal 82.4598005613192
variable C5neg equal ${d5}
variable C5neg equal 6.09909985064919e-09
variable C6neg equal ${d6}
variable C6neg equal 1.63052173186226e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.50868849938155
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 3.50868849938155e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 3.50869e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158 8.0089122e-07 -5.4180011e-07 7.2566048e-07 2.2188133e-06 -4.6808895e-11 2.4885437e-12  -0.82459801    3.5086885    3.5086885    3.5086885    43.195096 
      28            0   -18.166158 8.0119512e-07 -5.4136767e-07 7.2604296e-07 2.2189101e-06 -3.0368854e-11 1.7168212e-11  -0.82459801    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.000248909 on 1 procs for 1 steps with 4 atoms

94.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.28853e-14 3.21672e-15
  Force max component initial, final = 7.56339e-15 1.20737e-15
  Final line search alpha, max atom move = 1 1.20737e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.000211   | 0.000211   | 0.000211   |   0.0 | 84.77
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3127e-05 | 2.3127e-05 | 2.3127e-05 |   0.0 |  9.29
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  5.94

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.1661583816153
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 8.01195122242632e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -5.41367672706061e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 7.26042956549865e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.21891008288409e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.03688539701812e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.71682117688355e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.824598005707568

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 5.40409197043514e-05
variable C2pos equal ${d2}
variable C2pos equal -7.26809992896463e-05
variable C3pos equal ${d3}
variable C3pos equal -0.00022198879968539
variable C4pos equal ${d4}
variable C4pos equal 82.4598005618187
variable C5pos equal ${d5}
variable C5pos equal -1.42795557058534e-08
variable C6pos equal ${d6}
variable C6pos equal -6.46677017801059e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-5.40499886722204e-05+${C1pos})
variable C14 equal 0.5*(-5.40499886722204e-05+5.40409197043514e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(7.26595537724658e-05+${C2pos})
variable C24 equal 0.5*(7.26595537724658e-05+-7.26809992896463e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(0.000221981679248355+${C3pos})
variable C34 equal 0.5*(0.000221981679248355+-0.00022198879968539)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(82.4598005613192+${C4pos})
variable C44 equal 0.5*(82.4598005613192+82.4598005618187)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(6.09909985064919e-09+${C5pos})
variable C54 equal 0.5*(6.09909985064919e-09+-1.42795557058534e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(1.63052173186226e-08+${C6pos})
variable C64 equal 0.5*(1.63052173186226e-08+-6.46677017801059e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxz Perturbation
variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.50868849938155
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.50868849938155
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -3.50868849938155e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -3.50869e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158 8.0145269e-07 7.2622453e-07 -5.4114118e-07 2.2192747e-06 -6.5372215e-11   0.82459801 -1.3443031e-10    3.5086885    3.5086885    3.5086885    43.195096 
      28            0   -18.166158 8.0100963e-07 7.2578219e-07 -5.4151583e-07 2.2187625e-06 1.8897757e-10   0.82459801 3.2497726e-11    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.000756979 on 1 procs for 1 steps with 4 atoms

36.2% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.12296e-14 7.81542e-15
  Force max component initial, final = 5.95357e-15 5.10703e-15
  Final line search alpha, max atom move = 1 5.10703e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0007112  | 0.0007112  | 0.0007112  |   0.0 | 93.95
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2888e-05 | 2.2888e-05 | 2.2888e-05 |   0.0 |  3.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.289e-05  |            |       |  3.02

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 7.25782190456072e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -5.41515833612057e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.21876252413227e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.88977571679074e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.824598005513942
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.24977263047058e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 7.26740666118619e-05
variable C2neg equal ${d2}
variable C2neg equal -5.40748797265459e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000221974043810208
variable C4neg equal ${d4}
variable C4neg equal 1.218792607005e-08
variable C5neg equal ${d5}
variable C5neg equal 82.4598005639569
variable C6neg equal ${d6}
variable C6neg equal 2.84014127429361e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.50868849938155
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 3.50868849938155e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 3.50869e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158 8.0102458e-07 7.2573686e-07 -5.4156957e-07 2.2189065e-06 -4.2351772e-11  -0.82459801 -8.9071126e-11    3.5086885    3.5086885    3.5086885    43.195096 
      28            0   -18.166158 8.0113939e-07 7.2581103e-07 -5.413394e-07 2.2189465e-06 2.225151e-10  -0.82459801 -2.1776642e-11    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.000248909 on 1 procs for 1 steps with 4 atoms

100.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.21355e-14 8.72811e-15
  Force max component initial, final = 8.65974e-15 4.81559e-15
  Final line search alpha, max atom move = 1 4.81559e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020933 | 0.00020933 | 0.00020933 |   0.0 | 84.10
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2888e-05 | 2.2888e-05 | 2.2888e-05 |   0.0 |  9.20
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.669e-05  |            |       |  6.70

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.1661583816154
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 8.01139389887632e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 7.2581103196353e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -5.41339402437634e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.218946540137e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 2.22515102570312e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.824598005514335
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.1776642284962e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -7.26769507626077e-05
variable C2pos equal ${d2}
variable C2pos equal 5.40572366091036e-05
variable C3pos equal ${d3}
variable C3pos equal -0.000221992445410681
variable C4pos equal ${d4}
variable C4pos equal -6.76048921108324e-09
variable C5pos equal ${d5}
variable C5pos equal 82.4598005388708
variable C6pos equal ${d6}
variable C6pos equal -3.17551658320599e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(7.26740666118619e-05+${C1pos})
variable C15 equal 0.5*(7.26740666118619e-05+-7.26769507626077e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-5.40748797265459e-05+${C2pos})
variable C25 equal 0.5*(-5.40748797265459e-05+5.40572366091036e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(0.000221974043810208+${C3pos})
variable C35 equal 0.5*(0.000221974043810208+-0.000221992445410681)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(1.218792607005e-08+${C4pos})
variable C45 equal 0.5*(1.218792607005e-08+-6.76048921108324e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(82.4598005639569+${C5pos})
variable C55 equal 0.5*(82.4598005639569+82.4598005388708)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(2.84014127429361e-08+${C6pos})
variable C65 equal 0.5*(2.84014127429361e-08+-3.17551658320599e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxy Perturbation
variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.50868849938156

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.50868849938156
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -3.50868849938156e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (-3.50869e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158 8.0126601e-07 7.2605065e-07 2.2188928e-06 -5.4114543e-07   0.82459801 2.4141777e-11 -5.4732629e-11    3.5086885    3.5086885    3.5086885    43.195096 
      28            0   -18.166158 8.0089842e-07 7.2570455e-07 2.2184426e-06 -5.4145185e-07   0.82459801 1.5024705e-10 3.6399633e-11    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.000252008 on 1 procs for 1 steps with 4 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.20004e-14 5.90363e-15
  Force max component initial, final = 7.32747e-15 3.59435e-15
  Final line search alpha, max atom move = 1 3.59435e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021195 | 0.00021195 | 0.00021195 |   0.0 | 84.11
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3603e-05 | 2.3603e-05 | 2.3603e-05 |   0.0 |  9.37
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.645e-05  |            |       |  6.53

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 7.25704550802494e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.21844256118672e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -5.41451849970746e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.824598005563302
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.50247050079027e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.63996326021371e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 7.26663026465041e-05
variable C2neg equal ${d2}
variable C2neg equal 0.000221920959753332
variable C3neg equal ${d3}
variable C3neg equal -5.40473936000938e-05
variable C4neg equal ${d4}
variable C4neg equal 1.25781166997932e-08
variable C5neg equal ${d5}
variable C5neg equal 2.75874395368726e-08
variable C6neg equal ${d6}
variable C6neg equal 82.4598005658339

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_12/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.50868849938156
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 3.50868849938156e-06 remap units box
  triclinic box = (0.00400575 0.00400575 0.00400575) to (3.51269 3.51269 3.51269) with tilt (3.50869e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      27            0   -18.166158 8.0091191e-07  7.25741e-07 2.2185046e-06 -5.4150983e-07  -0.82459801 2.5744715e-11 -8.7382104e-11    3.5086885    3.5086885    3.5086885    43.195096 
      28            0   -18.166158 8.0095323e-07 7.2574517e-07 2.2185191e-06 -5.4140459e-07  -0.82459801 3.9725839e-11 -9.1169335e-11    3.5086885    3.5086885    3.5086885    43.195096 
Loop time of 0.000252962 on 1 procs for 1 steps with 4 atoms

94.5% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.1661583816     -18.1661583816     -18.1661583816
  Force two-norm initial, final = 1.10725e-14 3.93611e-15
  Force max component initial, final = 6.56419e-15 2.02616e-15
  Final line search alpha, max atom move = 1 2.02616e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021076 | 0.00021076 | 0.00021076 |   0.0 | 83.32
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.4796e-05 | 2.4796e-05 | 2.4796e-05 |   0.0 |  9.80
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.74e-05   |            |       |  6.88

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.1661583816153
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 8.00953225102139e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 7.25745167053823e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.21851909876557e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -5.41404590512975e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.824598005600918
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.9725838535669e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -9.11693347400062e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -7.2670364271637e-05
variable C2pos equal ${d2}
variable C2pos equal -0.000221928613511217
variable C3pos equal ${d3}
variable C3pos equal 5.40426676543167e-05
variable C4pos equal ${d4}
variable C4pos equal 1.78780034421181e-10
variable C5pos equal ${d5}
variable C5pos equal -1.65353183825368e-08
variable C6pos equal ${d6}
variable C6pos equal 82.4598005505882

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(7.26663026465041e-05+${C1pos})
variable C16 equal 0.5*(7.26663026465041e-05+-7.2670364271637e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(0.000221920959753332+${C2pos})
variable C26 equal 0.5*(0.000221920959753332+-0.000221928613511217)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-5.40473936000938e-05+${C3pos})
variable C36 equal 0.5*(-5.40473936000938e-05+5.40426676543167e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(1.25781166997932e-08+${C4pos})
variable C46 equal 0.5*(1.25781166997932e-08+1.78780034421181e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(2.75874395368726e-08+${C5pos})
variable C56 equal 0.5*(2.75874395368726e-08+-1.65353183825368e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(82.4598005658339+${C6pos})
variable C66 equal 0.5*(82.4598005658339+82.4598005505882)

# Delete dir to make sure it is not reused

variable dir delete

# ---- Output final values
variable C11all equal ${C11}
variable C11all equal 210.995835720666
variable C22all equal ${C22}
variable C22all equal 210.995835737812
variable C33all equal ${C33}
variable C33all equal 210.995835726751
variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(179.797168135018+${C21})
variable C12all equal 0.5*(179.797168135018+179.797168140056)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(179.797168116665+${C31})
variable C13all equal 0.5*(179.797168116665+179.79716813575)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(179.797168117675+${C32})
variable C23all equal 0.5*(179.797168117675+179.797168145657)
variable C44all equal ${C44}
variable C44all equal 82.459800561569
variable C55all equal ${C55}
variable C55all equal 82.4598005514138
variable C66all equal ${C66}
variable C66all equal 82.459800558211
variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-4.53448393449965e-09+${C41})
variable C14all equal 0.5*(-4.53448393449965e-09+8.49237703479059e-09)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-1.44207537289943e-09+${C51})
variable C15all equal 0.5*(-1.44207537289943e-09+4.20394962540404e-09)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-2.03081256645128e-09+${C61})
variable C16all equal 0.5*(-2.03081256645128e-09+3.87917039766748e-09)
variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-1.07227585902493e-08+${C42})
variable C24all equal 0.5*(-1.07227585902493e-08+4.85643908220911e-09)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-8.82155872114975e-09+${C52})
variable C25all equal 0.5*(-8.82155872114975e-09+7.55303034144005e-09)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-3.82687894249373e-09+${C62})
variable C26all equal 0.5*(-3.82687894249373e-09+-3.52241852179685e-09)
variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-3.56021851751062e-09+${C43})
variable C34all equal 0.5*(-3.56021851751062e-09+-1.97708803670905e-09)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(-9.20080023649773e-09+${C53})
variable C35all equal 0.5*(-9.20080023649773e-09+-1.97333471847758e-09)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(-2.36297288854954e-09+${C63})
variable C36all equal 0.5*(-2.36297288854954e-09+-3.49260922452375e-09)
variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(2.71371842948338e-09+${C54})
variable C45all equal 0.5*(2.71371842948338e-09+-4.09022792760211e-09)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(6.37844836710719e-09+${C64})
variable C46all equal 0.5*(6.37844836710719e-09+4.919223570306e-09)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(5.5260605771679e-09+${C65})
variable C56all equal 0.5*(5.5260605771679e-09+-1.6768765445619e-09)

print "c11 = ${C11all} ${cunits}"
c11 = 210.995835720666 GPa
print "c22 = ${C22all} ${cunits}"
c22 = 210.995835737812 GPa
print "c33 = ${C33all} ${cunits}"
c33 = 210.995835726751 GPa
print "c12 = ${C12all} ${cunits}"
c12 = 179.797168137537 GPa
print "c13 = ${C13all} ${cunits}"
c13 = 179.797168126208 GPa
print "c23 = ${C23all} ${cunits}"
c23 = 179.797168131666 GPa
print "c44 = ${C44all} ${cunits}"
c44 = 82.459800561569 GPa
print "c55 = ${C55all} ${cunits}"
c55 = 82.4598005514138 GPa
print "c66 = ${C66all} ${cunits}"
c66 = 82.459800558211 GPa
print "c14 = ${C14all} ${cunits}"
c14 = 1.97894655014547e-09 GPa
print "c15 = ${C15all} ${cunits}"
c15 = 1.3809371262523e-09 GPa
print "c16 = ${C16all} ${cunits}"
c16 = 9.241789156081e-10 GPa
print "c24 = ${C24all} ${cunits}"
c24 = -2.93315975402009e-09 GPa
print "c25 = ${C25all} ${cunits}"
c25 = -6.34264189854851e-10 GPa
print "c26 = ${C26all} ${cunits}"
c26 = -3.67464873214529e-09 GPa
print "c34 = ${C34all} ${cunits}"
c34 = -2.76865327710984e-09 GPa
print "c35 = ${C35all} ${cunits}"
c35 = -5.58706747748765e-09 GPa
print "c36 = ${C36all} ${cunits}"
c36 = -2.92779105653665e-09 GPa
print "c45 = ${C45all} ${cunits}"
c45 = -6.88254749059365e-10 GPa
print "c46 = ${C46all} ${cunits}"
c46 = 5.64883596870659e-09 GPa
print "c56 = ${C56all} ${cunits}"
c56 = 1.924592016303e-09 GPa
print "lammps_sim_done"
lammps_sim_done
Total wall time: 0:00:00
