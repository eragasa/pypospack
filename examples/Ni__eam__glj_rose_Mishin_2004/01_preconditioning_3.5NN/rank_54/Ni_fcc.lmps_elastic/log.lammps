LAMMPS (11 Aug 2017)
include init.mod
# ---- init.mod file
variable up equal 1.0e-6
units metal
dimension 3
boundary p p p
atom_style atomic
atom_modify map array
variable cfac equal 1.0e-4
variable cunits string GPa
# ---- define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2
# --- read data structure
read_data lammps.structure
  triclinic box = (0 0 0) to (3.5167 3.5167 3.5167) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no
# ---- Compute initial state
fix 3 all box/relax aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0    -18.21591   -27260.423   -27260.423   -27260.423   -27260.423 2.5905228e-13 -3.7978026e-11 -6.9638945e-11       3.5167       3.5167       3.5167    43.491658 
       1            0   -18.216131   -26928.086   -26928.086   -26928.086   -26928.086 4.6695029e-11 -2.240841e-12 4.2404682e-12    3.5163483    3.5163483    3.5163483    43.478612 
       2            0   -18.216349   -26556.434   -26556.434   -26556.434   -26556.434 -4.9899527e-13 8.8234303e-11 8.2001576e-11    3.5159967    3.5159967    3.5159967    43.465568 
       3            0   -18.216563   -26027.657   -26027.657   -26027.657   -26027.657 -4.1483005e-11 3.7387343e-11 1.699829e-11     3.515645     3.515645     3.515645    43.452527 
       4            0   -18.216772   -25379.077   -25379.077   -25379.077   -25379.077 5.8558206e-11 1.6671237e-10 6.2827299e-11    3.5152933    3.5152933    3.5152933    43.439489 
       5            0   -18.216976   -24750.516   -24750.516   -24750.516   -24750.516 -4.9903284e-11 -6.4263429e-11 -4.6277169e-11    3.5149417    3.5149417    3.5149417    43.426453 
       6            0   -18.217175   -24119.748   -24119.748   -24119.748   -24119.748 4.5768335e-11 -3.8072977e-11 -5.4894268e-11      3.51459      3.51459      3.51459     43.41342 
       7            0   -18.217368   -23465.747   -23465.747   -23465.747   -23465.747 -3.9032928e-11 -2.8671122e-11 -1.596156e-11    3.5142383    3.5142383    3.5142383    43.400389 
       8            0   -18.217557   -22905.131   -22905.131   -22905.131   -22905.131 3.2771724e-11 -3.450581e-11 -2.4367537e-11    3.5138866    3.5138866    3.5138866    43.387362 
       9            0   -18.217741   -22488.568   -22488.568   -22488.568   -22488.568 -6.3400754e-12 7.8888565e-11 8.9309722e-11     3.513535     3.513535     3.513535    43.374336 
      10            0   -18.217922    -22130.13    -22130.13    -22130.13    -22130.13 -2.625207e-11 5.4691076e-11 4.4044953e-11    3.5131833    3.5131833    3.5131833    43.361313 
      11            0     -18.2181   -21663.521   -21663.521   -21663.521   -21663.521 4.4306633e-11 3.1579293e-11 4.7040093e-11    3.5128316    3.5128316    3.5128316    43.348293 
      12            0   -18.218274   -21084.871   -21084.871   -21084.871   -21084.871 -4.0765554e-12 -2.3832883e-11 -2.3620183e-11      3.51248      3.51248      3.51248    43.335276 
      13            0   -18.218443    -20506.39    -20506.39    -20506.39    -20506.39 1.0861303e-10 1.2233378e-10 -3.9729646e-11    3.5121283    3.5121283    3.5121283    43.322261 
      14            0   -18.218607   -19898.451   -19898.451   -19898.451   -19898.451 2.6038714e-11 2.2152357e-11 -1.0750344e-10    3.5117766    3.5117766    3.5117766    43.309249 
      15            0   -18.218766   -19254.825   -19254.825   -19254.825   -19254.825 -3.1204328e-11 9.6066941e-12 1.195527e-11     3.511425     3.511425     3.511425    43.296239 
      16            0    -18.21892    -18635.53    -18635.53    -18635.53    -18635.53 6.9999682e-11 -3.7072801e-13 -1.525478e-11    3.5110733    3.5110733    3.5110733    43.283232 
      17            0   -18.219069   -18108.195   -18108.195   -18108.195   -18108.195 5.3821648e-11 4.2490722e-11 2.9060463e-11    3.5107216    3.5107216    3.5107216    43.270227 
      18            0   -18.219214    -17646.12    -17646.12    -17646.12    -17646.12 5.4512213e-11 -6.24475e-11 1.0582315e-10    3.5103699    3.5103699    3.5103699    43.257226 
      19            0   -18.219355   -17164.459   -17164.459   -17164.459   -17164.459 5.3593851e-11 -7.3429182e-12 5.4883594e-12    3.5100183    3.5100183    3.5100183    43.244226 
      20            0   -18.219492    -16669.66    -16669.66    -16669.66    -16669.66 2.7242109e-11 -5.4651472e-12 -3.7676668e-11    3.5096666    3.5096666    3.5096666     43.23123 
      21            0   -18.219626   -16179.472   -16179.472   -16179.472   -16179.472 -5.749142e-11 -2.2706699e-12 -2.9635018e-12    3.5093149    3.5093149    3.5093149    43.218236 
      22            0   -18.219755   -15623.185   -15623.185   -15623.185   -15623.185 4.5360338e-11 4.3480862e-11 6.6218009e-11    3.5089633    3.5089633    3.5089633    43.205244 
      23            0   -18.219879   -14977.724   -14977.724   -14977.724   -14977.724 3.3963088e-11 1.8090572e-11 4.5239124e-11    3.5086116    3.5086116    3.5086116    43.192255 
      24            0   -18.219997   -14315.184   -14315.184   -14315.184   -14315.184 -2.7232085e-11 9.4997091e-12 9.9288831e-11    3.5082599    3.5082599    3.5082599    43.179269 
      25            0   -18.220111   -13710.256   -13710.256   -13710.256   -13710.256 2.8309635e-11 -2.4948072e-11 -4.3959242e-11    3.5079083    3.5079083    3.5079083    43.166285 
      26            0    -18.22022   -13153.818   -13153.818   -13153.818   -13153.818 -4.6840043e-11 1.2586348e-11 -2.4406868e-11    3.5075566    3.5075566    3.5075566    43.153304 
      27            0   -18.220324   -12604.422   -12604.422   -12604.422   -12604.422 -1.6053692e-11 -9.8450835e-11 -1.093951e-10    3.5072049    3.5072049    3.5072049    43.140326 
      28            0   -18.220424   -12133.496   -12133.496   -12133.496   -12133.496 1.6967043e-11 6.9967914e-11 9.1531746e-12    3.5068532    3.5068532    3.5068532     43.12735 
      29            0   -18.220521   -11736.756   -11736.756   -11736.756   -11736.756 -5.395218e-11 -5.3117482e-12 -4.7548884e-11    3.5065016    3.5065016    3.5065016    43.114377 
      30            0   -18.220614   -11267.894   -11267.894   -11267.894   -11267.894 -3.6880328e-11 8.2675764e-11 7.1948819e-11    3.5061499    3.5061499    3.5061499    43.101406 
      31            0   -18.220703   -10667.139   -10667.139   -10667.139   -10667.139 -5.7004078e-11 -5.7757642e-11 -2.6958975e-11    3.5057982    3.5057982    3.5057982    43.088438 
      32            0   -18.220786   -10001.296   -10001.296   -10001.296   -10001.296  6.02713e-11 8.9694715e-11 8.8428211e-11    3.5054466    3.5054466    3.5054466    43.075473 
      33            0   -18.220865   -9350.1551   -9350.1551   -9350.1551   -9350.1551 8.1274803e-12 -4.2053288e-11 -2.2881339e-11    3.5050949    3.5050949    3.5050949     43.06251 
      34            0   -18.220938   -8694.5453   -8694.5453   -8694.5453   -8694.5453 2.4182858e-11 -2.8088688e-11 -2.9148148e-11    3.5047432    3.5047432    3.5047432     43.04955 
      35            0   -18.221005   -8020.3666   -8020.3666   -8020.3666   -8020.3666 -2.3664418e-10 -2.178978e-10 -2.2433947e-10    3.5043916    3.5043916    3.5043916    43.036592 
      36            0   -18.221068   -7512.1413   -7512.1413   -7512.1413   -7512.1413 1.3425096e-11 7.916016e-11 7.7985749e-11    3.5040399    3.5040399    3.5040399    43.023637 
      37            0   -18.221127   -7185.7116   -7185.7116   -7185.7116   -7185.7116 -1.4066374e-10 2.6921888e-11 3.7715128e-11    3.5036882    3.5036882    3.5036882    43.010685 
      38            0   -18.221184   -6823.1409   -6823.1409   -6823.1409   -6823.1409 4.1156776e-11 8.2628162e-11 1.0931576e-10    3.5033365    3.5033365    3.5033365    42.997735 
      39            0   -18.221237    -6269.951    -6269.951    -6269.951    -6269.951 -2.0718892e-11 3.9085576e-11 1.0870463e-11    3.5029849    3.5029849    3.5029849    42.984788 
      40            0   -18.221285   -5573.7646   -5573.7646   -5573.7646   -5573.7646 -4.2340093e-11 -9.3530463e-11 1.0396484e-12    3.5026332    3.5026332    3.5026332    42.971843 
      41            0   -18.221327   -4903.6242   -4903.6242   -4903.6242   -4903.6242 -7.8175674e-11 -1.0955737e-10 -1.0734148e-10    3.5022815    3.5022815    3.5022815    42.958901 
      42            0   -18.221364   -4232.6731   -4232.6731   -4232.6731   -4232.6731 2.2661816e-11 -2.3776667e-11 -1.9363272e-11    3.5019299    3.5019299    3.5019299    42.945961 
      43            0   -18.221395   -3534.3027   -3534.3027   -3534.3027   -3534.3027 1.7692861e-10 1.733193e-10 1.8754792e-10    3.5015782    3.5015782    3.5015782    42.933025 
      44            0   -18.221422   -2965.5224   -2965.5224   -2965.5224   -2965.5224 3.3744451e-11 -1.8995893e-10 -2.8919623e-11    3.5012265    3.5012265    3.5012265     42.92009 
      45            0   -18.221444   -2579.4194   -2579.4194   -2579.4194   -2579.4194 -2.5397441e-11 -9.5363977e-11 -7.9786984e-11    3.5008749    3.5008749    3.5008749    42.907159 
      46            0   -18.221463   -2235.5585   -2235.5585   -2235.5585   -2235.5585 -8.5769899e-12 -2.8498173e-11 3.9184039e-11    3.5005232    3.5005232    3.5005232     42.89423 
      47            0   -18.221479   -1728.2472   -1728.2472   -1728.2472   -1728.2472 -7.7374923e-11 -1.3664228e-11 4.0051606e-11    3.5001715    3.5001715    3.5001715    42.881303 
      48            0   -18.221491   -1070.4697   -1070.4697   -1070.4697   -1070.4697 1.0681154e-10 -6.0204548e-11 -6.9490768e-11    3.4998198    3.4998198    3.4998198    42.868379 
      49            0   -18.221497   -422.09449   -422.09449   -422.09449   -422.09449 1.6265475e-11 -1.8393485e-10 -1.8508752e-10    3.4994682    3.4994682    3.4994682    42.855458 
      50            0   -18.221498   -2.0030222   -2.0030222   -2.0030222   -2.0030222 -4.0419477e-11 -9.8865612e-11 -1.0178965e-10    3.4992468    3.4992468    3.4992468    42.847327 
      51            0   -18.221498     21.16414     21.16414     21.16414     21.16414 6.513421e-11 -8.3223387e-11 -9.7506969e-11    3.4992348    3.4992348    3.4992348    42.846884 
      52            0   -18.221498  -0.35867019  -0.35867019  -0.35867019  -0.35867019 2.0102636e-11 -1.743079e-10 -5.1094654e-12     3.499246     3.499246     3.499246    42.847295 
      53            0   -18.221498  -0.31234607  -0.31234607  -0.31234607  -0.31234607 8.3181414e-11 4.1512222e-11 3.0282546e-11    3.4992459    3.4992459    3.4992459    42.847295 
      54            0   -18.221498 0.0029714582 0.0029714585 0.0029714582 0.0029714579 1.6324029e-10 1.291366e-11 1.9474199e-10    3.4992458    3.4992458    3.4992458    42.847288 
      55            0   -18.221498 -0.00050501325 -0.00050501313 -0.00050501335 -0.00050501328 1.089397e-10 5.0474887e-11 -1.358297e-10    3.4992458    3.4992458    3.4992458    42.847289 
      56            0   -18.221498 -2.2434809e-09 -2.0809813e-09 -2.2407509e-09 -2.4087106e-09 1.1612538e-12 -1.4785906e-11 -6.0445758e-11    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.0100839 on 1 procs for 56 steps with 4 atoms

67.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2159101921     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 1.28171 3.63506e-13
  Force max component initial, final = 0.739994 1.02307e-13
  Final line search alpha, max atom move = 1 1.02307e-13
  Iterations, force evaluations = 56 63

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0074687  | 0.0074687  | 0.0074687  |   0.0 | 74.07
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00050926 | 0.00050926 | 0.00050926 |   0.0 |  5.05
Output  | 0.00048423 | 0.00048423 | 0.00048423 |   0.0 |  4.80
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001622   |            |       | 16.08

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal -2.08098131417037e-09
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -2.24075088875052e-09
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal -2.40871055883387e-09
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -6.04457579050041e-11
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal -1.47859057944231e-11
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal 1.16125383445593e-12

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 3.49924578415389
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 3.49924578415389
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 3.49924578415389

 # ---- define the derivatives w.r.t. strain components
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--2.08098131417037e-09)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--2.08098131417037e-09)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--2.24075088875052e-09)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--2.24075088875052e-09)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--2.40871055883387e-09)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--2.40871055883387e-09)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--6.04457579050041e-11)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--6.04457579050041e-11)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--1.47859057944231e-11)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--1.47859057944231e-11)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-1.16125383445593e-12)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-1.16125383445593e-12)/(v_delta/v_len0)*0.0001

# ---- write restart files
unfix 3
write_restart restart.equil
# ---- uxx Perturbation
variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 3.49924578415389
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 -3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498    2.2386307    2.3454552    2.1852184    2.1852184 1.2858106e-10 -1.3495187e-11 1.1131882e-11    3.4992423    3.4992458    3.4992458    42.847246 
      57            0   -18.221498    2.2386307    2.3454552    2.1852184    2.1852184 -5.1544468e-11 -2.7704914e-11 -2.9447683e-11    3.4992423    3.4992458    3.4992458    42.847246 
Loop time of 0.000245094 on 1 procs for 1 steps with 4 atoms

79.6% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.31754e-13 4.6276e-15
  Force max component initial, final = 9.83102e-14 2.28983e-15
  Final line search alpha, max atom move = 1 2.28983e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020695 | 0.00020695 | 0.00020695 |   0.0 | 84.44
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3365e-05 | 2.3365e-05 | 2.3365e-05 |   0.0 |  9.53
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  6.03

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 2.3454552107132
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.18521840919798
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.18521840893142
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -5.1544468143682e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -2.7704914080522e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.94476834151281e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 234.545521279418
variable C2neg equal ${d2}
variable C2neg equal 218.521841143873
variable C3neg equal ${d3}
variable C3neg equal 218.521841134013
variable C4neg equal ${d4}
variable C4neg equal 3.0998074489876e-09
variable C5neg equal ${d5}
variable C5neg equal -1.29190082860989e-09
variable C6neg equal ${d6}
variable C6neg equal -5.27057219781379e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50798 3.50797 3.50797) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498   -2.2383708   -2.3451962   -2.1849581   -2.1849581 -2.8332754e-10 -2.240384e-11 -5.1586173e-12    3.4992493    3.4992458    3.4992458    42.847331 
      57            0   -18.221498   -2.2383708   -2.3451962   -2.1849581   -2.1849581 9.2685092e-11 2.963234e-11 -4.7899456e-11    3.4992493    3.4992458    3.4992458    42.847331 
Loop time of 0.000248909 on 1 procs for 1 steps with 4 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979211     -18.2214979211     -18.2214979212
  Force two-norm initial, final = 3.40828e-13 1.13636e-14
  Force max component initial, final = 9.98646e-14 4.66294e-15
  Final line search alpha, max atom move = 1 4.66294e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020933 | 0.00020933 | 0.00020933 |   0.0 | 84.10
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.4796e-05 | 2.4796e-05 | 2.4796e-05 |   0.0 |  9.96
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  5.94

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.22149792115
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -2.23837080798463
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.34519621127234
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.18495810633529
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.18495810634627
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 9.26850919885864e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.96323404698016e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -4.78994556714692e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 234.519620919136
variable C2pos equal ${d2}
variable C2pos equal 218.495810409454
variable C3pos equal ${d3}
variable C3pos equal 218.495810393756
variable C4pos equal ${d4}
variable C4pos equal -1.25463022335349e-09
variable C5pos equal ${d5}
variable C5pos equal -4.44182462642247e-09
variable C6pos equal ${d6}
variable C6pos equal -9.15238381541305e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(234.545521279418+${C1pos})
variable C11 equal 0.5*(234.545521279418+234.519620919136)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(218.521841143873+${C2pos})
variable C21 equal 0.5*(218.521841143873+218.495810409454)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(218.521841134013+${C3pos})
variable C31 equal 0.5*(218.521841134013+218.495810393756)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(3.0998074489876e-09+${C4pos})
variable C41 equal 0.5*(3.0998074489876e-09+-1.25463022335349e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-1.29190082860989e-09+${C5pos})
variable C51 equal 0.5*(-1.29190082860989e-09+-4.44182462642247e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-5.27057219781379e-09+${C6pos})
variable C61 equal 0.5*(-5.27057219781379e-09+-9.15238381541305e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyy Perturbation
variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.49924578415389
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 -3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498    2.2386307    2.1852184    2.3454552    2.1852184 1.3165649e-10 -4.6939229e-12 4.1758304e-11    3.4992458    3.4992423    3.4992458    42.847246 
      57            0   -18.221498    2.2386307    2.1852184    2.3454552    2.1852184 -1.5187279e-11 1.6282401e-12 1.1032303e-12    3.4992458    3.4992423    3.4992458    42.847246 
Loop time of 0.000256062 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.37407e-13 8.75565e-15
  Force max component initial, final = 1.01807e-13 5.22152e-15
  Final line search alpha, max atom move = 1 5.22152e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020933 | 0.00020933 | 0.00020933 |   0.0 | 81.75
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2173e-05 | 2.2173e-05 | 2.2173e-05 |   0.0 |  8.66
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.456e-05  |            |       |  9.59

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 2.18521841003707
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.34545521146689
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.18521840984313
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.51872794966008e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.62824014890648e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.10323025339851e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 218.521841211805
variable C2neg equal ${d2}
variable C2neg equal 234.545521370764
variable C3neg equal ${d3}
variable C3neg equal 218.521841225184
variable C4neg equal ${d4}
variable C4neg equal 6.15489881584026e-09
variable C5neg equal ${d5}
variable C5neg equal 1.64141459433296e-09
variable C6neg equal ${d6}
variable C6neg equal -1.63485333310567e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50798 3.50797) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498   -2.2383708   -2.1849581   -2.3451962   -2.1849581 -3.2520028e-10 -8.5623064e-12 -2.8311203e-11    3.4992458    3.4992493    3.4992458    42.847331 
      57            0   -18.221498   -2.2383708   -2.1849581   -2.3451962   -2.1849581 -6.7877537e-11 -2.6534738e-11 -1.6811432e-11    3.4992458    3.4992493    3.4992458    42.847331 
Loop time of 0.000246763 on 1 procs for 1 steps with 4 atoms

88.3% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979211     -18.2214979211     -18.2214979211
  Force two-norm initial, final = 3.39017e-13 9.57626e-15
  Force max component initial, final = 1.00364e-13 5.32907e-15
  Final line search alpha, max atom move = 1 5.32907e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0002079  | 0.0002079  | 0.0002079  |   0.0 | 84.25
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.1458e-05 | 2.1458e-05 | 2.1458e-05 |   0.0 |  8.70
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.74e-05   |            |       |  7.05

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2214979211499
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -2.23837080716667
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.18495810562348
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.34519621068859
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.18495810518794
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -6.78775371999542e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -2.65347376048857e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.68114318921426e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 218.49581035425
variable C2pos equal ${d2}
variable C2pos equal 234.519620844784
variable C3pos equal ${d3}
variable C3pos equal 218.495810277923
variable C4pos equal ${d4}
variable C4pos equal -4.36343260128615e-09
variable C5pos equal ${d5}
variable C5pos equal 1.17488318104626e-09
variable C6pos equal ${d6}
variable C6pos equal 6.90387910344101e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(218.521841211805+${C1pos})
variable C12 equal 0.5*(218.521841211805+218.49581035425)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(234.545521370764+${C2pos})
variable C22 equal 0.5*(234.545521370764+234.519620844784)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(218.521841225184+${C3pos})
variable C32 equal 0.5*(218.521841225184+218.495810277923)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(6.15489881584026e-09+${C4pos})
variable C42 equal 0.5*(6.15489881584026e-09+-4.36343260128615e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(1.64141459433296e-09+${C5pos})
variable C52 equal 0.5*(1.64141459433296e-09+1.17488318104626e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-1.63485333310567e-09+${C6pos})
variable C62 equal 0.5*(-1.63485333310567e-09+6.90387910344101e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uzz Perturbation
variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.49924578415389
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498    2.2386307    2.1852184    2.1852184    2.3454552 7.2127922e-11 6.9957315e-11 -6.538679e-11    3.4992458    3.4992458    3.4992423    42.847246 
      57            0   -18.221498    2.2386307    2.1852184    2.1852184    2.3454552 1.5243835e-10 5.6873876e-11 5.0275019e-11    3.4992458    3.4992458    3.4992423    42.847246 
Loop time of 0.000257015 on 1 procs for 1 steps with 4 atoms

100.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.42179e-13 1.07241e-14
  Force max component initial, final = 1.03195e-13 6.07847e-15
  Final line search alpha, max atom move = 1 6.07847e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020909 | 0.00020909 | 0.00020909 |   0.0 | 81.35
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.1471e-05 | 3.1471e-05 | 3.1471e-05 |   0.0 | 12.24
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.645e-05  |            |       |  6.40

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 2.18521840947632
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.18521840905528
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.34545521063296
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.52438346166188e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.68738760260271e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 5.02750185411265e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 218.52184115573
variable C2neg equal ${d2}
variable C2neg equal 218.521841129603
variable C3neg equal ${d3}
variable C3neg equal 234.545521304167
variable C4neg equal ${d4}
variable C4neg equal 1.10720776446131e-08
variable C5neg equal ${d5}
variable C5neg equal 7.16597818204502e-09
variable C6neg equal ${d6}
variable C6neg equal 1.51277092331732e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50798) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498   -2.2383708   -2.1849581   -2.1849581   -2.3451962 4.0020522e-11 5.0974001e-11 8.2743877e-11    3.4992458    3.4992458    3.4992493    42.847331 
      57            0   -18.221498   -2.2383708   -2.1849581   -2.1849581   -2.3451962 -2.9134621e-10 4.3445495e-11 -1.3401231e-10    3.4992458    3.4992458    3.4992493    42.847331 
Loop time of 0.000255823 on 1 procs for 1 steps with 4 atoms

100.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979211     -18.2214979211     -18.2214979211
  Force two-norm initial, final = 3.37928e-13 8.28033e-15
  Force max component initial, final = 1.01141e-13 3.747e-15
  Final line search alpha, max atom move = 1 3.747e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020814 | 0.00020814 | 0.00020814 |   0.0 | 81.36
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.4319e-05 | 2.4319e-05 | 2.4319e-05 |   0.0 |  9.51
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.337e-05  |            |       |  9.13

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2214979211498
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -2.23837080754341
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.18495810625034
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.18495810541821
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.34519621096168
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.91346209354414e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 4.34454954948235e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.34012308550838e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 218.495810416936
variable C2pos equal ${d2}
variable C2pos equal 218.495810317746
variable C3pos equal ${d3}
variable C3pos equal 234.519620855297
variable C4pos equal ${d4}
variable C4pos equal 7.35665506458339e-09
variable C5pos equal ${d5}
variable C5pos equal -5.82314012892466e-09
variable C6pos equal ${d6}
variable C6pos equal 2.9250746318887e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(218.52184115573+${C1pos})
variable C13 equal 0.5*(218.52184115573+218.495810416936)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(218.521841129603+${C2pos})
variable C23 equal 0.5*(218.521841129603+218.495810317746)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(234.545521304167+${C3pos})
variable C33 equal 0.5*(234.545521304167+234.519620855297)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(1.10720776446131e-08+${C4pos})
variable C43 equal 0.5*(1.10720776446131e-08+7.35665506458339e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(7.16597818204502e-09+${C5pos})
variable C53 equal 0.5*(7.16597818204502e-09+-5.82314012892466e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(1.51277092331732e-08+${C6pos})
variable C63 equal 0.5*(1.51277092331732e-08+2.9250746318887e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyz Perturbation
variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.49924578415389
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 -3.49925e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498 5.1237352e-07 -2.4353661e-07 4.3008245e-07 1.3505747e-06 -2.6697689e-11 -6.4430204e-12   0.50034965    3.4992458    3.4992458    3.4992458    42.847289 
      57            0   -18.221498 5.1261266e-07 -2.4300154e-07 4.3019516e-07 1.3506444e-06 -1.0390156e-10 -1.5433552e-11   0.50034965    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.000247002 on 1 procs for 1 steps with 4 atoms

89.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.41146e-13 1.058e-14
  Force max component initial, final = 1.00975e-13 4.97172e-15
  Final line search alpha, max atom move = 1 4.97172e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020695 | 0.00020695 | 0.00020695 |   0.0 | 83.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2888e-05 | 2.2888e-05 | 2.2888e-05 |   0.0 |  9.27
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.717e-05  |            |       |  6.95

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.43001539347976e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 4.30195158044574e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.35064436879943e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.03901558852806e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.54335524889179e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.500349650173668

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -2.40920558033806e-05
variable C2neg equal ${d2}
variable C2neg equal 4.32435908933325e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000135305307935826
variable C4neg equal ${d4}
variable C4neg equal 50.0349650234114
variable C5neg equal ${d5}
variable C5neg equal -6.47646694494801e-11
variable C6neg equal ${d6}
variable C6neg equal -1.05062812687262e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 3.49925e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498 5.1225355e-07 -2.4367201e-07 4.3000221e-07 1.3504305e-06 2.5105837e-10 -8.8475481e-11  -0.50034965    3.4992458    3.4992458    3.4992458    42.847289 
      57            0   -18.221498 5.1258308e-07 -2.4297907e-07 4.3008733e-07 1.350641e-06 -1.8186773e-10 -7.7551384e-11  -0.50034965    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.000248909 on 1 procs for 1 steps with 4 atoms

90.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.39148e-13 7.40557e-15
  Force max component initial, final = 1.01807e-13 4.14599e-15
  Final line search alpha, max atom move = 1 4.14599e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020933 | 0.00020933 | 0.00020933 |   0.0 | 84.10
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2888e-05 | 2.2888e-05 | 2.2888e-05 |   0.0 |  9.20
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.669e-05  |            |       |  6.70

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2214979211746
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 5.12583084183594e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.42979070872628e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 4.30087329684215e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.3506409937392e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.81867730817878e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.75513841564301e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.500349650100259

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 2.40898089558458e-05
variable C2pos equal ${d2}
variable C2pos equal -4.32328080572966e-05
variable C3pos equal ${d3}
variable C3pos equal -0.000135304970429803
variable C4pos equal ${d4}
variable C4pos equal 50.0349650039813
variable C5pos equal ${d5}
variable C5pos equal 6.2765478362007e-09
variable C6pos equal ${d6}
variable C6pos equal 1.83028984652334e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-2.40920558033806e-05+${C1pos})
variable C14 equal 0.5*(-2.40920558033806e-05+2.40898089558458e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(4.32435908933325e-05+${C2pos})
variable C24 equal 0.5*(4.32435908933325e-05+-4.32328080572966e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(0.000135305307935826+${C3pos})
variable C34 equal 0.5*(0.000135305307935826+-0.000135304970429803)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(50.0349650234114+${C4pos})
variable C44 equal 0.5*(50.0349650234114+50.0349650039813)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-6.47646694494801e-11+${C5pos})
variable C54 equal 0.5*(-6.47646694494801e-11+6.2765478362007e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-1.05062812687262e-08+${C6pos})
variable C64 equal 0.5*(-1.05062812687262e-08+1.83028984652334e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxz Perturbation
variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.49924578415389
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -3.49925e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498 5.122542e-07 4.2982004e-07 -2.4350843e-07 1.350451e-06 8.6824185e-11   0.50034965 -5.7452799e-11    3.4992458    3.4992458    3.4992458    42.847289 
      57            0   -18.221498 5.1232173e-07 4.3009591e-07 -2.4335526e-07 1.3502245e-06 4.1398332e-11   0.50034965 1.7292724e-10    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.000256062 on 1 procs for 1 steps with 4 atoms

100.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.37429e-13 4.33541e-15
  Force max component initial, final = 1.00253e-13 2.51188e-15
  Final line search alpha, max atom move = 1 2.51188e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020599 | 0.00020599 | 0.00020599 |   0.0 | 80.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.1233e-05 | 3.1233e-05 | 3.1233e-05 |   0.0 | 12.20
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.884e-05  |            |       |  7.36

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 4.30095905681876e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.43355256556479e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.35022454779285e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.13983317931476e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.500349650330487
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.72927241853911e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 4.32176886996046e-05
variable C2neg equal ${d2}
variable C2neg equal -2.41114505667729e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000135263325835168
variable C4neg equal ${d4}
variable C4neg equal 2.33372999758915e-08
variable C5neg equal ${d5}
variable C5neg equal 50.0349650345273
variable C6neg equal ${d6}
variable C6neg equal 4.02370779586917e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 3.49925e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498 5.1239054e-07  4.30026e-07 -2.4325263e-07 1.3503982e-06 9.9281502e-11  -0.50034965 -9.5360908e-11    3.4992458    3.4992458    3.4992458    42.847289 
      57            0   -18.221498 5.1227725e-07 4.3017129e-07 -2.434899e-07 1.3501503e-06 -8.8118465e-11  -0.50034965 1.305378e-10    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.000259161 on 1 procs for 1 steps with 4 atoms

100.3% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.36121e-13 5.3786e-15
  Force max component initial, final = 9.91429e-14 2.23085e-15
  Final line search alpha, max atom move = 1 2.23085e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021887 | 0.00021887 | 0.00021887 |   0.0 | 84.45
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2173e-05 | 2.2173e-05 | 2.2173e-05 |   0.0 |  8.56
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.812e-05  |            |       |  6.99

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2214979211746
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 5.12277245659033e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 4.30171292922677e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.43489903089751e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.35015034714417e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.81184646522079e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.500349650219967
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.30537802844208e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -4.32252274236847e-05
variable C2pos equal ${d2}
variable C2pos equal 2.41249152201001e-05
variable C3pos equal ${d3}
variable C3pos equal -0.0001352559057703
variable C4pos equal ${d4}
variable C4pos equal -1.90983560749212e-08
variable C5pos equal ${d5}
variable C5pos equal 50.0349650205181
variable C6pos equal ${d6}
variable C6pos equal 8.92797184866638e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(4.32176886996046e-05+${C1pos})
variable C15 equal 0.5*(4.32176886996046e-05+-4.32252274236847e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-2.41114505667729e-05+${C2pos})
variable C25 equal 0.5*(-2.41114505667729e-05+2.41249152201001e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(0.000135263325835168+${C3pos})
variable C35 equal 0.5*(0.000135263325835168+-0.0001352559057703)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(2.33372999758915e-08+${C4pos})
variable C45 equal 0.5*(2.33372999758915e-08+-1.90983560749212e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(50.0349650345273+${C5pos})
variable C55 equal 0.5*(50.0349650345273+50.0349650205181)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(4.02370779586917e-09+${C6pos})
variable C65 equal 0.5*(4.02370779586917e-09+8.92797184866638e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxy Perturbation
variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.49924578415389

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (-3.49925e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498 5.1259035e-07 4.3024778e-07 1.350807e-06 -2.4328374e-07   0.50034965 1.7550947e-10 -1.0798672e-10    3.4992458    3.4992458    3.4992458    42.847289 
      57            0   -18.221498 5.1287298e-07 4.3079322e-07 1.3508212e-06 -2.429955e-07   0.50034965 -3.6454198e-12 2.2040765e-11    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.000257015 on 1 procs for 1 steps with 4 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.40923e-13 7.07156e-15
  Force max component initial, final = 1.01807e-13 4.32293e-15
  Final line search alpha, max atom move = 1 4.32293e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0002079  | 0.0002079  | 0.0002079  |   0.0 | 80.89
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3365e-05 | 2.3365e-05 | 2.3365e-05 |   0.0 |  9.09
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.575e-05  |            |       | 10.02

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 4.30793218972292e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.35082121207402e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.42995499206386e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.500349650278574
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.64541979409065e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.2040765010688e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 4.32874200286462e-05
variable C2neg equal ${d2}
variable C2neg equal 0.000135306196296277
variable C3neg equal ${d3}
variable C3neg equal -2.40586788647552e-05
variable C4neg equal ${d4}
variable C4neg equal 8.24865229156921e-09
variable C5neg equal ${d5}
variable C5neg equal 1.11404860003325e-09
variable C6neg equal ${d6}
variable C6neg equal 50.0349650277413

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_54/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49924578415389
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 3.49924578415389e-06 remap units box
  triclinic box = (0.00872711 0.00872711 0.00872711) to (3.50797 3.50797 3.50797) with tilt (3.49925e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      56            0   -18.221498 5.1264814e-07 4.3020087e-07 1.3506568e-06 -2.4291324e-07  -0.50034965 6.3833234e-11 -8.9293401e-11    3.4992458    3.4992458    3.4992458    42.847289 
      57            0   -18.221498 5.1244849e-07 4.3042225e-07 1.3502777e-06 -2.4335449e-07  -0.50034965 5.8067759e-12 3.4204158e-12    3.4992458    3.4992458    3.4992458    42.847289 
Loop time of 0.000247955 on 1 procs for 1 steps with 4 atoms

92.8% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2214979212     -18.2214979212     -18.2214979212
  Force two-norm initial, final = 3.37574e-13 3.78325e-15
  Force max component initial, final = 9.91429e-14 2.16493e-15
  Final line search alpha, max atom move = 1 2.16493e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0002079  | 0.0002079  | 0.0002079  |   0.0 | 83.85
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.4319e-05 | 2.4319e-05 | 2.4319e-05 |   0.0 |  9.81
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.574e-05  |            |       |  6.35

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2214979211747
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 5.12448491536418e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 4.30422253356273e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.35027771335325e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.43354492100267e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.500349650123997
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.80677593808128e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.4204157781629e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -4.32503234670443e-05
variable C2pos equal ${d2}
variable C2pos equal -0.0001352518464242
variable C3pos equal ${d3}
variable C3pos equal 2.40945781541433e-05
variable C4pos equal ${d4}
variable C4pos equal -6.3866173683167e-09
variable C5pos equal ${d5}
variable C5pos equal -2.05926817325044e-09
variable C6pos equal ${d6}
variable C6pos equal 50.0349650125158

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(4.32874200286462e-05+${C1pos})
variable C16 equal 0.5*(4.32874200286462e-05+-4.32503234670443e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(0.000135306196296277+${C2pos})
variable C26 equal 0.5*(0.000135306196296277+-0.0001352518464242)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-2.40586788647552e-05+${C3pos})
variable C36 equal 0.5*(-2.40586788647552e-05+2.40945781541433e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(8.24865229156921e-09+${C4pos})
variable C46 equal 0.5*(8.24865229156921e-09+-6.3866173683167e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(1.11404860003325e-09+${C5pos})
variable C56 equal 0.5*(1.11404860003325e-09+-2.05926817325044e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(50.0349650277413+${C6pos})
variable C66 equal 0.5*(50.0349650277413+50.0349650125158)

# Delete dir to make sure it is not reused

variable dir delete

# ---- Output final values
variable C11all equal ${C11}
variable C11all equal 234.532571099277
variable C22all equal ${C22}
variable C22all equal 234.532571107774
variable C33all equal ${C33}
variable C33all equal 234.532571079732
variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(218.508825783028+${C21})
variable C12all equal 0.5*(218.508825783028+218.508825776664)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(218.508825786333+${C31})
variable C13all equal 0.5*(218.508825786333+218.508825763884)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(218.508825723674+${C32})
variable C23all equal 0.5*(218.508825723674+218.508825751554)
variable C44all equal ${C44}
variable C44all equal 50.0349650136964
variable C55all equal ${C55}
variable C55all equal 50.0349650275227
variable C66all equal ${C66}
variable C66all equal 50.0349650201286
variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-1.12342376739896e-09+${C41})
variable C14all equal 0.5*(-1.12342376739896e-09+9.22588612817055e-10)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-3.76936204005227e-09+${C51})
variable C15all equal 0.5*(-3.76936204005227e-09+-2.86686272751618e-09)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(1.85482808009507e-08+${C61})
variable C16all equal 0.5*(1.85482808009507e-08+-7.21147800661342e-09)
variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(5.39141801794945e-09+${C42})
variable C24all equal 0.5*(5.39141801794945e-09+8.95733107277055e-10)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(6.73232666359952e-09+${C52})
variable C25all equal 0.5*(6.73232666359952e-09+1.40814888768961e-09)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(2.71749360384926e-08+${C62})
variable C26all equal 0.5*(2.71749360384926e-08+2.63451288516767e-09)
variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(1.68753011496841e-10+${C43})
variable C34all equal 0.5*(1.68753011496841e-10+9.21436635459824e-09)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(3.71003243400489e-09+${C53})
variable C35all equal 0.5*(3.71003243400489e-09+6.7141902656018e-10)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(1.79496446940499e-08+${C63})
variable C36all equal 0.5*(1.79496446940499e-08+2.21892277760301e-08)
variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(2.11947195048515e-09+${C54})
variable C45all equal 0.5*(2.11947195048515e-09+3.10589158337561e-09)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(9.31017461626255e-10+${C64})
variable C46all equal 0.5*(9.31017461626255e-10+3.8983085982536e-09)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(-4.72609786608595e-10+${C65})
variable C56all equal 0.5*(-4.72609786608595e-10+6.47583982226777e-09)

print "c11 = ${C11all} ${cunits}"
c11 = 234.532571099277 GPa
print "c22 = ${C22all} ${cunits}"
c22 = 234.532571107774 GPa
print "c33 = ${C33all} ${cunits}"
c33 = 234.532571079732 GPa
print "c12 = ${C12all} ${cunits}"
c12 = 218.508825779846 GPa
print "c13 = ${C13all} ${cunits}"
c13 = 218.508825775109 GPa
print "c23 = ${C23all} ${cunits}"
c23 = 218.508825737614 GPa
print "c44 = ${C44all} ${cunits}"
c44 = 50.0349650136964 GPa
print "c55 = ${C55all} ${cunits}"
c55 = 50.0349650275227 GPa
print "c66 = ${C66all} ${cunits}"
c66 = 50.0349650201286 GPa
print "c14 = ${C14all} ${cunits}"
c14 = -1.00417577290952e-10 GPa
print "c15 = ${C15all} ${cunits}"
c15 = -3.31811238378422e-09 GPa
print "c16 = ${C16all} ${cunits}"
c16 = 5.66840139716864e-09 GPa
print "c24 = ${C24all} ${cunits}"
c24 = 3.14357556261325e-09 GPa
print "c25 = ${C25all} ${cunits}"
c25 = 4.07023777564457e-09 GPa
print "c26 = ${C26all} ${cunits}"
c26 = 1.49047244618301e-08 GPa
print "c34 = ${C34all} ${cunits}"
c34 = 4.69155968304754e-09 GPa
print "c35 = ${C35all} ${cunits}"
c35 = 2.19072573028254e-09 GPa
print "c36 = ${C36all} ${cunits}"
c36 = 2.006943623504e-08 GPa
print "c45 = ${C45all} ${cunits}"
c45 = 2.61268176693038e-09 GPa
print "c46 = ${C46all} ${cunits}"
c46 = 2.41466302993993e-09 GPa
print "c56 = ${C56all} ${cunits}"
c56 = 3.00161501782959e-09 GPa
print "lammps_sim_done"
lammps_sim_done
Total wall time: 0:00:00
