LAMMPS (11 Aug 2017)
include init.mod
# ---- init.mod file
variable up equal 1.0e-6
units metal
dimension 3
boundary p p p
atom_style atomic
atom_modify map array
variable cfac equal 1.0e-4
variable cunits string GPa
# ---- define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2
# --- read data structure
read_data lammps.structure
  triclinic box = (0 0 0) to (3.5167 3.5167 3.5167) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no
# ---- Compute initial state
fix 3 all box/relax aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0   -18.217817   -34764.735   -34764.735   -34764.735   -34764.735 -1.2496917e-11 -1.3100095e-10 -1.6196191e-10       3.5167       3.5167       3.5167    43.491658 
       1            0   -18.218098   -34242.162   -34242.162   -34242.162   -34242.162 8.0007563e-12 -6.747843e-11 -4.0456244e-11    3.5163483    3.5163483    3.5163483    43.478612 
       2            0   -18.218374   -33725.292   -33725.292   -33725.292   -33725.292 4.7724954e-11 6.530862e-11 5.4846143e-11    3.5159967    3.5159967    3.5159967    43.465568 
       3            0   -18.218647   -33214.148   -33214.148   -33214.148   -33214.148 6.7011609e-11 3.6147569e-11 2.7735748e-11     3.515645     3.515645     3.515645    43.452527 
       4            0   -18.218915   -32707.776   -32707.776   -32707.776   -32707.776 9.0758319e-11 1.2658733e-10 4.0780598e-11    3.5152933    3.5152933    3.5152933    43.439489 
       5            0   -18.219179   -32195.446   -32195.446   -32195.446   -32195.446 -5.3048017e-11 6.8081484e-11 3.9791325e-11    3.5149417    3.5149417    3.5149417    43.426453 
       6            0   -18.219439   -31674.171   -31674.171   -31674.171   -31674.171 1.3964393e-12 -1.0067842e-10 -8.5192049e-11      3.51459      3.51459      3.51459     43.41342 
       7            0   -18.219694   -31143.924   -31143.924   -31143.924   -31143.924 2.0365017e-11 8.9661859e-11 1.4312072e-10    3.5142383    3.5142383    3.5142383    43.400389 
       8            0   -18.219945   -30610.606   -30610.606   -30610.606   -30610.606 -1.2820726e-11 -5.0926329e-11 -1.0078143e-10    3.5138866    3.5138866    3.5138866    43.387362 
       9            0   -18.220192   -30074.003   -30074.003   -30074.003   -30074.003 6.733716e-11 5.3893958e-11 3.4053861e-11     3.513535     3.513535     3.513535    43.374336 
      10            0   -18.220434   -29531.723   -29531.723   -29531.723   -29531.723 1.0848842e-10 7.1635988e-11 -3.7707105e-11    3.5131833    3.5131833    3.5131833    43.361313 
      11            0   -18.220672   -28983.748   -28983.748   -28983.748   -28983.748 4.382814e-11 -2.453902e-11 -6.1241107e-12    3.5128316    3.5128316    3.5128316    43.348293 
      12            0   -18.220905   -28432.443   -28432.443   -28432.443   -28432.443 -8.1606266e-11 -2.6566161e-11 2.8487222e-11      3.51248      3.51248      3.51248    43.335276 
      13            0   -18.221134   -27888.982   -27888.982   -27888.982   -27888.982 1.1703373e-11 4.1595399e-12 -4.9532557e-11    3.5121283    3.5121283    3.5121283    43.322261 
      14            0   -18.221358   -27353.521   -27353.521   -27353.521   -27353.521 -1.7982292e-10 -1.2954851e-10 -1.3231953e-10    3.5117766    3.5117766    3.5117766    43.309249 
      15            0   -18.221578   -26824.953   -26824.953   -26824.953   -26824.953 -4.0759054e-11 -1.0651642e-10 -9.5085986e-11     3.511425     3.511425     3.511425    43.296239 
      16            0   -18.221794   -26291.892   -26291.892   -26291.892   -26291.892 -6.7158834e-11 -1.5269529e-10 -1.4785125e-10    3.5110733    3.5110733    3.5110733    43.283232 
      17            0   -18.222005   -25751.836   -25751.836   -25751.836   -25751.836 8.4999508e-12 1.2489762e-10 9.0596725e-11    3.5107216    3.5107216    3.5107216    43.270227 
      18            0   -18.222212   -25204.762   -25204.762   -25204.762   -25204.762 1.8133927e-11 6.9834643e-11 9.2830587e-11    3.5103699    3.5103699    3.5103699    43.257226 
      19            0   -18.222414   -24654.165   -24654.165   -24654.165   -24654.165 -3.5287331e-12 1.6631529e-11 4.8825586e-11    3.5100183    3.5100183    3.5100183    43.244226 
      20            0   -18.222612   -24105.226   -24105.226   -24105.226   -24105.226 -8.3327674e-11 9.1909502e-11 5.2135124e-12    3.5096666    3.5096666    3.5096666     43.23123 
      21            0   -18.222805    -23557.15    -23557.15    -23557.15    -23557.15 -2.9145916e-11 3.5375123e-12 -8.5395677e-12    3.5093149    3.5093149    3.5093149    43.218236 
      22            0   -18.222994   -23009.941   -23009.941   -23009.941   -23009.941 7.7977077e-11 1.2572323e-10 1.0937371e-10    3.5089633    3.5089633    3.5089633    43.205244 
      23            0   -18.223178   -22460.506   -22460.506   -22460.506   -22460.506 -1.77929e-10 -6.609138e-11 -9.9296934e-11    3.5086116    3.5086116    3.5086116    43.192255 
      24            0   -18.223358   -21913.054   -21913.054   -21913.054   -21913.054 -5.0298272e-12 -4.8185968e-11 -6.7828054e-11    3.5082599    3.5082599    3.5082599    43.179269 
      25            0   -18.223534   -21367.945   -21367.945   -21367.945   -21367.945 -1.3292577e-11 -6.5251862e-12 -1.7968407e-11    3.5079083    3.5079083    3.5079083    43.166285 
      26            0   -18.223705   -20825.741   -20825.741   -20825.741   -20825.741 4.2745983e-11 8.6820843e-11 9.5250486e-11    3.5075566    3.5075566    3.5075566    43.153304 
      27            0   -18.223871   -20280.639   -20280.639   -20280.639   -20280.639 -1.4143391e-11 1.0624404e-10 1.2697846e-11    3.5072049    3.5072049    3.5072049    43.140326 
      28            0   -18.224033   -19726.631   -19726.631   -19726.631   -19726.631 -4.0206629e-11 5.1723996e-11 -2.6996327e-12    3.5068532    3.5068532    3.5068532     43.12735 
      29            0    -18.22419    -19163.69    -19163.69    -19163.69    -19163.69 -1.0915474e-11 -7.795936e-11 -5.8865874e-11    3.5065016    3.5065016    3.5065016    43.114377 
      30            0   -18.224343   -18594.008   -18594.008   -18594.008   -18594.008 7.0081188e-11 -5.4798453e-11 -4.9066467e-11    3.5061499    3.5061499    3.5061499    43.101406 
      31            0   -18.224492   -18031.051   -18031.051   -18031.051   -18031.051 -2.2089037e-10 -1.4456078e-10 -6.9563453e-11    3.5057982    3.5057982    3.5057982    43.088438 
      32            0   -18.224635   -17476.993   -17476.993   -17476.993   -17476.993 6.0956788e-11 1.1829427e-10 8.1150537e-11    3.5054466    3.5054466    3.5054466    43.075473 
      33            0   -18.224774   -16931.866   -16931.866   -16931.866   -16931.866 -2.1391961e-11 7.3840391e-11 6.3315535e-11    3.5050949    3.5050949    3.5050949     43.06251 
      34            0   -18.224909   -16386.971   -16386.971   -16386.971   -16386.971 4.6573384e-11 9.9918134e-11 8.6840443e-11    3.5047432    3.5047432    3.5047432     43.04955 
      35            0   -18.225039   -15833.692   -15833.692   -15833.692   -15833.692 -1.7109975e-11 -6.10888e-11 -7.4145201e-11    3.5043916    3.5043916    3.5043916    43.036592 
      36            0   -18.225165   -15272.077   -15272.077   -15272.077   -15272.077 -5.7008619e-11 3.0357021e-12 -1.4469928e-11    3.5040399    3.5040399    3.5040399    43.023637 
      37            0   -18.225286   -14703.326   -14703.326   -14703.326   -14703.326 -3.6865355e-11 1.9530769e-11 -4.5829431e-12    3.5036882    3.5036882    3.5036882    43.010685 
      38            0   -18.225403   -14136.652   -14136.652   -14136.652   -14136.652 -6.1237683e-11 7.6633141e-11 6.5443514e-11    3.5033365    3.5033365    3.5033365    42.997735 
      39            0   -18.225515   -13572.726   -13572.726   -13572.726   -13572.726 -3.3195588e-11 -9.3374495e-11 2.2146557e-11    3.5029849    3.5029849    3.5029849    42.984788 
      40            0   -18.225622    -13011.56    -13011.56    -13011.56    -13011.56 5.2835111e-12 -9.1012568e-11 -2.3966739e-11    3.5026332    3.5026332    3.5026332    42.971843 
      41            0   -18.225725   -12452.213   -12452.213   -12452.213   -12452.213  9.73255e-12 -6.8332683e-11 -1.4866271e-11    3.5022815    3.5022815    3.5022815    42.958901 
      42            0   -18.225823   -11890.437   -11890.437   -11890.437   -11890.437 -4.284631e-11 -2.6527391e-11 -7.256746e-11    3.5019299    3.5019299    3.5019299    42.945961 
      43            0   -18.225917   -11325.722   -11325.722   -11325.722   -11325.722 1.2090424e-11 -1.428972e-10 -1.3816435e-10    3.5015782    3.5015782    3.5015782    42.933025 
      44            0   -18.226006    -10758.06    -10758.06    -10758.06    -10758.06 -2.8799091e-11 -7.4681876e-12 -3.1444601e-11    3.5012265    3.5012265    3.5012265     42.92009 
      45            0   -18.226091   -10191.171   -10191.171   -10191.171   -10191.171 -7.1793028e-11 4.3190591e-11 6.6351885e-11    3.5008749    3.5008749    3.5008749    42.907159 
      46            0   -18.226171    -9631.577    -9631.577    -9631.577    -9631.577 -5.3463119e-11 -2.3336337e-11 -1.4415782e-10    3.5005232    3.5005232    3.5005232     42.89423 
      47            0   -18.226246   -9079.3368   -9079.3368   -9079.3368   -9079.3368 -5.0324588e-11 -7.3316417e-11 -1.1082279e-10    3.5001715    3.5001715    3.5001715    42.881303 
      48            0   -18.226317   -8531.2588   -8531.2588   -8531.2588   -8531.2588 -1.22539e-12 -4.1883847e-12 -4.4004125e-11    3.4998198    3.4998198    3.4998198    42.868379 
      49            0   -18.226384    -7982.735    -7982.735    -7982.735    -7982.735 3.3162385e-11 6.5234672e-11 9.8084063e-11    3.4994682    3.4994682    3.4994682    42.855458 
      50            0   -18.226446   -7439.2097   -7439.2097   -7439.2097   -7439.2097 2.1208586e-10 2.634714e-10 2.8645933e-10    3.4991165    3.4991165    3.4991165     42.84254 
      51            0   -18.226504   -6900.7019   -6900.7019   -6900.7019   -6900.7019 2.142615e-11 -5.8281318e-11 -8.6591299e-11    3.4987648    3.4987648    3.4987648    42.829624 
      52            0   -18.226557   -6366.9337   -6366.9337   -6366.9337   -6366.9337 -3.2651418e-12 2.5825479e-11 3.3096169e-11    3.4984132    3.4984132    3.4984132     42.81671 
      53            0   -18.226606    -5815.812    -5815.812    -5815.812    -5815.812 -3.3271018e-11 -3.5645092e-11 -3.6312166e-11    3.4980615    3.4980615    3.4980615    42.803799 
      54            0   -18.226651   -5243.6579   -5243.6579   -5243.6579   -5243.6579 -3.6071052e-11 -1.2578419e-10 -1.3730598e-10    3.4977098    3.4977098    3.4977098    42.790891 
      55            0   -18.226691    -4650.872    -4650.872    -4650.872    -4650.872 3.9810286e-11 1.0101637e-10 1.1601049e-10    3.4973582    3.4973582    3.4973582    42.777985 
      56            0   -18.226726   -4058.8022   -4058.8022   -4058.8022   -4058.8022 -3.9003313e-12 -5.0306874e-11 -6.4081859e-11    3.4970065    3.4970065    3.4970065    42.765082 
      57            0   -18.226756   -3477.0614   -3477.0614   -3477.0614   -3477.0614 -1.2273111e-10 -3.6741499e-11 -1.3428695e-12    3.4966548    3.4966548    3.4966548    42.752182 
      58            0   -18.226782   -2905.6873   -2905.6873   -2905.6873   -2905.6873 3.2497571e-11 -5.4900513e-11 -6.138471e-11    3.4963031    3.4963031    3.4963031    42.739284 
      59            0   -18.226803   -2339.9635   -2339.9635   -2339.9635   -2339.9635 -9.3135611e-11 -9.2120863e-11 -1.0476284e-10    3.4959515    3.4959515    3.4959515    42.726389 
      60            0    -18.22682     -1767.55     -1767.55     -1767.55     -1767.55 4.6072301e-11 3.1143748e-11 5.3758855e-11    3.4955998    3.4955998    3.4955998    42.713496 
      61            0   -18.226832   -1189.4542   -1189.4542   -1189.4542   -1189.4542 -3.0937797e-11 1.0331837e-11 7.5462382e-12    3.4952481    3.4952481    3.4952481    42.700606 
      62            0   -18.226839   -605.65847   -605.65847   -605.65847   -605.65847 1.3314561e-11 -1.1000793e-10 -1.4326209e-10    3.4948965    3.4948965    3.4948965    42.687718 
      63            0   -18.226841   -20.952288   -20.952288   -20.952288   -20.952288 1.2265998e-10 3.4064061e-11 1.0688853e-10    3.4945448    3.4945448    3.4945448    42.674833 
      64            0   -18.226841    13.540681    13.540681    13.540681    13.540681 -7.8342935e-11 8.0317167e-11 7.2787099e-12     3.494524     3.494524     3.494524    42.674073 
      65            0   -18.226841 -0.020672662 -0.020672662 -0.020672662 -0.020672662 2.8986413e-11 9.3811508e-11 1.422511e-10    3.4945322    3.4945322    3.4945322    42.674372 
      66            0   -18.226841 -0.0088466542 -0.0088466542 -0.0088466542 -0.0088466541 9.5051755e-11 -1.6033148e-10 -1.8494917e-10    3.4945322    3.4945322    3.4945322    42.674372 
      67            0   -18.226841 0.0088786094 0.0088786094 0.0088786096 0.0088786093 1.7722174e-11 -1.3603791e-11 -3.6014734e-11    3.4945322    3.4945322    3.4945322    42.674371 
      68            0   -18.226841 -2.7193897e-08 -2.7284989e-08 -2.7169689e-08 -2.7127013e-08 2.8459913e-11 3.6474197e-11 -1.0697721e-10    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.013099 on 1 procs for 68 steps with 4 atoms

59.3% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2178167775     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 1.63454 1.26385e-12
  Force max component initial, final = 0.943701 7.31353e-13
  Final line search alpha, max atom move = 1 7.31353e-13
  Iterations, force evaluations = 68 73

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.010217   | 0.010217   | 0.010217   |   0.0 | 78.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00057721 | 0.00057721 | 0.00057721 |   0.0 |  4.41
Output  | 0.00055528 | 0.00055528 | 0.00055528 |   0.0 |  4.24
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001749   |            |       | 13.35

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal -2.72849886635912e-08
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -2.71696894644554e-08
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal -2.71270130153643e-08
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -1.06977206335808e-10
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal 3.6474197173673e-11
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal 2.84599127987326e-11

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 3.49453218251792
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 3.49453218251792
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 3.49453218251792

 # ---- define the derivatives w.r.t. strain components
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--2.72849886635912e-08)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--2.72849886635912e-08)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--2.71696894644554e-08)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--2.71696894644554e-08)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--2.71270130153643e-08)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--2.71270130153643e-08)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--1.06977206335808e-10)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--1.06977206335808e-10)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-3.6474197173673e-11)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-3.6474197173673e-11)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-2.84599127987326e-11)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-2.84599127987326e-11)/(v_delta/v_len0)*0.0001

# ---- write restart files
unfix 3
write_restart restart.equil
# ---- uxx Perturbation
variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 3.49453218251792
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 -3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50561 3.50562 3.50562) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841    1.9360307    2.0768106    1.8656408    1.8656408 -1.7258402e-11 1.6001872e-11 -9.8958823e-11    3.4945287    3.4945322    3.4945322    42.674329 
      69            0   -18.226841    1.9360307    2.0768106    1.8656408    1.8656408 -3.9859666e-12 -1.7814288e-11 -6.6659964e-11    3.4945287    3.4945322    3.4945322    42.674329 
Loop time of 0.000257969 on 1 procs for 1 steps with 4 atoms

89.2% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.82339e-14 3.31004e-15
  Force max component initial, final = 2.18436e-14 1.88738e-15
  Final line search alpha, max atom move = 1 1.88738e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021601 | 0.00021601 | 0.00021601 |   0.0 | 83.73
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.4319e-05 | 2.4319e-05 | 2.4319e-05 |   0.0 |  9.43
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.764e-05  |            |       |  6.84

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 2.07681057886359
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.86564076317505
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.86564076330685
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.98596657328398e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.78142876269022e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -6.66599642316082e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 207.681060614858
variable C2neg equal ${d2}
variable C2neg equal 186.564079034474
variable C3neg equal ${d3}
variable C3neg equal 186.564079043386
variable C4neg equal ${d4}
variable C4neg equal 4.03172421041998e-09
variable C5neg equal ${d5}
variable C5neg equal -5.42884848005752e-09
variable C6neg equal ${d6}
variable C6neg equal -3.24458793720166e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841   -1.9360259    -2.076807   -1.8656354   -1.8656354 -7.5768195e-12 -1.3036953e-10 -1.0959904e-10    3.4945357    3.4945322    3.4945322    42.674414 
      69            0   -18.226841   -1.9360259    -2.076807   -1.8656354   -1.8656354 -2.2560004e-11 -7.0043984e-12 -3.7982299e-11    3.4945357    3.4945322    3.4945322    42.674414 
Loop time of 0.000250101 on 1 procs for 1 steps with 4 atoms

85.6% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 6.00032e-14 5.10242e-15
  Force max component initial, final = 2.29955e-14 2.38698e-15
  Final line search alpha, max atom move = 1 2.38698e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020885 | 0.00020885 | 0.00020885 |   0.0 | 83.51
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2888e-05 | 2.2888e-05 | 2.2888e-05 |   0.0 |  9.15
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.836e-05  |            |       |  7.34

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2268413240814
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.93602592718638
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -2.07680700416006
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.86563538879144
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.86563538860763
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.25600041445089e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.00439841791036e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -3.79822993680207e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 207.680697687507
variable C2pos equal ${d2}
variable C2pos equal 186.563536162175
variable C3pos equal ${d3}
variable C3pos equal 186.563536148062
variable C4pos equal ${d4}
variable C4pos equal -6.89949069677873e-09
variable C5pos equal ${d5}
variable C5pos equal 4.34785955915834e-09
variable C6pos equal ${d6}
variable C6pos equal 5.10199169432415e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(207.681060614858+${C1pos})
variable C11 equal 0.5*(207.681060614858+207.680697687507)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(186.564079034474+${C2pos})
variable C21 equal 0.5*(186.564079034474+186.563536162175)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(186.564079043386+${C3pos})
variable C31 equal 0.5*(186.564079043386+186.563536148062)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(4.03172421041998e-09+${C4pos})
variable C41 equal 0.5*(4.03172421041998e-09+-6.89949069677873e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-5.42884848005752e-09+${C5pos})
variable C51 equal 0.5*(-5.42884848005752e-09+4.34785955915834e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-3.24458793720166e-09+${C6pos})
variable C61 equal 0.5*(-3.24458793720166e-09+5.10199169432415e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyy Perturbation
variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.49453218251792
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 -3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50561 3.50562) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841    1.9360307    1.8656408    2.0768106    1.8656408 -3.8773717e-11 -2.0281555e-11 -4.9006464e-11    3.4945322    3.4945287    3.4945322    42.674329 
      69            0   -18.226841    1.9360307    1.8656408    2.0768106    1.8656408 5.3828548e-11 3.4029864e-12 -1.3865338e-11    3.4945322    3.4945287    3.4945322    42.674329 
Loop time of 0.000437021 on 1 procs for 1 steps with 4 atoms

65.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.95507e-14 3.21654e-15
  Force max component initial, final = 2.25098e-14 1.38084e-15
  Final line search alpha, max atom move = 1 1.38084e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00039101 | 0.00039101 | 0.00039101 |   0.0 | 89.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.5272e-05 | 2.5272e-05 | 2.5272e-05 |   0.0 |  5.78
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.074e-05  |            |       |  4.75

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.86564076364031
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 2.07681057924789
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.8656407637233
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 5.3828548237343e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.40298636567714e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.38653376891002e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 186.56407909253
variable C2neg equal ${d2}
variable C2neg equal 207.681060641758
variable C3neg equal ${d3}
variable C3neg equal 186.564079085031
variable C4neg equal ${d4}
variable C4neg equal 9.31118686467078e-09
variable C5neg equal ${d5}
variable C5neg equal -3.30712108079959e-09
variable C6neg equal ${d6}
variable C6neg equal 2.53686354386104e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841   -1.9360259   -1.8656354    -2.076807   -1.8656354 -9.5057639e-11 -5.2037399e-11 3.2911921e-11    3.4945322    3.4945357    3.4945322    42.674414 
      69            0   -18.226841   -1.9360259   -1.8656354    -2.076807   -1.8656354 6.3218181e-12 -5.9765846e-11 -7.9856044e-11    3.4945322    3.4945357    3.4945322    42.674414 
Loop time of 0.000261068 on 1 procs for 1 steps with 4 atoms

91.2% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.91242e-14 5.71977e-15
  Force max component initial, final = 2.09416e-14 2.9976e-15
  Final line search alpha, max atom move = 1 2.9976e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00022006 | 0.00022006 | 0.00022006 |   0.0 | 84.29
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.6226e-05 | 2.6226e-05 | 2.6226e-05 |   0.0 | 10.05
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  5.66

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2268413240814
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.93602592723427
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.86563538875323
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -2.07680700413281
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.86563538881678
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 6.32181811298324e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -5.97658461548563e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -7.98560442612614e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 186.563536146824
variable C2pos equal ${d2}
variable C2pos equal 207.680697696312
variable C3pos equal ${d3}
variable C3pos equal 186.563536168977
variable C4pos equal ${d4}
variable C4pos equal -2.71211620745466e-09
variable C5pos equal ${d5}
variable C5pos equal 9.62400433285293e-09
variable C6pos equal ${d6}
variable C6pos equal 2.21380946857494e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(186.56407909253+${C1pos})
variable C12 equal 0.5*(186.56407909253+186.563536146824)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(207.681060641758+${C2pos})
variable C22 equal 0.5*(207.681060641758+207.680697696312)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(186.564079085031+${C3pos})
variable C32 equal 0.5*(186.564079085031+186.563536168977)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(9.31118686467078e-09+${C4pos})
variable C42 equal 0.5*(9.31118686467078e-09+-2.71211620745466e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-3.30712108079959e-09+${C5pos})
variable C52 equal 0.5*(-3.30712108079959e-09+9.62400433285293e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(2.53686354386104e-09+${C6pos})
variable C62 equal 0.5*(2.53686354386104e-09+2.21380946857494e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uzz Perturbation
variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.49453218251792
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50561) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841    1.9360307    1.8656408    1.8656408    2.0768106 -8.3634827e-11 -1.682158e-10 -8.8088398e-11    3.4945322    3.4945322    3.4945287    42.674329 
      69            0   -18.226841    1.9360307    1.8656408    1.8656408    2.0768106 5.9023343e-11 -3.8990347e-11 -5.0853988e-11    3.4945322    3.4945322    3.4945287    42.674329 
Loop time of 0.000258923 on 1 procs for 1 steps with 4 atoms

95.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 6.16241e-14 4.67762e-15
  Force max component initial, final = 2.24681e-14 2.71658e-15
  Final line search alpha, max atom move = 1 2.71658e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021815 | 0.00021815 | 0.00021815 |   0.0 | 84.25
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.1696e-05 | 2.1696e-05 | 2.1696e-05 |   0.0 |  8.38
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.907e-05  |            |       |  7.37

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.86564076322793
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.86564076315735
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 2.07681057866585
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 5.90233432882372e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.89903472212131e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -5.08539880857657e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 186.564079051292
variable C2neg equal ${d2}
variable C2neg equal 186.564079032704
variable C3neg equal ${d3}
variable C3neg equal 207.681060579286
variable C4neg equal ${d4}
variable C4neg equal 5.61232182500423e-09
variable C5neg equal ${d5}
variable C5neg equal -7.54645443948861e-09
variable C6neg equal ${d6}
variable C6neg equal 3.05634304895046e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841   -1.9360259   -1.8656354   -1.8656354    -2.076807 -3.7804086e-11 -1.2780508e-10 2.0126324e-11    3.4945322    3.4945322    3.4945357    42.674414 
      69            0   -18.226841   -1.9360259   -1.8656354   -1.8656354    -2.076807 1.6118486e-11 4.6296397e-11 7.7765817e-11    3.4945322    3.4945322    3.4945357    42.674414 
Loop time of 0.000258923 on 1 procs for 1 steps with 4 atoms

91.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.83776e-14 1.29537e-15
  Force max component initial, final = 2.12608e-14 9.02056e-16
  Final line search alpha, max atom move = 1 9.02056e-16
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00021815 | 0.00021815 | 0.00021815 |   0.0 | 84.25
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.265e-05  | 2.265e-05  | 2.265e-05  |   0.0 |  8.75
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.812e-05  |            |       |  7.00

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2268413240815
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.93602592716911
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.86563538864439
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.86563538878323
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -2.07680700407971
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.61184864290403e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 4.62963971559515e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 7.7765816983855e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 186.56353613594
variable C2pos equal ${d2}
variable C2pos equal 186.563536161354
variable C3pos equal ${d3}
variable C3pos equal 207.68069769527
variable C4pos equal ${d4}
variable C4pos equal -1.84743023319663e-08
variable C5pos equal ${d5}
variable C5pos equal -9.8221999822785e-10
variable C6pos equal ${d6}
variable C6pos equal 1.23414263696923e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(186.564079051292+${C1pos})
variable C13 equal 0.5*(186.564079051292+186.56353613594)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(186.564079032704+${C2pos})
variable C23 equal 0.5*(186.564079032704+186.563536161354)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(207.681060579286+${C3pos})
variable C33 equal 0.5*(207.681060579286+207.68069769527)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(5.61232182500423e-09+${C4pos})
variable C43 equal 0.5*(5.61232182500423e-09+-1.84743023319663e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(-7.54645443948861e-09+${C5pos})
variable C53 equal 0.5*(-7.54645443948861e-09+-9.8221999822785e-10)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(3.05634304895046e-09+${C6pos})
variable C63 equal 0.5*(3.05634304895046e-09+1.23414263696923e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyz Perturbation
variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.49453218251792
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 -3.49453e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841 4.8117714e-07 -4.955272e-07 3.8469713e-07 1.5543615e-06 -2.0045862e-10 -1.6280587e-10   0.63759828    3.4945322    3.4945322    3.4945322    42.674371 
      69            0   -18.226841 4.8129891e-07 -4.9552315e-07 3.8496015e-07 1.5544597e-06 -6.4202428e-11 -1.1742835e-10   0.63759828    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.000269175 on 1 procs for 1 steps with 4 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.64338e-14 3.85524e-15
  Force max component initial, final = 2.12608e-14 2.08167e-15
  Final line search alpha, max atom move = 1 2.08167e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00022793 | 0.00022793 | 0.00022793 |   0.0 | 84.68
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.2173e-05 | 2.2173e-05 | 2.2173e-05 |   0.0 |  8.24
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.907e-05  |            |       |  7.09

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -4.95523152783874e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 3.84960153770132e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.5544597306685e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -6.42024279298892e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.17428353173976e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.637598276703328

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -4.68238164120283e-05
variable C2neg equal ${d2}
variable C2neg equal 4.12129843234587e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000158158674368386
variable C4neg equal ${d4}
variable C4neg equal 63.7598276810305
variable C5neg equal ${d5}
variable C5neg equal -1.53902550347649e-08
variable C6neg equal ${d6}
variable C6neg equal -9.26623407286218e-09

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 3.49453e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841 4.8152171e-07 -4.9520912e-07 3.8503058e-07 1.5547437e-06 4.2851356e-11 2.4754055e-12  -0.63759828    3.4945322    3.4945322    3.4945322    42.674371 
      69            0   -18.226841 4.817898e-07 -4.9488293e-07 3.8531833e-07 1.554934e-06 1.0030239e-10 1.340296e-10  -0.63759828    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.000251055 on 1 procs for 1 steps with 4 atoms

100.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.43985e-14 6.089e-15
  Force max component initial, final = 2.21906e-14 3.69843e-15
  Final line search alpha, max atom move = 1 3.69843e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.000211   | 0.000211   | 0.000211   |   0.0 | 84.05
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.5034e-05 | 2.5034e-05 | 2.5034e-05 |   0.0 |  9.97
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.502e-05  |            |       |  5.98

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2268413241007
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 4.81789801529157e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -4.94882933667973e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 3.85318331083459e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.55493400717198e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.00302388565126e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.3402959795922e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.637598276666745

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 4.67597945004382e-05
variable C2pos equal ${d2}
variable C2pos equal -4.12488020547914e-05
variable C3pos equal ${d3}
variable C3pos equal -0.000158206102018734
variable C4pos equal ${d4}
variable C4pos equal 63.7598276559768
variable C5pos equal ${d5}
variable C5pos equal -9.7555400785547e-09
variable C6pos equal ${d6}
variable C6pos equal -7.18424757663934e-09

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-4.68238164120283e-05+${C1pos})
variable C14 equal 0.5*(-4.68238164120283e-05+4.67597945004382e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(4.12129843234587e-05+${C2pos})
variable C24 equal 0.5*(4.12129843234587e-05+-4.12488020547914e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(0.000158158674368386+${C3pos})
variable C34 equal 0.5*(0.000158158674368386+-0.000158206102018734)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(63.7598276810305+${C4pos})
variable C44 equal 0.5*(63.7598276810305+63.7598276559768)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-1.53902550347649e-08+${C5pos})
variable C54 equal 0.5*(-1.53902550347649e-08+-9.7555400785547e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-9.26623407286218e-09+${C6pos})
variable C64 equal 0.5*(-9.26623407286218e-09+-7.18424757663934e-09)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxz Perturbation
variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.49453218251792
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -3.49453e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841 4.8153395e-07 3.8515735e-07 -4.9529817e-07 1.5547427e-06 -6.7294777e-11   0.63759828 -1.8925226e-10    3.4945322    3.4945322    3.4945322    42.674371 
      69            0   -18.226841 4.8142773e-07 3.8510544e-07 -4.9548891e-07 1.5546666e-06 2.0167304e-11   0.63759828 -6.8963831e-11    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.000247002 on 1 procs for 1 steps with 4 atoms

91.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.65569e-14 2.55311e-15
  Force max component initial, final = 2.01228e-14 1.8735e-15
  Final line search alpha, max atom move = 1 1.8735e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020695 | 0.00020695 | 0.00020695 |   0.0 | 83.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.5272e-05 | 2.5272e-05 | 2.5272e-05 |   0.0 | 10.23
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  5.98

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.85105444682337e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -4.95488908995764e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.55466664912896e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 2.01673043088711e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.637598276749039
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -6.89638310128916e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 4.12390433345928e-05
variable C2neg equal ${d2}
variable C2neg equal -4.68319219531309e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000158179366214432
variable C4neg equal ${d4}
variable C4neg equal 3.80133753229164e-09
variable C5neg equal ${d5}
variable C5neg equal 63.7598276712565
variable C6neg equal ${d6}
variable C6neg equal -8.2926084898615e-10

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 3.49453e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841 4.8115728e-07 3.8469466e-07 -4.9547988e-07 1.554257e-06 -5.7910242e-11  -0.63759828 -1.5397226e-10    3.4945322    3.4945322    3.4945322    42.674371 
      69            0   -18.226841 4.8132205e-07 3.8497433e-07 -4.9551025e-07 1.5545021e-06 -8.493643e-11  -0.63759828 -3.0325626e-12    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.000247002 on 1 procs for 1 steps with 4 atoms

99.6% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.1952e-14 6.08184e-15
  Force max component initial, final = 1.98175e-14 2.83107e-15
  Final line search alpha, max atom move = 1 2.83107e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.0002079  | 0.0002079  | 0.0002079  |   0.0 | 84.17
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3365e-05 | 2.3365e-05 | 2.3365e-05 |   0.0 |  9.46
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.574e-05  |            |       |  6.37

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2268413241007
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 4.81322047833698e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.84974329855296e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -4.95510254852598e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.5545020684984e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.49364296482545e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.63759827680975
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -3.03256256842658e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -4.12259318518887e-05
variable C2pos equal ${d2}
variable C2pos equal 4.68340565388143e-05
variable C3pos equal ${d3}
variable C3pos equal -0.000158162908151376
variable C4pos equal ${d4}
variable C4pos equal -1.03944643767381e-08
variable C5pos equal ${d5}
variable C5pos equal 63.7598276846224
variable C6pos equal ${d6}
variable C6pos equal 1.13396342446987e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(4.12390433345928e-05+${C1pos})
variable C15 equal 0.5*(4.12390433345928e-05+-4.12259318518887e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-4.68319219531309e-05+${C2pos})
variable C25 equal 0.5*(-4.68319219531309e-05+4.68340565388143e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(0.000158179366214432+${C3pos})
variable C35 equal 0.5*(0.000158179366214432+-0.000158162908151376)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(3.80133753229164e-09+${C4pos})
variable C45 equal 0.5*(3.80133753229164e-09+-1.03944643767381e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(63.7598276712565+${C5pos})
variable C55 equal 0.5*(63.7598276712565+63.7598276846224)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-8.2926084898615e-10+${C6pos})
variable C65 equal 0.5*(-8.2926084898615e-10+1.13396342446987e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxy Perturbation
variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.49453218251792

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (-3.49453e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841 4.8123399e-07 3.8485066e-07 1.5544553e-06 -4.9560399e-07   0.63759828 4.0145328e-11 4.8337826e-13    3.4945322    3.4945322    3.4945322    42.674371 
      69            0   -18.226841 4.8109753e-07 3.8473288e-07 1.5543479e-06 -4.9578816e-07   0.63759828 5.7367841e-11 4.8291015e-11    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.000247002 on 1 procs for 1 steps with 4 atoms

93.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.89833e-14 5.96764e-15
  Force max component initial, final = 2.14689e-14 3.55271e-15
  Final line search alpha, max atom move = 1 3.55271e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020885 | 0.00020885 | 0.00020885 |   0.0 | 84.56
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3365e-05 | 2.3365e-05 | 2.3365e-05 |   0.0 |  9.46
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       |  5.98

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.84732884448831e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.55434786714396e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -4.95788159064455e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.637598276898509
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.73678409232201e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 4.82910148060789e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 4.12017873112422e-05
variable C2neg equal ${d2}
variable C2neg equal 0.000158151755660842
variable C3neg equal ${d3}
variable C3neg equal -4.68661146049091e-05
variable C4neg equal ${d4}
variable C4neg equal 1.55268221141887e-08
variable C5neg equal ${d5}
variable C5neg equal 2.08936437495471e-09
variable C6neg equal ${d6}
variable C6neg equal 63.7598276870049

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (0 -0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/sullberg/repos/pypospack/examples/Ni__eam__born_exp_rose/01_preconditioning_3.5NN/rank_17/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.49453218251792
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 3.49453218251792e-06 remap units box
  triclinic box = (0.0110839 0.0110839 0.0110839) to (3.50562 3.50562 3.50562) with tilt (3.49453e-06 -0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 1 1 1
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.182 | 4.182 | 4.182 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
      68            0   -18.226841 4.8117165e-07 3.8487009e-07 1.5543614e-06 -4.9571649e-07  -0.63759828 -5.1632431e-11 -2.8100559e-11    3.4945322    3.4945322    3.4945322    42.674371 
      69            0   -18.226841 4.8157007e-07 3.8530176e-07 1.5545967e-06 -4.9518829e-07  -0.63759828 2.5128546e-11 3.9576468e-11    3.4945322    3.4945322    3.4945322    42.674371 
Loop time of 0.000246048 on 1 procs for 1 steps with 4 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -18.2268413241     -18.2268413241     -18.2268413241
  Force two-norm initial, final = 5.63461e-14 5.3765e-15
  Force max component initial, final = 2.14828e-14 3.33067e-15
  Final line search alpha, max atom move = 1 3.33067e-15
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00020838 | 0.00020838 | 0.00020838 |   0.0 | 84.69
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.3365e-05 | 2.3365e-05 | 2.3365e-05 |   0.0 |  9.50
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.431e-05  |            |       |  5.81

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    1684 ave 1684 max 1684 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    1060 ave 1060 max 1060 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 1060
Ave neighs/atom = 265
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -18.2268413241007
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 4.81570071975904e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 3.85301757950936e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.55459674767132e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -4.95188289694544e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.63759827684075
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.51285461416636e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.95764679756356e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -4.12586746614527e-05
variable C2pos equal ${d2}
variable C2pos equal -0.000158176643713578
variable C3pos equal ${d3}
variable C3pos equal 4.6806127667918e-05
variable C4pos equal ${d4}
variable C4pos equal -1.46553674311444e-08
variable C5pos equal ${d5}
variable C5pos equal 1.13456510320094e-09
variable C6pos equal ${d6}
variable C6pos equal 63.759827686921

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(4.12017873112422e-05+${C1pos})
variable C16 equal 0.5*(4.12017873112422e-05+-4.12586746614527e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(0.000158151755660842+${C2pos})
variable C26 equal 0.5*(0.000158151755660842+-0.000158176643713578)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-4.68661146049091e-05+${C3pos})
variable C36 equal 0.5*(-4.68661146049091e-05+4.6806127667918e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(1.55268221141887e-08+${C4pos})
variable C46 equal 0.5*(1.55268221141887e-08+-1.46553674311444e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(2.08936437495471e-09+${C5pos})
variable C56 equal 0.5*(2.08936437495471e-09+1.13456510320094e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(63.7598276870049+${C6pos})
variable C66 equal 0.5*(63.7598276870049+63.759827686921)

# Delete dir to make sure it is not reused

variable dir delete

# ---- Output final values
variable C11all equal ${C11}
variable C11all equal 207.680879151183
variable C22all equal ${C22}
variable C22all equal 207.680879169035
variable C33all equal ${C33}
variable C33all equal 207.680879137278
variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(186.563807619677+${C21})
variable C12all equal 0.5*(186.563807619677+186.563807598325)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(186.563807593616+${C31})
variable C13all equal 0.5*(186.563807593616+186.563807595724)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(186.563807597029+${C32})
variable C23all equal 0.5*(186.563807597029+186.563807627004)
variable C44all equal ${C44}
variable C44all equal 63.7598276685036
variable C55all equal ${C55}
variable C55all equal 63.7598276779395
variable C66all equal ${C66}
variable C66all equal 63.759827686963
variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-3.20109557950504e-08+${C41})
variable C14all equal 0.5*(-3.20109557950504e-08+-1.43388324317937e-09)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(6.55574135204927e-09+${C51})
variable C15all equal 0.5*(6.55574135204927e-09+-5.4049446044959e-10)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-2.84436751052478e-08+${C61})
variable C16all equal 0.5*(-2.84436751052478e-08+9.28701878561245e-10)
variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-1.79088656663512e-08+${C42})
variable C24all equal 0.5*(-1.79088656663512e-08+3.29953532860806e-09)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(1.06729284170111e-09+${C52})
variable C25all equal 0.5*(1.06729284170111e-09+3.15844162602667e-09)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-1.24440263680006e-08+${C62})
variable C26all equal 0.5*(-1.24440263680006e-08+2.37533650621799e-09)
variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(-2.37138251740017e-08+${C43})
variable C34all equal 0.5*(-2.37138251740017e-08+-6.43099025348104e-09)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(8.22903152799983e-09+${C53})
variable C35all equal 0.5*(8.22903152799983e-09+-4.26433721885823e-09)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(-2.99934684955517e-08+${C63})
variable C36all equal 0.5*(-2.99934684955517e-08+2.14524284295985e-09)
variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-3.29656342222323e-09+${C54})
variable C45all equal 0.5*(-3.29656342222323e-09+-1.25728975566598e-08)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(4.3572734152215e-10+${C64})
variable C46all equal 0.5*(4.3572734152215e-10+-8.22524082475076e-09)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(1.61196473907783e-09+${C65})
variable C56all equal 0.5*(1.61196473907783e-09+5.25518669785628e-09)

print "c11 = ${C11all} ${cunits}"
c11 = 207.680879151183 GPa
print "c22 = ${C22all} ${cunits}"
c22 = 207.680879169035 GPa
print "c33 = ${C33all} ${cunits}"
c33 = 207.680879137278 GPa
print "c12 = ${C12all} ${cunits}"
c12 = 186.563807609001 GPa
print "c13 = ${C13all} ${cunits}"
c13 = 186.56380759467 GPa
print "c23 = ${C23all} ${cunits}"
c23 = 186.563807612016 GPa
print "c44 = ${C44all} ${cunits}"
c44 = 63.7598276685036 GPa
print "c55 = ${C55all} ${cunits}"
c55 = 63.7598276779395 GPa
print "c66 = ${C66all} ${cunits}"
c66 = 63.759827686963 GPa
print "c14 = ${C14all} ${cunits}"
c14 = -1.67224195191149e-08 GPa
print "c15 = ${C15all} ${cunits}"
c15 = 3.00762344579984e-09 GPa
print "c16 = ${C16all} ${cunits}"
c16 = -1.37574866133433e-08 GPa
print "c24 = ${C24all} ${cunits}"
c24 = -7.30466516887157e-09 GPa
print "c25 = ${C25all} ${cunits}"
c25 = 2.11286723386389e-09 GPa
print "c26 = ${C26all} ${cunits}"
c26 = -5.0343449308913e-09 GPa
print "c34 = ${C34all} ${cunits}"
c34 = -1.50724077137414e-08 GPa
print "c35 = ${C35all} ${cunits}"
c35 = 1.9823471545708e-09 GPa
print "c36 = ${C36all} ${cunits}"
c36 = -1.39241128262959e-08 GPa
print "c45 = ${C45all} ${cunits}"
c45 = -7.93473048944152e-09 GPa
print "c46 = ${C46all} ${cunits}"
c46 = -3.8947567416143e-09 GPa
print "c56 = ${C56all} ${cunits}"
c56 = 3.43357571846706e-09 GPa
print "lammps_sim_done"
lammps_sim_done
Total wall time: 0:00:00
