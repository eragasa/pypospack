LAMMPS (11 Aug 2017)
include init.mod
# ---- init.mod file
variable up equal 1.0e-6
units metal
dimension 3
boundary p p p
atom_style atomic
atom_modify map array
variable cfac equal 1.0e-4
variable cunits string GPa
# ---- define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2
# --- read data structure
read_data lammps.structure
  triclinic box = (0 0 0) to (3.52 3.52 3.52) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no
# ---- Compute initial state
fix 3 all box/relax aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0   -24.066166   -1017245.3   -1017245.3   -1017245.3   -1017245.3 -2.4470557e-11 -3.2627409e-11 3.2627409e-11         3.52         3.52         3.52    43.614208 
       1            0   -24.074465   -1015388.3   -1015388.3   -1015388.3   -1015388.3 -1.7950459e-10 -1.9582319e-10 -2.2030109e-10     3.519648     3.519648     3.519648    43.601125 
       2            0   -24.082747   -1013523.5   -1013523.5   -1013523.5   -1013523.5 -5.7132238e-11            0 6.5293986e-11     3.519296     3.519296     3.519296    43.588045 
       3            0   -24.091012   -1011650.6   -1011650.6   -1011650.6   -1011650.6 -2.4492593e-11 8.1641978e-11 7.347778e-11     3.518944     3.518944     3.518944    43.574967 
       4            0    -24.09926   -1009769.8   -1009769.8   -1009769.8   -1009769.8 -8.1666482e-12 -3.2666593e-11 2.4499945e-11     3.518592     3.518592     3.518592    43.561892 
       5            0   -24.107492   -1007881.1   -1007881.1   -1007881.1   -1007881.1 3.2676399e-11 -2.4507299e-11 -5.7183698e-11      3.51824      3.51824      3.51824    43.548819 
       6            0   -24.115706   -1005984.3   -1005984.3   -1005984.3   -1005984.3 -8.1715522e-12 -5.7200865e-11            0     3.517888     3.517888     3.517888     43.53575 
       7            0   -24.123903   -1004079.5   -1004079.5   -1004079.5   -1004079.5 1.6348011e-11 8.1740056e-12 3.2696022e-11     3.517536     3.517536     3.517536    43.522682 
       8            0   -24.132082   -1002166.7   -1002166.7   -1002166.7   -1002166.7  8.17646e-12  4.08823e-11  8.17646e-12     3.517184     3.517184     3.517184    43.509618 
       9            0   -24.140245   -1000245.8   -1000245.8   -1000245.8   -1000245.8 2.4536746e-11 8.1789154e-12 1.6357831e-11     3.516832     3.516832     3.516832    43.496556 
      10            0    -24.14839    -998316.8    -998316.8    -998316.8    -998316.8 4.0906859e-11 -8.1813718e-12 3.2725487e-11      3.51648      3.51648      3.51648    43.483496 
      11            0   -24.156518    -996379.7    -996379.7    -996379.7    -996379.7 -2.6188253e-10 -2.8643402e-10 -2.2914722e-10     3.516128     3.516128     3.516128    43.470439 
      12            0   -24.164628   -994434.49   -994434.49   -994434.49   -994434.49 3.274515e-11 1.1460802e-10 1.0642174e-10     3.515776     3.515776     3.515776    43.457385 
      13            0   -24.172721   -992481.12   -992481.12   -992481.12   -992481.12 -8.1887468e-12 -5.7321228e-11 -2.456624e-11     3.515424     3.515424     3.515424    43.444334 
      14            0   -24.180796   -990519.58   -990519.58   -990519.58   -990519.58 2.8669225e-10 2.9488346e-10 2.5392742e-10     3.515072     3.515072     3.515072    43.431285 
      15            0   -24.188854   -988549.83   -988549.83   -988549.83   -988549.83 -5.7355679e-11 -8.1936684e-12 -4.0968342e-11      3.51472      3.51472      3.51472    43.418238 
      16            0   -24.196894   -986571.89   -986571.89   -986571.89   -986571.89 -6.5569046e-11 -1.6392261e-11 -8.1961307e-12     3.514368     3.514368     3.514368    43.405195 
      17            0   -24.204916   -984585.72   -984585.72   -984585.72   -984585.72 4.5912126e-10 4.2632689e-10 4.5912126e-10     3.514016     3.514016     3.514016    43.392153 
      18            0   -24.212921   -982591.28   -982591.28   -982591.28   -982591.28            0 -8.2010582e-12 -6.5608466e-11     3.513664     3.513664     3.513664    43.379115 
      19            0   -24.220907   -980588.56   -980588.56   -980588.56   -980588.56 2.5430923e-10 1.8868104e-10 2.6251275e-10     3.513312     3.513312     3.513312    43.366079 
      20            0   -24.228876   -978577.55   -978577.55   -978577.55   -978577.55 2.4617969e-11 -1.6411979e-11 -4.9235938e-11      3.51296      3.51296      3.51296    43.353046 
      21            0   -24.236827   -976558.23   -976558.23   -976558.23   -976558.23 -2.2162834e-10 -2.6267062e-10 -2.6267062e-10     3.512608     3.512608     3.512608    43.340015 
      22            0   -24.244759   -974530.55   -974530.55   -974530.55   -974530.55 -2.4632775e-11            0            0     3.512256     3.512256     3.512256    43.326987 
      23            0   -24.252674   -972494.51   -972494.51   -972494.51   -972494.51 8.2133944e-12 3.2853577e-11 4.1066972e-11     3.511904     3.511904     3.511904    43.313962 
      24            0    -24.26057   -970450.09   -970450.09   -970450.09   -970450.09 -1.6431729e-11 -1.6431729e-11 2.4647594e-11     3.511552     3.511552     3.511552    43.300939 
      25            0   -24.268448   -968397.28   -968397.28   -968397.28   -968397.28 2.4655007e-11 -5.752835e-11 -4.9310014e-11       3.5112       3.5112       3.5112    43.287919 
      26            0   -24.276308   -966336.02   -966336.02   -966336.02   -966336.02 -8.2208079e-12 -8.2208079e-12 6.5766463e-11     3.510848     3.510848     3.510848    43.274901 
      27            0    -24.28415   -964266.31   -964266.31   -964266.31   -964266.31 -1.6446562e-11 -1.6446562e-11 8.2232811e-12     3.510496     3.510496     3.510496    43.261886 
      28            0   -24.291973   -962188.13   -962188.13   -962188.13   -962188.13 4.1128776e-11 5.7580287e-11            0     3.510144     3.510144     3.510144    43.248874 
      29            0   -24.299777   -960101.48   -960101.48   -960101.48   -960101.48 1.6456461e-11 -8.2282304e-12 2.4684691e-11     3.509792     3.509792     3.509792    43.235864 
      30            0   -24.307563   -958006.29   -958006.29   -958006.29   -958006.29 -1.6461413e-11 -6.5845652e-11 8.2307065e-12      3.50944      3.50944      3.50944    43.222857 
      31            0   -24.315331   -955902.56   -955902.56   -955902.56   -955902.56 8.2331837e-12 -2.4699551e-11 -2.4699551e-11     3.509088     3.509088     3.509088    43.209852 
      32            0   -24.323079   -953790.28   -953790.28   -953790.28   -953790.28 2.3059853e-10 2.7177684e-10 2.6354118e-10     3.508736     3.508736     3.508736     43.19685 
      33            0    -24.33081   -951669.43   -951669.43   -951669.43   -951669.43 -8.2381409e-12 5.7666987e-11 4.9428846e-11     3.508384     3.508384     3.508384    43.183851 
      34            0   -24.338521   -949539.96   -949539.96   -949539.96   -949539.96 1.6481242e-11 -1.1536869e-10 -1.1536869e-10     3.508032     3.508032     3.508032    43.170854 
      35            0   -24.346213   -947401.86   -947401.86   -947401.86   -947401.86            0            0 -8.2431022e-12      3.50768      3.50768      3.50768     43.15786 
      36            0   -24.353887   -945255.12   -945255.12   -945255.12   -945255.12 -3.0508662e-10 -2.4736753e-10 -2.8859545e-10     3.507328     3.507328     3.507328    43.144868 
      37            0   -24.361541   -943099.72   -943099.72   -943099.72   -943099.72 2.6393816e-10 1.9795362e-10 2.0620169e-10     3.506976     3.506976     3.506976    43.131879 
      38            0   -24.369177   -940935.62   -940935.62   -940935.62   -940935.62 -3.3002206e-11 8.2505515e-12 -3.3002206e-11     3.506624     3.506624     3.506624    43.118893 
      39            0   -24.376793   -938762.79   -938762.79   -938762.79   -938762.79 -4.6217005e-10 -4.6217005e-10 -4.6217005e-10     3.506272     3.506272     3.506272    43.105909 
      40            0    -24.38439   -936581.24   -936581.24   -936581.24   -936581.24 4.9533136e-11 -4.9533136e-11 -4.9533136e-11      3.50592      3.50592      3.50592    43.092928 
      41            0   -24.391968   -934390.94   -934390.94   -934390.94   -934390.94 -1.651602e-11 -1.651602e-11 8.2580098e-12     3.505568     3.505568     3.505568     43.07995 
      42            0   -24.399527   -932191.84   -932191.84   -932191.84   -932191.84 1.6520996e-11 -1.6520996e-11 -8.2604979e-12     3.505216     3.505216     3.505216    43.066974 
      43            0   -24.407066   -929983.93   -929983.93   -929983.93   -929983.93 -2.4788961e-11            0            0     3.504864     3.504864     3.504864    43.054001 
      44            0   -24.414586    -927767.2    -927767.2    -927767.2    -927767.2 -2.3143336e-10 -2.892917e-10 -2.892917e-10     3.504512     3.504512     3.504512     43.04103 
      45            0   -24.422086   -925541.63   -925541.63   -925541.63   -925541.63 3.3071873e-11 1.6535936e-11 -8.2679682e-12      3.50416      3.50416      3.50416    43.028062 
      46            0   -24.429567   -923307.18   -923307.18   -923307.18   -923307.18 8.2704603e-12 7.4434143e-11 4.1352302e-11     3.503808     3.503808     3.503808    43.015096 
      47            0   -24.437028   -921063.82   -921063.82   -921063.82   -921063.82 8.2729534e-12 4.9637721e-11 5.7910674e-11     3.503456     3.503456     3.503456    43.002133 
      48            0    -24.44447   -918811.55   -918811.55   -918811.55   -918811.55 2.4826343e-11 5.7928133e-11 4.9652685e-11     3.503104     3.503104     3.503104    42.989173 
      49            0   -24.451892   -916550.36   -916550.36   -916550.36   -916550.36            0 -8.2779427e-11 -4.9667656e-11     3.502752     3.502752     3.502752    42.976216 
      50            0   -24.459294   -914280.18   -914280.18   -914280.18   -914280.18 5.7963071e-11 3.3121755e-11 5.7963071e-11       3.5024       3.5024       3.5024     42.96326 
      51            0   -24.466676   -912001.01   -912001.01   -912001.01   -912001.01 -8.2829359e-12 5.7980551e-11 5.7980551e-11     3.502048     3.502048     3.502048    42.950308 
      52            0   -24.474038   -909712.84   -909712.84   -909712.84   -909712.84 2.7341932e-10 2.6513389e-10 2.7341932e-10     3.501696     3.501696     3.501696    42.937358 
      53            0    -24.48138   -907415.65   -907415.65   -907415.65   -907415.65 -5.8015532e-11 5.8015532e-11 -1.6575866e-11     3.501344     3.501344     3.501344    42.924411 
      54            0   -24.488702   -905109.38   -905109.38   -905109.38   -905109.38 -4.97426e-11  2.48713e-11 5.8033033e-11     3.500992     3.500992     3.500992    42.911466 
      55            0   -24.496004   -902794.03   -902794.03   -902794.03   -902794.03 -2.4878803e-11            0            0      3.50064      3.50064      3.50064    42.898524 
      56            0   -24.503286   -900469.59   -900469.59   -900469.59   -900469.59            0 -2.488631e-11 8.2954365e-12     3.500288     3.500288     3.500288    42.885585 
      57            0   -24.510547   -898136.03   -898136.03   -898136.03   -898136.03 2.4893819e-10 3.7340729e-10 3.4021553e-10     3.499936     3.499936     3.499936    42.872648 
      58            0   -24.517788    -895793.3    -895793.3    -895793.3    -895793.3 -3.3201775e-11 8.3004438e-12 3.3201775e-11     3.499584     3.499584     3.499584    42.859714 
      59            0   -24.525009    -893441.4    -893441.4    -893441.4    -893441.4 -3.1551206e-10 -2.8230027e-10 -2.7399732e-10     3.499232     3.499232     3.499232    42.846782 
      60            0   -24.532209    -891080.3    -891080.3    -891080.3    -891080.3            0 -8.3054552e-12 -3.3221821e-11      3.49888      3.49888      3.49888    42.833853 
      61            0   -24.539389      -888710      -888710      -888710      -888710            0 -4.1539812e-11 -4.9847774e-11     3.498528     3.498528     3.498528    42.820927 
      62            0   -24.546548   -886330.44   -886330.44   -886330.44   -886330.44            0 4.1552353e-11 4.1552353e-11     3.498176     3.498176     3.498176    42.808003 
      63            0   -24.553686   -883941.61   -883941.61   -883941.61   -883941.61            0 9.9755757e-11 9.9755757e-11     3.497824     3.497824     3.497824    42.795082 
      64            0   -24.560804   -881543.49   -881543.49   -881543.49   -881543.49 -6.5692371e-10 -6.8187018e-10 -6.8187018e-10     3.497472     3.497472     3.497472    42.782163 
      65            0   -24.567901   -879136.07   -879136.07   -879136.07   -879136.07 3.1608405e-10 3.7431005e-10 3.6599205e-10      3.49712      3.49712      3.49712    42.769247 
      66            0   -24.574977    -876719.3    -876719.3    -876719.3    -876719.3 2.496154e-11 -2.496154e-11 -9.1525648e-11     3.496768     3.496768     3.496768    42.756334 
      67            0   -24.582032   -874293.16   -874293.16   -874293.16   -874293.16 3.2459804e-10 3.1627501e-10 3.5789015e-10     3.496416     3.496416     3.496416    42.743423 
      68            0   -24.589066   -871857.64   -871857.64   -871857.64   -871857.64 1.6651082e-11 -1.1655757e-10 -1.0823203e-10     3.496064     3.496064     3.496064    42.730515 
      69            0   -24.596079   -869412.72   -869412.72   -869412.72   -869412.72 -3.2479419e-10 -2.9148197e-10 -2.9148197e-10     3.495712     3.495712     3.495712    42.717609 
      70            0   -24.603071   -866958.35   -866958.35   -866958.35   -866958.35 2.5824775e-10 2.8323946e-10 3.4988404e-10      3.49536      3.49536      3.49536    42.704706 
      71            0   -24.610042   -864494.52   -864494.52   -864494.52   -864494.52            0 8.3330898e-12 8.3330898e-12     3.495008     3.495008     3.495008    42.691806 
      72            0   -24.616991   -862021.21   -862021.21   -862021.21   -862021.21 -3.2508872e-10 -3.4175993e-10 -2.1672581e-10     3.494656     3.494656     3.494656    42.678908 
      73            0   -24.623919   -859538.41   -859538.41   -859538.41   -859538.41 2.5014382e-11 -1.6676255e-11 -4.1690637e-11     3.494304     3.494304     3.494304    42.666012 
      74            0   -24.630826   -857046.06   -857046.06   -857046.06   -857046.06 -3.5864785e-10 -3.2528526e-10 -3.1694461e-10     3.493952     3.493952     3.493952     42.65312 
      75            0   -24.637711   -854544.15   -854544.15   -854544.15   -854544.15 3.0035409e-10 3.0035409e-10 3.0035409e-10       3.4936       3.4936       3.4936     42.64023 
      76            0   -24.644575   -852032.67   -852032.67   -852032.67   -852032.67 4.1728457e-11 5.0074149e-11 5.841984e-11     3.493248     3.493248     3.493248    42.627342 
      77            0   -24.651417    -849511.6    -849511.6    -849511.6    -849511.6 2.5044645e-11 -4.1741074e-11 -4.1741074e-11     3.492896     3.492896     3.492896    42.614458 
      78            0   -24.658237   -846980.88   -846980.88   -846980.88   -846980.88 1.6701479e-11            0 -8.3507393e-12     3.492544     3.492544     3.492544    42.601575 
      79            0   -24.665036    -844440.5    -844440.5    -844440.5    -844440.5 -7.5179382e-11 -7.5179382e-11 -6.6826118e-11     3.492192     3.492192     3.492192    42.588696 
      80            0   -24.671812   -841890.45   -841890.45   -841890.45   -841890.45 -8.3557911e-12 -3.3423165e-11 -2.5067373e-11      3.49184      3.49184      3.49184    42.575819 
      81            0   -24.678567   -839330.72   -839330.72   -839330.72   -839330.72 2.5074956e-11 -5.0149912e-11 -5.0149912e-11     3.491488     3.491488     3.491488    42.562944 
      82            0     -24.6853   -836761.24   -836761.24   -836761.24   -836761.24 -3.5115558e-10 -3.3443388e-10 -3.3443388e-10     3.491136     3.491136     3.491136    42.550072 
      83            0   -24.692011      -834182      -834182      -834182      -834182 -1.6726753e-11 -3.3453506e-11 -3.3453506e-11     3.490784     3.490784     3.490784    42.537203 
      84            0     -24.6987   -831592.99   -831592.99   -831592.99   -831592.99 -3.3463628e-11 8.3659071e-12            0     3.490432     3.490432     3.490432    42.524336 
      85            0   -24.705366    -828994.2    -828994.2    -828994.2    -828994.2 -1.6736877e-11 2.5105316e-11 2.5105316e-11      3.49008      3.49008      3.49008    42.511472 
      86            0    -24.71201   -826385.57   -826385.57   -826385.57   -826385.57 1.6741942e-11 -1.6741942e-11 -1.6741942e-11     3.489728     3.489728     3.489728    42.498611 
      87            0   -24.718632   -823767.07   -823767.07   -823767.07   -823767.07 -3.0144617e-10 -3.7680772e-10 -3.433137e-10     3.489376     3.489376     3.489376    42.485752 
      88            0   -24.725232   -821138.71   -821138.71   -821138.71   -821138.71            0 3.3504158e-11 6.7008315e-11     3.489024     3.489024     3.489024    42.472896 
      89            0   -24.731809   -818500.46   -818500.46   -818500.46   -818500.46 -1.675715e-11 -8.378575e-12 -4.1892875e-11     3.488672     3.488672     3.488672    42.460042 
      90            0   -24.738364   -815852.27   -815852.27   -815852.27   -815852.27 6.2858338e-10 6.2020227e-10 6.2020227e-10      3.48832      3.48832      3.48832    42.447191 
      91            0   -24.744896   -813194.11   -813194.11   -813194.11   -813194.11 3.3534598e-11 8.3836494e-12 1.6767299e-11     3.487968     3.487968     3.487968    42.434342 
      92            0   -24.751405   -810525.99   -810525.99   -810525.99   -810525.99 -3.6060609e-10 -3.8576465e-10 -3.8576465e-10     3.487616     3.487616     3.487616    42.421496 
      93            0   -24.757892   -807847.89   -807847.89   -807847.89   -807847.89 -1.6777456e-11 -4.1943639e-11 -4.1943639e-11     3.487264     3.487264     3.487264    42.408653 
      94            0   -24.764355   -805159.73   -805159.73   -805159.73   -805159.73 -5.0347611e-11 -5.0347611e-11 -5.873888e-11     3.486912     3.486912     3.486912    42.395812 
      95            0   -24.770796   -802461.52   -802461.52   -802461.52   -802461.52            0 -8.3938104e-12 -8.3938104e-12      3.48656      3.48656      3.48656    42.382974 
      96            0   -24.777214   -799753.24   -799753.24   -799753.24   -799753.24 2.5189059e-11 -1.6792706e-11 2.5189059e-11     3.486208     3.486208     3.486208    42.370139 
      97            0   -24.783609   -797034.86   -797034.86   -797034.86   -797034.86 -3.5275367e-10 -3.2755698e-10 -3.0236029e-10     3.485856     3.485856     3.485856    42.357306 
      98            0   -24.789981   -794306.34   -794306.34   -794306.34   -794306.34 -3.3605767e-11 -3.3605767e-11 -7.5612977e-11     3.485504     3.485504     3.485504    42.344475 
      99            0   -24.796329   -791567.66   -791567.66   -791567.66   -791567.66            0 8.4039878e-12 4.2019939e-11     3.485152     3.485152     3.485152    42.331648 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 3.1944832e-10 3.7829406e-10 -3.4466792e-10       3.4848       3.4848       3.4848    42.318822 
Loop time of 0.00239801 on 1 procs for 100 steps with 4 atoms

83.4% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = max iterations
  Energy initial, next-to-last, final = 
        -24.0661657138     -24.7963294873     -24.8026548719
  Force two-norm initial, final = 47.9627 36.4524
  Force max component initial, final = 27.6913 21.0458
  Final line search alpha, max atom move = 4.73409e-06 9.96326e-05
  Iterations, force evaluations = 100 100

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.00060678 | 0.00060678 | 0.00060678 |   0.0 | 25.30
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00015306 | 0.00015306 | 0.00015306 |   0.0 |  6.38
Output  | 0.0010531  | 0.0010531  | 0.0010531  |   0.0 | 43.92
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0005851  |            |       | 24.40

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal -788818.8054167
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -788818.805416701
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal -788818.805416701
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -3.4466792165857e-10
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal 3.78294060356967e-10
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal 3.19448317634772e-10

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 3.48479999999998
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 3.48479999999998
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 3.48479999999998

 # ---- define the derivatives w.r.t. strain components
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--788818.8054167)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--788818.8054167)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--788818.805416701)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--788818.805416701)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--788818.805416701)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--788818.805416701)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--3.4466792165857e-10)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--3.4466792165857e-10)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-3.78294060356967e-10)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-3.78294060356967e-10)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-3.19448317634772e-10)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-3.19448317634772e-10)/(v_delta/v_len0)*0.0001

# ---- write restart files
unfix 3
write_restart restart.equil
# ---- uxx Perturbation
variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 3.48479999999998
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 -3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802676   -788809.72   -788804.62   -788812.27   -788812.27 6.641169e-10 7.0614962e-10 -3.4466827e-10    3.4847965       3.4848       3.4848     42.31878 
     101            0   -24.802676   -788809.72   -788804.62   -788812.27   -788812.27 -5.8845802e-11 -8.4065431e-11 -3.8670098e-10    3.4847965       3.4848       3.4848     42.31878 
Loop time of 4.19617e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026757071     -24.8026757071     -24.8026757071
  Force two-norm initial, final = 1.69815e-13 5.37166e-14
  Force max component initial, final = 5.90639e-14 2.16493e-14
  Final line search alpha, max atom move = 1 2.16493e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8835e-05 | 1.8835e-05 | 1.8835e-05 |   0.0 | 44.89
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 7.391e-06  | 7.391e-06  | 7.391e-06  |   0.0 | 17.61
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.574e-05  |            |       | 37.50

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788804.61707926
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788812.267442641
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788812.267442641
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -5.88458015679965e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -8.40654308114236e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -3.86700981732548e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 1418.83374400204
variable C2neg equal ${d2}
variable C2neg equal 653.797406004742
variable C3neg equal ${d3}
variable C3neg equal 653.797406004742
variable C4neg equal ${d4}
variable C4neg equal -4.2033060073978e-09
variable C5neg equal ${d5}
variable C5neg equal -4.62359491168391e-08
variable C6neg equal ${d6}
variable C6neg equal -3.78294119202768e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
change_box all x delta 0 ${delta} remap units box
change_box all x delta 0 3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802634   -788827.89   -788832.99   -788825.34   -788825.34 7.5658736e-11 -5.0439158e-11 -4.1191979e-10    3.4848035       3.4848       3.4848    42.318865 
     101            0   -24.802634   -788827.89   -788832.99   -788825.34   -788825.34 8.4065263e-12 -1.6813053e-11 -3.530741e-10    3.4848035       3.4848       3.4848    42.318865 
Loop time of 4.19617e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026340364     -24.8026340364     -24.8026340364
  Force two-norm initial, final = 1.58177e-13 4.81903e-14
  Force max component initial, final = 5.35127e-14 2.08722e-14
  Final line search alpha, max atom move = 1 2.08722e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8835e-05 | 1.8835e-05 | 1.8835e-05 |   0.0 | 44.89
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.0068e-06 | 5.0068e-06 | 5.0068e-06 |   0.0 | 11.93
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.812e-05  |            |       | 43.18

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -24.8026340364124
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -788827.893362339
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788832.993564009
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788825.343261504
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788825.343261504
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 8.40652626807301e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.6813052536146e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -3.53074103259066e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 1418.81473090034
variable C2pos equal ${d2}
variable C2pos equal 653.784480295144
variable C3pos equal ${d3}
variable C3pos equal 653.784480295144
variable C4pos equal ${d4}
variable C4pos equal 8.40618160049596e-10
variable C5pos equal ${d5}
variable C5pos equal 3.95107112893113e-08
variable C6pos equal ${d6}
variable C6pos equal 3.11041791366699e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(1418.83374400204+${C1pos})
variable C11 equal 0.5*(1418.83374400204+1418.81473090034)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(653.797406004742+${C2pos})
variable C21 equal 0.5*(653.797406004742+653.784480295144)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(653.797406004742+${C3pos})
variable C31 equal 0.5*(653.797406004742+653.784480295144)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-4.2033060073978e-09+${C4pos})
variable C41 equal 0.5*(-4.2033060073978e-09+8.40618160049596e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-4.62359491168391e-08+${C5pos})
variable C51 equal 0.5*(-4.62359491168391e-08+3.95107112893113e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-3.78294119202768e-08+${C6pos})
variable C61 equal 0.5*(-3.78294119202768e-08+3.11041791366699e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyy Perturbation
variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.48479999999998
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 -3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802676   -788809.72   -788812.27   -788804.62   -788812.27 -8.4065431e-12 3.698879e-10 -6.641169e-10       3.4848    3.4847965       3.4848     42.31878 
     101            0   -24.802676   -788809.72   -788812.27   -788804.62   -788812.27 -2.5219629e-11 -7.5658888e-11 1.6813086e-11       3.4848    3.4847965       3.4848     42.31878 
Loop time of 4.00543e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026757071     -24.8026757071     -24.8026757071
  Force two-norm initial, final = 1.59023e-13 5.16277e-14
  Force max component initial, final = 5.91749e-14 2.11497e-14
  Final line search alpha, max atom move = 1 2.11497e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9789e-05 | 1.9789e-05 | 1.9789e-05 |   0.0 | 49.40
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.2915e-06 | 4.2915e-06 | 4.2915e-06 |   0.0 | 10.71
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.597e-05  |            |       | 39.88

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788812.267442639
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788804.617079257
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788812.267442639
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -2.52196292434271e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -7.56588877302812e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.68130861622847e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 653.797406097874
variable C2neg equal ${d2}
variable C2neg equal 1418.83374439785
variable C3neg equal ${d3}
variable C3neg equal 653.797406202648
variable C4neg equal ${d4}
variable C4neg equal 3.61481007820855e-08
variable C5neg equal ${d5}
variable C5neg equal -4.53952948087248e-08
variable C6neg equal ${d6}
variable C6neg equal -3.44667946878199e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
change_box all y delta 0 ${delta} remap units box
change_box all y delta 0 3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802634   -788827.89   -788825.34   -788832.99   -788825.34 3.2785452e-10 3.1104147e-10 3.3626105e-11       3.4848    3.4848035       3.4848    42.318865 
     101            0   -24.802634   -788827.89   -788825.34   -788832.99   -788825.34            0 -3.3626105e-11 -4.2032631e-11       3.4848    3.4848035       3.4848    42.318865 
Loop time of 3.91006e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026340364     -24.8026340364     -24.8026340364
  Force two-norm initial, final = 1.49847e-13 5.1921e-14
  Force max component initial, final = 4.86278e-14 2.13718e-14
  Final line search alpha, max atom move = 1 2.13718e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2.0027e-05 | 2.0027e-05 | 2.0027e-05 |   0.0 | 51.22
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.0531e-06 | 4.0531e-06 | 4.0531e-06 |   0.0 | 10.37
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.502e-05  |            |       | 38.41

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -24.8026340364124
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -788827.893362337
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788825.343261502
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788832.993564006
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788825.343261502
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.3626105072292e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -4.2032631340365e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 653.784480202012
variable C2pos equal ${d2}
variable C2pos equal 1418.81473050453
variable C3pos equal ${d3}
variable C3pos equal 653.784480097238
variable C4pos equal ${d4}
variable C4pos equal -3.02635290318205e-08
variable C5pos equal ${d5}
variable C5pos equal 4.11920165429259e-08
variable C6pos equal ${d6}
variable C6pos equal 3.19448317634772e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(653.797406097874+${C1pos})
variable C12 equal 0.5*(653.797406097874+653.784480202012)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(1418.83374439785+${C2pos})
variable C22 equal 0.5*(1418.83374439785+1418.81473050453)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(653.797406202648+${C3pos})
variable C32 equal 0.5*(653.797406202648+653.784480097238)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(3.61481007820855e-08+${C4pos})
variable C42 equal 0.5*(3.61481007820855e-08+-3.02635290318205e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-4.53952948087248e-08+${C5pos})
variable C52 equal 0.5*(-4.53952948087248e-08+4.11920165429259e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-3.44667946878199e-08+${C6pos})
variable C62 equal 0.5*(-3.44667946878199e-08+3.19448317634772e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uzz Perturbation
variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.48479999999998
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802676   -788809.72   -788812.27   -788812.27   -788804.62 3.4466827e-10 9.2471974e-11 -6.7252345e-10       3.4848       3.4848    3.4847965     42.31878 
     101            0   -24.802676   -788809.72   -788812.27   -788812.27   -788804.62 -5.0439258e-11 2.5219629e-11 2.5219629e-11       3.4848       3.4848    3.4847965     42.31878 
Loop time of 3.88622e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026757071     -24.8026757071     -24.8026757071
  Force two-norm initial, final = 1.59487e-13 5.15616e-14
  Force max component initial, final = 5.9619e-14 2.11497e-14
  Final line search alpha, max atom move = 1 2.11497e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8835e-05 | 1.8835e-05 | 1.8835e-05 |   0.0 | 48.47
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.0068e-06 | 5.0068e-06 | 5.0068e-06 |   0.0 | 12.88
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.502e-05  |            |       | 38.65

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788812.267442639
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788812.267442639
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788804.617079257
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -5.04392584868541e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.52196292434271e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 2.52196292434271e-11

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 653.797406097874
variable C2neg equal ${d2}
variable C2neg equal 653.797406202648
variable C3neg equal ${d3}
variable C3neg equal 1418.83374439785
variable C4neg equal ${d4}
variable C4neg equal 3.69887550901997e-08
variable C5neg equal ${d5}
variable C5neg equal -3.5307443111354e-08
variable C6neg equal ${d6}
variable C6neg equal -3.69887576121626e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802634   -788827.89   -788825.34   -788825.34   -788832.99 3.9510673e-10 3.6148063e-10 4.2032631e-11       3.4848       3.4848    3.4848035    42.318865 
     101            0   -24.802634   -788827.89   -788825.34   -788825.34   -788832.99 -1.6813053e-11 1.6813053e-11            0       3.4848       3.4848    3.4848035    42.318865 
Loop time of 3.91006e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026340364     -24.8026340364     -24.8026340364
  Force two-norm initial, final = 1.4946e-13 5.2345e-14
  Force max component initial, final = 4.82947e-14 2.13718e-14
  Final line search alpha, max atom move = 1 2.13718e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2.0027e-05 | 2.0027e-05 | 2.0027e-05 |   0.0 | 51.22
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.0068e-06 | 5.0068e-06 | 5.0068e-06 |   0.0 | 12.80
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.407e-05  |            |       | 35.98

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -24.8026340364124
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -788827.893362337
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788825.343261502
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788825.343261502
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788832.993564006
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.6813052536146e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.6813052536146e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 653.784480202012
variable C2pos equal ${d2}
variable C2pos equal 653.784480097238
variable C3pos equal ${d3}
variable C3pos equal 1418.81473050453
variable C4pos equal ${d4}
variable C4pos equal -3.4466792165857e-08
variable C5pos equal ${d5}
variable C5pos equal 3.61481007820821e-08
variable C6pos equal ${d6}
variable C6pos equal 3.36261370170918e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(653.797406097874+${C1pos})
variable C13 equal 0.5*(653.797406097874+653.784480202012)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(653.797406202648+${C2pos})
variable C23 equal 0.5*(653.797406202648+653.784480097238)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(1418.83374439785+${C3pos})
variable C33 equal 0.5*(1418.83374439785+1418.81473050453)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(3.69887550901997e-08+${C4pos})
variable C43 equal 0.5*(3.69887550901997e-08+-3.4466792165857e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(-3.5307443111354e-08+${C5pos})
variable C53 equal 0.5*(-3.5307443111354e-08+3.61481007820821e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(-3.69887576121626e-08+${C6pos})
variable C63 equal 0.5*(-3.69887576121626e-08+3.36261370170918e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uyz Perturbation
variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.48479999999998
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 -3.4848e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 6.8092931e-10 4.119202e-10    8.1120494       3.4848       3.4848       3.4848    42.318822 
     101            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 -3.3626139e-11 1.6813069e-11    8.1120494       3.4848       3.4848       3.4848    42.318822 
Loop time of 4.00543e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026548718     -24.8026548718     -24.8026548718
  Force two-norm initial, final = 1.52127e-13 5.47874e-14
  Force max component initial, final = 5.92859e-14 2.17604e-14
  Final line search alpha, max atom move = 1 2.17604e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2.0742e-05 | 2.0742e-05 | 2.0742e-05 |   0.0 | 51.79
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.2915e-06 | 4.2915e-06 | 4.2915e-06 |   0.0 | 10.71
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.502e-05  |            |       | 37.50

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788818.805420361
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788818.805374082
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788818.805361684
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.36261386983971e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.68130693491986e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 8.11204943227894

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -0.000366102904081345
variable C2neg equal ${d2}
variable C2neg equal 0.00426190672442317
variable C3neg equal ${d3}
variable C3neg equal 0.00550170661881566
variable C4neg equal ${d4}
variable C4neg equal 811.204943262361
variable C5neg equal ${d5}
variable C5neg equal -3.61480991007768e-08
variable C6neg equal ${d6}
variable C6neg equal -3.53074456333169e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 3.4848e-06)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 3.3626139e-10 3.0263525e-10   -8.1120494       3.4848       3.4848       3.4848    42.318822 
     101            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 1.6813069e-11 3.3626139e-11   -8.1120494       3.4848       3.4848       3.4848    42.318822 
Loop time of 4.1008e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026548718     -24.8026548718     -24.8026548718
  Force two-norm initial, final = 1.46209e-13 4.85807e-14
  Force max component initial, final = 5.40679e-14 2.10942e-14
  Final line search alpha, max atom move = 1 2.10942e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2.1219e-05 | 2.1219e-05 | 2.1219e-05 |   0.0 | 51.74
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.7684e-06 | 4.7684e-06 | 4.7684e-06 |   0.0 | 11.63
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.502e-05  |            |       | 36.63

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -24.8026548718269
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -788818.805385376
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788818.80542036
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788818.805374082
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788818.805361685
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.68130693491986e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.36261386983971e-11
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -8.11204943232097

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 0.0003659981302917
variable C2pos equal ${d2}
variable C2pos equal -0.00426190672442317
variable C3pos equal ${d3}
variable C3pos equal -0.00550160184502602
variable C4pos equal ${d4}
variable C4pos equal 811.20494319763
variable C5pos equal ${d5}
variable C5pos equal 3.4466792165857e-08
variable C6pos equal ${d6}
variable C6pos equal 3.02635248285573e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-0.000366102904081345+${C1pos})
variable C14 equal 0.5*(-0.000366102904081345+0.0003659981302917)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(0.00426190672442317+${C2pos})
variable C24 equal 0.5*(0.00426190672442317+-0.00426190672442317)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(0.00550170661881566+${C3pos})
variable C34 equal 0.5*(0.00550170661881566+-0.00550160184502602)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(811.204943262361+${C4pos})
variable C44 equal 0.5*(811.204943262361+811.20494319763)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-3.61480991007768e-08+${C5pos})
variable C54 equal 0.5*(-3.61480991007768e-08+3.4466792165857e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-3.53074456333169e-08+${C6pos})
variable C64 equal 0.5*(-3.53074456333169e-08+3.02635248285573e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxz Perturbation
variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 3.48479999999998
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 -3.4848e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 -2.5219604e-11    8.1120494 -3.9510713e-10       3.4848       3.4848       3.4848    42.318822 
     101            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 -3.2785485e-10    8.1120494 8.4065347e-12       3.4848       3.4848       3.4848    42.318822 
Loop time of 3.91006e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026548718     -24.8026548718     -24.8026548718
  Force two-norm initial, final = 1.5068e-13 5.863e-14
  Force max component initial, final = 4.93217e-14 2.65343e-14
  Final line search alpha, max atom move = 1 2.65343e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9073e-05 | 1.9073e-05 | 1.9073e-05 |   0.0 | 48.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.722e-06  | 5.722e-06  | 5.722e-06  |   0.0 | 14.63
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.431e-05  |            |       | 36.59

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788818.805374081
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788818.805420361
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788818.805361685
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.27854852309372e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 8.11204943186702
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 8.40653467459928e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.00426189508289099
variable C2neg equal ${d2}
variable C2neg equal -0.0003659981302917
variable C3neg equal ${d3}
variable C3neg equal 0.00550160184502602
variable C4neg equal ${d4}
variable C4neg equal 3.53074456333169e-08
variable C5neg equal ${d5}
variable C5neg equal 811.204943148872
variable C6neg equal ${d6}
variable C6neg equal -6.47303169944144e-08

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 3.4848e-06 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81            0   -8.1120494 -3.7829406e-10       3.4848       3.4848       3.4848    42.318822 
     101            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81 3.3626139e-11   -8.1120494 -8.4065347e-12       3.4848       3.4848       3.4848    42.318822 
Loop time of 3.88622e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026548718     -24.8026548718     -24.8026548718
  Force two-norm initial, final = 1.5068e-13 4.94252e-14
  Force max component initial, final = 4.87388e-14 2.09832e-14
  Final line search alpha, max atom move = 1 2.09832e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9073e-05 | 1.9073e-05 | 1.9073e-05 |   0.0 | 49.08
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.0068e-06 | 5.0068e-06 | 5.0068e-06 |   0.0 | 12.88
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.478e-05  |            |       | 38.04

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -24.8026548718269
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -788818.805385376
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788818.805374082
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788818.805420361
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788818.805361686
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.36261386983971e-11
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -8.11204943258157
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -8.40653467459928e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -0.00426180195063352
variable C2pos equal ${d2}
variable C2pos equal 0.0003659981302917
variable C3pos equal ${d3}
variable C3pos equal -0.00550149707123637
variable C4pos equal ${d4}
variable C4pos equal -3.36261386983971e-08
variable C5pos equal ${d5}
variable C5pos equal 811.204943295986
variable C6pos equal ${d6}
variable C6pos equal 2.85822178936375e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(0.00426189508289099+${C1pos})
variable C15 equal 0.5*(0.00426189508289099+-0.00426180195063352)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-0.0003659981302917+${C2pos})
variable C25 equal 0.5*(-0.0003659981302917+0.0003659981302917)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(0.00550160184502602+${C3pos})
variable C35 equal 0.5*(0.00550160184502602+-0.00550149707123637)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(3.53074456333169e-08+${C4pos})
variable C45 equal 0.5*(3.53074456333169e-08+-3.36261386983971e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(811.204943148872+${C5pos})
variable C55 equal 0.5*(811.204943148872+811.204943295986)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-6.47303169944144e-08+${C6pos})
variable C65 equal 0.5*(-6.47303169944144e-08+2.85822178936375e-08)

# Delete dir to make sure it is not reused

variable dir delete
# ---- uxy Perturbation
variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 3.48479999999998

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (-3.4848e-06 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81    8.1120494 -5.0439208e-11 -3.6148099e-10       3.4848       3.4848       3.4848    42.318822 
     101            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81    8.1120494 -3.2785485e-10 -3.1944832e-10       3.4848       3.4848       3.4848    42.318822 
Loop time of 3.91006e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026548718     -24.8026548718     -24.8026548718
  Force two-norm initial, final = 1.50734e-13 6.14742e-14
  Force max component initial, final = 4.90996e-14 3.15303e-14
  Final line search alpha, max atom move = 1 3.15303e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9073e-05 | 1.9073e-05 | 1.9073e-05 |   0.0 | 48.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.7684e-06 | 4.7684e-06 | 4.7684e-06 |   0.0 | 12.20
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.526e-05  |            |       | 39.02

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788818.805374082
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788818.805361685
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788818.805420361
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 8.11204943189224
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -3.27854852309372e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -3.19448317634772e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.00426180195063352
variable C2neg equal ${d2}
variable C2neg equal 0.00550160184502602
variable C3neg equal ${d3}
variable C3neg equal -0.0003659981302917
variable C4neg equal ${d4}
variable C4neg equal 2.5219604023798e-09
variable C5neg equal ${d5}
variable C5neg equal -7.06148912666339e-08
variable C6neg equal ${d6}
variable C6neg equal 811.204943157279

# Reset box and simulation parameters

clear
read_restart restart.equil remap
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  4 atoms
include potential.mod
mass 1 58.6934

group Ni type 1
4 atoms in group Ni

pair_style eam/alloy
pair_coeff * * /home/eugene/repos/pypospack/tests/tests_integration/pyposmat/PyposmatIterativeSampler/test__eam_Ni/rank_1/Ni_fcc.lmps_elastic/Ni.eam.alloy Ni

neighbor 1.0 bin
neigh_modify every 1 delay 0 check yes
thermo	1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*3.48479999999998
if "${dir} == 1" then    "change_box all x delta 0 ${delta} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 3.48479999999998e-06 remap units box
  triclinic box = (0.0176 0.0176 0.0176) to (3.5024 3.5024 3.5024) with tilt (3.4848e-06 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.916
  ghost atom cutoff = 4.916
  binsize = 2.458, bins = 2 2 2
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair eam/alloy, perpetual
      attributes: half, newton on
      pair build: half/bin/newton/tri
      stencil: half/bin/3d/newton/tri
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.085 | 4.085 | 4.085 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
     100            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81   -8.1120494            0 -3.6148099e-10       3.4848       3.4848       3.4848    42.318822 
     101            0   -24.802655   -788818.81   -788818.81   -788818.81   -788818.81   -8.1120494 -8.4065347e-12 1.6813069e-11       3.4848       3.4848       3.4848    42.318822 
Loop time of 4.00543e-05 on 1 procs for 1 steps with 4 atoms

0.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -24.8026548718     -24.8026548718     -24.8026548718
  Force two-norm initial, final = 1.50587e-13 4.99332e-14
  Force max component initial, final = 4.85167e-14 2.14273e-14
  Final line search alpha, max atom move = 1 2.14273e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9312e-05 | 1.9312e-05 | 1.9312e-05 |   0.0 | 48.21
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.7684e-06 | 4.7684e-06 | 4.7684e-06 |   0.0 | 11.90
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.597e-05  |            |       | 39.88

Nlocal:    4 ave 4 max 4 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    168 ave 168 max 168 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    84 ave 84 max 84 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 84
Ave neighs/atom = 21
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -24.8026548718269
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -788818.805385376
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -788818.805374082
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -788818.805361685
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -788818.805420361
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.1120494326152
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -8.40653467459928e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.68130693491986e-11

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -0.00426180195063352
variable C2pos equal ${d2}
variable C2pos equal -0.00550160184502602
variable C3pos equal ${d3}
variable C3pos equal 0.0003659981302917
variable C4pos equal ${d4}
variable C4pos equal -3.61480991007769e-08
variable C5pos equal ${d5}
variable C5pos equal 3.86700595031566e-08
variable C6pos equal ${d6}
variable C6pos equal 811.204943293465

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(0.00426180195063352+${C1pos})
variable C16 equal 0.5*(0.00426180195063352+-0.00426180195063352)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(0.00550160184502602+${C2pos})
variable C26 equal 0.5*(0.00550160184502602+-0.00550160184502602)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-0.0003659981302917+${C3pos})
variable C36 equal 0.5*(-0.0003659981302917+0.0003659981302917)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(2.5219604023798e-09+${C4pos})
variable C46 equal 0.5*(2.5219604023798e-09+-3.61480991007769e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(-7.06148912666339e-08+${C5pos})
variable C56 equal 0.5*(-7.06148912666339e-08+3.86700595031566e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(811.204943157279+${C6pos})
variable C66 equal 0.5*(811.204943157279+811.204943293465)

# Delete dir to make sure it is not reused

variable dir delete

# ---- Output final values
variable C11all equal ${C11}
variable C11all equal 1418.82423745119
variable C22all equal ${C22}
variable C22all equal 1418.82423745119
variable C33all equal ${C33}
variable C33all equal 1418.82423745119
variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(653.790943149943+${C21})
variable C12all equal 0.5*(653.790943149943+653.790943149943)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(653.790943149943+${C31})
variable C13all equal 0.5*(653.790943149943+653.790943149943)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(653.790943149943+${C32})
variable C23all equal 0.5*(653.790943149943+653.790943149943)
variable C44all equal ${C44}
variable C44all equal 811.204943229995
variable C55all equal ${C55}
variable C55all equal 811.204943222429
variable C66all equal ${C66}
variable C66all equal 811.204943225372
variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-5.23868948225001e-08+${C41})
variable C14all equal 0.5*(-5.23868948225001e-08+-1.6813439236741e-09)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(4.65661287351107e-08+${C51})
variable C15all equal 0.5*(4.65661287351107e-08+-3.3626189137639e-09)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(0+${C61})
variable C16all equal 0.5*(0+-3.36261639180345e-09)
variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(0+${C42})
variable C24all equal 0.5*(0+2.9422858751325e-09)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(0+${C52})
variable C25all equal 0.5*(0+-2.10163913289945e-09)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(0+${C62})
variable C26all equal 0.5*(0+-1.26098146217135e-09)
variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(5.23868948199523e-08+${C43})
variable C34all equal 0.5*(5.23868948199523e-08+1.26098146217135e-09)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(5.23868948247228e-08+${C53})
variable C35all equal 0.5*(5.23868948247228e-08+4.20328835364051e-10)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(0+${C63})
variable C36all equal 0.5*(0+-1.6813102975354e-09)
variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(8.406534674599e-10+${C54})
variable C45all equal 0.5*(8.406534674599e-10+-8.406534674599e-10)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-1.68130693491985e-08+${C64})
variable C46all equal 0.5*(-1.68130693491985e-08+-2.5219604023798e-09)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(-1.59724158817387e-08+${C65})
variable C56all equal 0.5*(-1.59724158817387e-08+-1.80740495503884e-08)

print "c11 = ${C11all} ${cunits}"
c11 = 1418.82423745119 GPa
print "c22 = ${C22all} ${cunits}"
c22 = 1418.82423745119 GPa
print "c33 = ${C33all} ${cunits}"
c33 = 1418.82423745119 GPa
print "c12 = ${C12all} ${cunits}"
c12 = 653.790943149943 GPa
print "c13 = ${C13all} ${cunits}"
c13 = 653.790943149943 GPa
print "c23 = ${C23all} ${cunits}"
c23 = 653.790943149943 GPa
print "c44 = ${C44all} ${cunits}"
c44 = 811.204943229995 GPa
print "c55 = ${C55all} ${cunits}"
c55 = 811.204943222429 GPa
print "c66 = ${C66all} ${cunits}"
c66 = 811.204943225372 GPa
print "c14 = ${C14all} ${cunits}"
c14 = -2.70341193730871e-08 GPa
print "c15 = ${C15all} ${cunits}"
c15 = 2.16017549106734e-08 GPa
print "c16 = ${C16all} ${cunits}"
c16 = -1.68130819590173e-09 GPa
print "c24 = ${C24all} ${cunits}"
c24 = 1.47114293756625e-09 GPa
print "c25 = ${C25all} ${cunits}"
c25 = -1.05081956644972e-09 GPa
print "c26 = ${C26all} ${cunits}"
c26 = -6.30490731085675e-10 GPa
print "c34 = ${C34all} ${cunits}"
c34 = 2.68239381410618e-08 GPa
print "c35 = ${C35all} ${cunits}"
c35 = 2.64036118300434e-08 GPa
print "c36 = ${C36all} ${cunits}"
c36 = -8.406551487677e-10 GPa
print "c45 = ${C45all} ${cunits}"
c45 = 0 GPa
print "c46 = ${C46all} ${cunits}"
c46 = -9.66751487578915e-09 GPa
print "c56 = ${C56all} ${cunits}"
c56 = -1.70232327160635e-08 GPa
print "lammps_sim_done"
lammps_sim_done
Total wall time: 0:00:00
